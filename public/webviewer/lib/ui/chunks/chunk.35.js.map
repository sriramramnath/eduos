{"version":3,"sources":["webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss?bcf1","webpack:///./src/ui/src/components/TextButton/TextButton.js","webpack:///./src/ui/src/components/TextButton/index.js","webpack:///./src/ui/src/constants/dnd.js","webpack:///./src/ui/src/components/PanelListItem/index.js","webpack:///./src/ui/src/components/Outline/Context.js","webpack:///./src/ui/src/components/TextButton/TextButton.scss?9a32","webpack:///./src/ui/src/components/TextButton/TextButton.scss","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.js","webpack:///./src/ui/src/components/OutlineContent/index.js","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss?6565","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss","webpack:///./src/ui/src/components/Outline/Outline.scss?a23f","webpack:///./src/ui/src/components/Outline/Outline.scss","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss?bf1b","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss","webpack:///./src/ui/src/components/Outline/Outline.js","webpack:///./src/ui/src/components/Outline/index.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesDragLayer.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.js","webpack:///./src/ui/src/components/OutlinesPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","propTypes","img","PropTypes","string","label","oneOfType","number","dataElement","onClick","func","ariaLabel","ariaControls","role","disabled","bool","TextButton","props","React","createElement","Button","className","memo","ItemTypes","OUTLINE","PORTFOLIO","DropLocation","ON_TARGET_HORIZONTAL_MIDPOINT","ABOVE_TARGET","BELOW_TARGET","INITIAL","BUFFER_ROOM","PanelListItem","OutlineContext","createContext","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_slicedToArray","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","_extends","assign","arguments","hasOwnProperty","apply","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","Number","_toPrimitive","_toPropertyKey","_objectWithoutProperties","indexOf","_objectWithoutPropertiesLoose","propertyIsEnumerable","Outline","lazy","text","isRequired","outlinePath","isAdding","isExpanded","setIsExpanded","isOutlineRenaming","setOutlineRenaming","isOutlineChangingDest","setOutlineChangingDest","onCancel","textColor","children","array","setMultiSelected","moveOutlineInward","moveOutlineBeforeTarget","moveOutlineAfterTarget","OutlineContent","_ref4","outlineContext","useContext","_ref5","currentDestPage","currentDestText","editingOutlines","setEditingOutlines","isMultiSelectMode","isOutlineEditable","addNewOutline","renameOutline","updateOutlineDest","selectedOutlines","updateOutlines","removeOutlines","outlineScrollParentRef","customizableUI","useSelector","state","selectors","getFeatureFlags","shallowEqual","useTranslation","_useState2","useState","isDefault","setIsDefault","_useState4","outlineText","setOutlineText","inputRef","useRef","isSelected","includes","onAddOutline","trim","onRenameOutline","onCancelOutline","isRenameButtonDisabled","useEffect","current","focus","select","editingOutlinesClone","isOutlineEditing","textStyle","color","handleOnClick","_ref6","_callee","val","_t","_context","menuTypes","RENAME","SETDEST","DELETE","MOVE_UP","MOVE_DOWN","MOVE_LEFT","MOVE_RIGHT","core","setToolMode","outlineUtils","moveOutlineUp","moveOutlineDown","moveOutlineOutward","_next","_throw","_x","flyoutSelector","DataElements","BOOKMARK_OUTLINE_FLYOUT","contentMenuFlyoutOptions","shouldHideDeleteButton","currentFlyout","getFlyout","type","contextMenuMoreButtonOptions","flyoutToggleElement","moreOptionsDataElement","concat","checkboxOptions","id","checked","onChange","target","childOutlines","_useState6","scrollParent","setScrollParent","renderContent","useCallback","outline","key","getOutlineId","virtuosoComponents","useMemo","List","forwardRef","_ref","ref","_ref$className","style","listProps","_excluded","margin","object","Item","_ref2","itemChildren","itemProps","_excluded2","node","Scroller","_ref3","scrollerProps","_excluded3","scrollerStyle","overflowY","overflowX","height","clientHeight","createOutlineVirtuosoComponents","virtuosoScrollParent","renderVirtualizedChildren","Virtuoso","data","computeItemKey","index","components","customScrollParent","itemContent","labelHeader","enableMoreOptionsContextMenuFlyout","onDoubleClick","expanded","setIsExpandedHandler","virtualizedChildrenCount","virtualizedChildrenRenderer","placeholder","aria-label","onKeyDown","stopPropagation","fontStyle","isSubmitType","connectDragSource","connectDragPreview","connectDropTarget","isDragging","isDraggedUpwards","isDraggedDownwards","_outlinesStateMap$out","_outlinesStateMap$out2","outlines","getOutlines","outlinesStateMap","getOutlinesStateMap","_useContext","setActiveOutlinePath","activeOutlinePath","isOutlineActive","setAddingNewOutline","isAddingNewOutline","shouldAutoExpandOutlines","getPath","isOutlineExpanded","isRenaming","setIsRenaming","isChangingDest","setChangingDest","_useState8","undefined","clearSingleClick","setClearSingleClick","dispatch","useDispatch","elementRef","getEmptyImage","captureDraggingState","opacity","useImperativeHandle","getNode","startsWith","shouldExpandOutline","useLayoutEffect","actions","setOutlinesStateMap","rgbObject","rValue","gValue","bValue","onSingleClick","goToOutline","isMobile","closeElement","isActive","DataElementWrapper","classNames","tabIndex","detail","setTimeout","clearTimeout","getName","getChildren","marginLeft","getNestedLevel","OutlineNested","DropTarget","hover","dropTargetMonitor","dropTargetContainer","dragObject","getItem","dragOutline","dragSourceNode","dropOutline","dropTargetNode","contains","dropLocation","dragIndex","hoverIndex","parent","dropTargetBoundingRect","getBoundingClientRect","dropTargetVerticalMiddlePoint","bottom","top","dropTargetClientY","getClientOffset","isOver","shallow","classList","add","remove","fireEvent","Events","DRAG_OUTLINE","targetOutline","draggedOutline","drop","DROP_OUTLINE","connect","dropTargetState","_dropTargetState$getI","_dropTargetState$getI2","dropTarget","DragSource","beginDrag","dragSourceMonitor","dragSourceContainer","sourceId","canDrag","isIE","console","warn","isFullPDFEnabled","dragSourceState","dragSource","dragPreview","layerStyles","position","pointerEvents","zIndex","left","width","getItemStyles","initialOffset","currentOffset","display","x","transform","WebkitTransform","OutlinesDragLayer","_useDragLayer","useDragLayer","dragLayerState","itemType","getItemType","item","getInitialSourceClientOffset","Fragment","renderDragItem","_asyncToGenerator","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","OutlineListItem","setSelectedOutlines","handleSetMultiSelected","path","currentSelected","OutlinesPanel","_ref2$isTest","isTest","isDisabled","isElementDisabled","OUTLINE_PANEL","outlineEditingEnabled","getOutlineEditingEnabled","currentPage","getCurrentPage","pageLabels","getPageLabels","featureFlags","isViewOnly","defaultDestText","areaDestinationText","defaultDestCoord","outlinesNotLoaded","documentLoaded","useDocumentLoadState","setCurrentDestText","currentDestCoord","setCurrentDestCoord","setCurrentDestPage","setIsOutlineEditable","_useState0","_useState10","setIsAddingNewOutline","_useState12","_useState14","isAnyOutlineRenaming","setIsAnyOutlineRenaming","_useState16","setIsMultiSelectMode","_useState18","outlinesPromiseRef","nextPathRef","TOOL_NAME","tool","getTool","panelRef","reject","outlinesPromise","promise","isComplete","onPromiseCompletion","setOutlines","workerType","getType","isSupportedType","workerTypes","PDF","IMAGE","evaluateOutlineEditable","onDocumentLoaded","addEventListener","removeEventListener","isAnyEditing","values","some","onSetDestination","annotation","getCustomData","onOutlinesBookmarksChanged","handlePanelClick","event","getCurrentDestViewerCoord","pageNum","getDocumentViewer","getDocument","getViewerCoordinates","_getCurrentDestViewer","outlineName","doc","pageRotation","tmp","getPageRotation","Core","PageRotation","E_90","E_270","addRootOutline","shouldEndAccessibleReadingOrderMode","clearOutlineDestination","defaultTool","_callee2","_getCurrentDestViewer2","_context2","setOutlineDestination","_x2","generalMoveOutlineAction","moveDirection","dragPath","dropPath","moveOutlineInTarget","_callee3","newName","_context3","setOutlineName","_x3","_x4","_ref7","_callee5","outlinesToRemove","confirmationWarning","_context5","sort","reverse","message","title","confirmBtnText","onConfirm","_onConfirm","_callee4","fullIndex","_context4","deleteOutline","showWarningMessage","_x5","createOutlinesPanelComponents","renderOutlineItem","data-element","OUTLINE_MULTI_SELECT","Spinner","inPanel","Provider","DndProvider","backend","isMobileDevice","TouchBackend","HTML5Backend","_","initialItemCount","OUTLINE_ADD_NEW_BUTTON_CONTAINER","OUTLINE_ADD_NEW_BUTTON"],"mappings":"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","file":"chunks/chunk.35.js","sourcesContent":["var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./bookmarksOutlinesShared.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\n\nimport './TextButton.scss';\n\nconst propTypes = {\n  img: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  dataElement: PropTypes.string,\n  onClick: PropTypes.func,\n  ariaLabel: PropTypes.string,\n  ariaControls: PropTypes.string,\n  role: PropTypes.string,\n  disabled: PropTypes.bool\n};\n\nconst TextButton = (props) => {\n  const {\n    img,\n    dataElement,\n    onClick,\n    label,\n    ariaLabel,\n    ariaControls,\n    role,\n    disabled\n  } = props;\n\n  return (<Button\n    className='TextButton'\n    img={img}\n    label={label}\n    dataElement={dataElement}\n    onClick={onClick}\n    ariaLabel={ariaLabel}\n    ariaControls={ariaControls}\n    role={role}\n    disabled={disabled}\n  />);\n};\n\nTextButton.propTypes = propTypes;\n\nexport default React.memo(TextButton);","import TextButton from './TextButton';\n\nexport default TextButton;","export const ItemTypes = {\n  OUTLINE: 'outline',\n  PORTFOLIO: 'portfolio',\n};\n\nexport const DropLocation = {\n  ON_TARGET_HORIZONTAL_MIDPOINT: 'onTargetHorizontalMidPoint',\n  ABOVE_TARGET: 'aboveTarget',\n  BELOW_TARGET: 'belowTarget',\n  INITIAL: 'initial',\n};\n\nexport const BUFFER_ROOM = 8;","import PanelListItem from './PanelListItem';\n\nexport default PanelListItem;","import React from 'react';\n\nconst OutlineContext = React.createContext();\n\nexport default OutlineContext;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./TextButton.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".TextButton{color:var(--secondary-button-text);width:-moz-fit-content;width:fit-content;padding-inline-start:8px;padding-inline-end:8px}.TextButton .Icon{display:flex;align-items:center}.TextButton svg{color:var(--secondary-button-text);height:14px;width:14px}.TextButton:hover:not(:disabled){box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bookmark-outline-panel{display:flex;padding-inline-start:var(--padding);padding-inline-end:var(--padding-small)}.bookmark-outline-control-button{width:auto}.bookmark-outline-control-button span{color:inherit}.bookmark-outline-control-button,.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{color:var(--secondary-button-text)}.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{opacity:.5}.bookmark-outline-control-button.disabled span,.bookmark-outline-control-button[disabled] span{color:inherit}.bookmark-outline-control-button:not(.disabled):active,.bookmark-outline-control-button:not(.disabled):hover,.bookmark-outline-control-button:not([disabled]):active,.bookmark-outline-control-button:not([disabled]):hover{color:var(--secondary-button-hover)}.bookmark-outline-panel-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;padding:var(--padding-tiny);border-bottom:1px solid var(--divider)}.bookmark-outline-panel-header .header-title{font-size:16px}.bookmark-outline-row{display:flex;flex-direction:column;flex-grow:1;overflow-y:auto}.msg-no-bookmark-outline{color:var(--placeholder-text);text-align:center}.bookmark-outline-single-container{display:flex;flex-flow:row nowrap;align-items:flex-start;border-radius:4px;margin-inline-start:2px;margin-inline-end:2px}.bookmark-outline-single-container.default{padding:var(--padding-tiny);border:1px solid transparent}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:hover,.bookmark-outline-single-container.default[focus-within]{cursor:pointer}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:focus-within,.bookmark-outline-single-container.default:hover{cursor:pointer}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button,.bookmark-outline-single-container.default[focus-within] .bookmark-outline-more-button{display:flex;background-color:transparent}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:focus-within .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button{display:flex;background-color:transparent}.bookmark-outline-single-container.default[focus-within]{border-color:transparent}.bookmark-outline-single-container.default:focus-within{border-color:transparent}.bookmark-outline-single-container.default .bookmark-outline-label-row{overflow:hidden}.bookmark-outline-single-container.default.focus-visible,.bookmark-outline-single-container.default:focus-visible{outline:var(--focus-visible-outline)!important}.bookmark-outline-single-container.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.bookmark-outline-single-container.editing.focus-visible,.bookmark-outline-single-container.editing:focus-visible{outline:var(--focus-visible-outline)!important}.bookmark-outline-single-container.preview{display:inline-flex;margin-top:0;padding:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--note-box-shadow)}.bookmark-outline-single-container .bookmark-outline-checkbox{flex-grow:0;flex-shrink:0;margin-top:2px;margin-bottom:2px;margin-inline-end:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-label-row{flex-grow:1;flex-shrink:1;display:flex;flex-flow:row wrap;align-items:flex-start;position:relative;overflow:hidden}.bookmark-outline-single-container .bookmark-outline-label{font-weight:600;flex-grow:1;flex-shrink:1;margin-bottom:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-input,.bookmark-outline-single-container .bookmark-outline-text{flex-grow:1;flex-shrink:1;flex-basis:calc(100% - 22px);margin-top:2px;margin-bottom:2px}.bookmark-outline-single-container .bookmark-text-input{margin-inline-start:var(--padding-large)}.bookmark-outline-single-container .bookmark-outline-input{color:var(--text-color);width:calc(100% - var(--padding-large));padding:var(--padding-small);border:1px solid var(--border)}.bookmark-outline-single-container .bookmark-outline-input:focus{border-color:var(--outline-color)}.bookmark-outline-single-container .bookmark-outline-input::-moz-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input::placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-more-button{display:none;flex-grow:0;flex-shrink:0;width:16px;height:16px;margin:2px 2px 2px var(--padding-tiny)}.bookmark-outline-single-container .bookmark-outline-more-button .Icon{width:14px;height:14px}.bookmark-outline-single-container .bookmark-outline-more-button.icon-only:hover:not(:disabled):not(.disabled){box-shadow:none;outline:solid 1px var(--hover-border)}.bookmark-outline-single-container .bookmark-outline-more-button[focus-within].icon-only{border:none;box-shadow:none}.bookmark-outline-single-container .bookmark-outline-more-button:focus-within.icon-only{border:none;box-shadow:none}.bookmark-outline-single-container .bookmark-outline-more-button[focus-within] .Icon{color:var(--focus-border)}.bookmark-outline-single-container .bookmark-outline-more-button:focus-within .Icon{color:var(--focus-border)}.bookmark-outline-single-container .bookmark-outline-editing-controls{padding:2px;flex-basis:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center;margin-top:var(--padding-medium)}.bookmark-outline-single-container .bookmark-outline-cancel-button,.bookmark-outline-single-container .bookmark-outline-save-button{width:auto;padding:6px var(--padding)}.bookmark-outline-single-container .bookmark-outline-cancel-button{color:var(--secondary-button-text)}.bookmark-outline-single-container .bookmark-outline-cancel-button:hover{color:var(--secondary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button{color:var(--primary-button-text);background-color:var(--primary-button);margin-inline-start:var(--padding-tiny);border-radius:4px}.bookmark-outline-single-container .bookmark-outline-save-button:hover{background-color:var(--primary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button.disabled,.bookmark-outline-single-container .bookmark-outline-save-button:disabled{background-color:var(--primary-button)!important;opacity:.5}.bookmark-outline-single-container .bookmark-outline-save-button.disabled span,.bookmark-outline-single-container .bookmark-outline-save-button:disabled span{color:var(--primary-button-text)}.bookmark-outline-footer{border-top:1.5px solid var(--gray-4);padding-top:var(--padding-medium);padding-bottom:var(--padding-medium);display:flex;justify-content:center;align-items:center}.bookmark-outline-footer .add-new-button .Icon{width:14px;height:14px;margin-inline-end:var(--padding-tiny);color:inherit;fill:currentColor}.bookmark-outline-footer .add-new-button.disabled .Icon.disabled,.bookmark-outline-footer .add-new-button.disabled .Icon.disabled path,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled path{color:inherit;fill:currentColor}.bookmark-outline-footer .multi-selection-button{width:auto;padding:7px}.bookmark-outline-footer .multi-selection-button .Icon{width:18px;height:18px}.bookmark-outline-footer .multi-selection-button:not(:first-child){margin-inline-start:var(--padding-tiny)}.bookmark-outline-footer .multi-selection-button:hover{background-color:transparent}.bookmark-outline-footer .multi-selection-button.disabled:hover,.bookmark-outline-footer .multi-selection-button:disabled:hover{box-shadow:none}\", \"\"]);\n\n// exports\n","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState, lazy } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport core from 'core';\nimport selectors from 'selectors';\nimport { Virtuoso } from 'react-virtuoso';\nimport Button from '../Button';\nimport TextButton from '../TextButton';\nimport { menuTypes } from 'helpers/outlineFlyoutHelper';\nimport OutlineContext from '../Outline/Context';\nimport './OutlineContent.scss';\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport DataElements from 'constants/dataElement';\nimport PanelListItem from '../PanelListItem';\nimport outlineUtils from 'helpers/OutlineUtils';\n\nconst Outline = lazy(() => import('../Outline'));\n\nexport const createOutlineVirtuosoComponents = (scrollParent) => {\n  const List = React.forwardRef(({ className = '', style, ...listProps }, ref) => (\n    <ul\n      {...listProps}\n      ref={ref}\n      className={className ? `${className} panel-list-children` : 'panel-list-children'}\n      style={{ ...style, margin: 0 }}\n    />\n  ));\n  List.displayName = 'OutlineChildrenList';\n  List.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n  };\n\n  const Item = React.forwardRef(({ children: itemChildren, style, ...itemProps }, ref) => (\n    <li {...itemProps} ref={ref} style={style}>\n      {itemChildren}\n    </li>\n  ));\n  Item.displayName = 'OutlineChildrenItem';\n  Item.propTypes = {\n    children: PropTypes.node,\n    style: PropTypes.object,\n  };\n\n  const Scroller = React.forwardRef(({ style, ...scrollerProps }, ref) => {\n    const scrollerStyle = {\n      ...style,\n      overflowY: 'hidden',\n      overflowX: 'visible',\n    };\n    if (scrollerStyle.height === 0 || scrollerStyle.height === '0px') {\n      scrollerStyle.height = scrollParent?.clientHeight || style?.height || '100%';\n    }\n    return (\n      <div\n        {...scrollerProps}\n        ref={ref}\n        style={scrollerStyle}\n      />\n    );\n  });\n  Scroller.displayName = 'OutlineChildrenScroller';\n  Scroller.propTypes = {\n    style: PropTypes.object,\n  };\n\n  return { List, Item, Scroller };\n};\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  outlinePath: PropTypes.string,\n  isAdding: PropTypes.bool,\n  isExpanded: PropTypes.bool,\n  setIsExpanded: PropTypes.func,\n  isOutlineRenaming: PropTypes.bool,\n  setOutlineRenaming: PropTypes.func,\n  isOutlineChangingDest: PropTypes.bool,\n  setOutlineChangingDest: PropTypes.func,\n  onCancel: PropTypes.func,\n  textColor: PropTypes.string,\n  children: PropTypes.array,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func,\n  moveOutlineBeforeTarget: PropTypes.func,\n  moveOutlineAfterTarget: PropTypes.func,\n};\n\nconst OutlineContent = ({\n  text,\n  outlinePath,\n  isAdding,\n  isExpanded,\n  setIsExpanded,\n  isOutlineRenaming,\n  setOutlineRenaming,\n  isOutlineChangingDest,\n  setOutlineChangingDest,\n  onCancel,\n  textColor,\n  children,\n  setMultiSelected,\n  moveOutlineInward,\n  moveOutlineBeforeTarget,\n  moveOutlineAfterTarget\n}) => {\n  const outlineContext = useContext(OutlineContext);\n\n  const {\n    currentDestPage,\n    currentDestText,\n    editingOutlines,\n    setEditingOutlines,\n    isMultiSelectMode,\n    isOutlineEditable,\n    addNewOutline,\n    renameOutline,\n    updateOutlineDest,\n    selectedOutlines,\n    updateOutlines,\n    removeOutlines,\n  } = outlineContext || {};\n\n  const outlineScrollParentRef = outlineContext?.outlineScrollParentRef;\n\n  const featureFlags = useSelector((state) => selectors.getFeatureFlags(state), shallowEqual);\n  const customizableUI = featureFlags.customizableUI;\n\n  const [t] = useTranslation();\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n\n  const [isDefault, setIsDefault] = useState(false);\n  const [outlineText, setOutlineText] = useState(text);\n  const inputRef = useRef();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddOutline();\n      }\n      if (isOutlineRenaming && !isRenameButtonDisabled()) {\n        onRenameOutline();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelOutline();\n    }\n  };\n\n  const isSelected = selectedOutlines?.includes(outlinePath) || false;\n\n  const onAddOutline = () => {\n    addNewOutline(outlineText.trim() === '' ? '' : outlineText);\n  };\n\n  const onRenameOutline = () => {\n    setOutlineRenaming(false);\n    renameOutline(outlinePath, outlineText);\n  };\n\n  const onCancelOutline = () => {\n    updateOutlines();\n    if (isOutlineRenaming) {\n      setOutlineRenaming(false);\n      setOutlineText(text);\n    }\n    if (isOutlineChangingDest) {\n      setOutlineChangingDest(false);\n    }\n    if (isAdding) {\n      onCancel();\n    }\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !outlineText || text === outlineText;\n  };\n\n  useEffect(() => {\n    if (outlineText !== text) {\n      setOutlineText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isOutlineRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isOutlineRenaming && !isOutlineChangingDest);\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    const editingOutlinesClone = { ...editingOutlines };\n    const isOutlineEditing = isOutlineRenaming || isOutlineChangingDest;\n    if (isOutlineEditing) {\n      editingOutlinesClone[outlinePath] = (isOutlineEditing);\n    } else {\n      delete editingOutlinesClone[outlinePath];\n    }\n    setEditingOutlines({ ...editingOutlinesClone });\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  const textStyle = {\n    color: textColor || 'auto'\n  };\n\n  const handleOnClick = async (val) => {\n    switch (val) {\n      case menuTypes.RENAME:\n        setOutlineRenaming(true);\n        break;\n      case menuTypes.SETDEST:\n        setOutlineChangingDest(true);\n        core.setToolMode(TOOL_NAME);\n        break;\n      case menuTypes.DELETE:\n        removeOutlines([outlinePath]);\n        break;\n      case menuTypes.MOVE_UP: {\n        await outlineUtils.moveOutlineUp(outlinePath);\n        updateOutlines();\n        break;\n      }\n      case menuTypes.MOVE_DOWN: {\n        await outlineUtils.moveOutlineDown(outlinePath);\n        updateOutlines();\n        break;\n      }\n      case menuTypes.MOVE_LEFT: {\n        await outlineUtils.moveOutlineOutward(outlinePath);\n        updateOutlines();\n        break;\n      }\n      case menuTypes.MOVE_RIGHT: {\n        await outlineUtils.moveOutlineInward(outlinePath);\n        updateOutlines();\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  const flyoutSelector = DataElements.BOOKMARK_OUTLINE_FLYOUT;\n  const currentFlyout = useSelector((state) => selectors.getFlyout(state, flyoutSelector));\n  const type = 'outline';\n\n  const contentMenuFlyoutOptions = {\n    shouldHideDeleteButton: false,\n    currentFlyout: currentFlyout,\n    flyoutSelector: flyoutSelector,\n    type: type,\n    handleOnClick: handleOnClick\n  };\n\n  const contextMenuMoreButtonOptions = {\n    flyoutToggleElement: 'bookmarkOutlineFlyout',\n    moreOptionsDataElement: `outline-more-button-${outlinePath}`,\n  };\n\n  const checkboxOptions = {\n    id:`outline-checkbox-${outlinePath}`,\n    checked: isSelected,\n    onChange: (e) => {\n      setMultiSelected(outlinePath, e.target.checked);\n    },\n    ariaLabel: text,\n    disabled: !isMultiSelectMode\n  };\n\n  const onDoubleClick = () => {\n    if (isOutlineEditable) {\n      setOutlineRenaming(true);\n    }\n  };\n\n  const childOutlines = Array.isArray(children) ? children : [];\n  const [scrollParent, setScrollParent] = useState(null);\n\n  useEffect(() => {\n    if (outlineScrollParentRef?.current) {\n      setScrollParent(outlineScrollParentRef.current);\n    }\n  }, [outlineScrollParentRef]);\n\n  const renderContent = useCallback((outline) => (\n    <Outline\n      key={outlineUtils.getOutlineId(outline)}\n      outline={outline}\n      setMultiSelected={setMultiSelected}\n      moveOutlineInward={moveOutlineInward}\n      moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n      moveOutlineAfterTarget={moveOutlineAfterTarget}\n    />\n  ), [moveOutlineAfterTarget, moveOutlineBeforeTarget, moveOutlineInward, setMultiSelected]);\n\n  const virtuosoComponents = useMemo(\n    () => createOutlineVirtuosoComponents(scrollParent),\n    [scrollParent]\n  );\n\n  const virtuosoScrollParent = scrollParent ?? null;\n\n  const renderVirtualizedChildren = useCallback(() => (\n    <Virtuoso\n      data={childOutlines}\n      computeItemKey={(index, outline) => outlineUtils.getOutlineId(outline)}\n      components={virtuosoComponents}\n      {...(virtuosoScrollParent ? { customScrollParent: virtuosoScrollParent } : {})}\n      itemContent={(index, outline) => renderContent(outline)}\n    />\n  ), [childOutlines, renderContent, virtuosoComponents, virtuosoScrollParent]);\n\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.newOutlineTitle')}\n        </div>\n      }\n      {isOutlineRenaming &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.outlineTitle')}\n        </div>\n      }\n\n      {isDefault &&\n        <PanelListItem\n          key={outlinePath}\n          labelHeader={text}\n          textColor={textColor}\n          enableMoreOptionsContextMenuFlyout={isOutlineEditable}\n          onDoubleClick={onDoubleClick}\n          checkboxOptions={checkboxOptions}\n          contentMenuFlyoutOptions={contentMenuFlyoutOptions}\n          contextMenuMoreButtonOptions={contextMenuMoreButtonOptions}\n          expanded={isExpanded}\n          setIsExpandedHandler={setIsExpanded}\n          virtualizedChildrenCount={childOutlines.length}\n          virtualizedChildrenRenderer={childOutlines.length ? renderVirtualizedChildren : null}\n        >\n          {!childOutlines.length && null}\n        </PanelListItem>\n      }\n\n      {isOutlineChangingDest &&\n        <div\n          className=\"bookmark-outline-text outline-text\"\n          style={textStyle}\n        >\n          {text}\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming) &&\n        <input\n          type=\"text\"\n          name=\"outline\"\n          ref={inputRef}\n          className=\"bookmark-outline-input\"\n          placeholder={customizableUI ? '' : t('component.outlineTitle')}\n          aria-label={t('component.newOutlineTitle')}\n          value={outlineText}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => setOutlineText(e.target.value)}\n        />\n      }\n\n      {(isAdding || isOutlineChangingDest) &&\n        <div className=\"outline-destination\">\n          {t('component.destination')}: {t('component.bookmarkPage')} {currentDestPage},\n          <span style={{ fontStyle: 'italic' }}> {currentDestText}</span>\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming || isOutlineChangingDest) &&\n        <div className=\"bookmark-outline-editing-controls\">\n          <TextButton\n            className=\"bookmark-outline-cancel-button\"\n            label={t('action.cancel')}\n            ariaLabel={`${t('action.cancel')} ${t('component.outlineTitle')}`}\n            onClick={onCancelOutline}\n          />\n          {isAdding &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.add')}\n              isSubmitType={true}\n              onClick={onAddOutline}\n            />\n          }\n          {isOutlineRenaming &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              disabled={isRenameButtonDisabled()}\n              onClick={onRenameOutline}\n            />\n          }\n          {isOutlineChangingDest &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              onClick={() => {\n                setOutlineChangingDest(false);\n                updateOutlineDest(outlinePath);\n              }}\n            />\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nOutlineContent.propTypes = propTypes;\n\nexport default OutlineContent;\n","import OutlineContent from './OutlineContent';\n\nexport default OutlineContent;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}.bookmark-outline-label-row .ToggleElementButton .Button{padding:0;min-width:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Outline.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-inline-end:var(--padding-small);margin-top:2px;margin-bottom:2px;min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:16px;height:16px}.outline-drag-line{margin-inline-start:var(--padding);margin-inline-end:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:\\\"\\\";display:block;position:absolute;width:5px;height:5px;inset-block-start:-3px;inset-inline-start:0;background-color:var(--focus-border);border-radius:50%}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlinesPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel{margin:16px;padding:0;overflow-y:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel{margin:16px;padding:0;overflow-y:auto}}.OutlinesPanel .bookmark-outline-single-container:not(.editing){height:-moz-fit-content;height:fit-content}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}.OutlinesPanel .spinner{align-self:center}.OutlinesPanel .small-outlines-list{flex:1 1 auto}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .panel-list-label-header .Button{width:-moz-fit-content;width:fit-content;height:100%;padding:0 8px;justify-content:start}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .panel-list-label-header .Button:hover{cursor:pointer;border:none;border-radius:4px;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .panel-list-label-header .Button:focus{border-radius:4px;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6);background-color:var(--faded-component-background)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.active{display:flex}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.active .Icon{color:var(--blue-5)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default.hover:not(.selected),.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default:hover:not(.selected){background:none}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.focus-visible,.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container:focus-visible{outline:var(--focus-visible-outline)!important}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input{font-size:13px}}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input:active{border-color:var(--focus-border)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-cancel-button,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-control-button,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OutlinesPanel .bookmark-outline-save-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-cancel-button,.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-control-button,.App.is-web-component:not(.is-in-desktop-only-mode) .OutlinesPanel .bookmark-outline-save-button{font-size:13px}}.Panel.OutlinesPanel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState, useCallback, useContext, useEffect, useLayoutEffect, forwardRef, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport Events from 'constants/events';\nimport fireEvent from 'helpers/fireEvent';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { isMobile, isIE } from 'helpers/device';\nimport OutlineContext from './Context';\nimport OutlineContent from 'src/components/OutlineContent';\nimport DataElementWrapper from '../DataElementWrapper';\n\nimport './Outline.scss';\nimport '../../constants/bookmarksOutlinesShared.scss';\n\nconst propTypes = {\n  outline: PropTypes.object.isRequired,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nexport const shouldExpandOutline = (activeOutlinePath, outlinePath) => {\n  return activeOutlinePath !== null\n    && activeOutlinePath !== outlinePath\n    && activeOutlinePath.startsWith(`${outlinePath}-`);\n};\n\nconst Outline = forwardRef(\n  function Outline(\n    {\n      outline,\n      setMultiSelected,\n      isDragging,\n      isDraggedUpwards,\n      isDraggedDownwards,\n      connectDragSource,\n      connectDragPreview,\n      connectDropTarget,\n      moveOutlineInward,\n      moveOutlineBeforeTarget,\n      moveOutlineAfterTarget\n    },\n    ref\n  ) {\n    const outlines = useSelector((state) => selectors.getOutlines(state));\n    const outlinesStateMap = useSelector(selectors.getOutlinesStateMap, shallowEqual);\n\n    const {\n      setActiveOutlinePath,\n      activeOutlinePath,\n      isOutlineActive,\n      setAddingNewOutline,\n      isAddingNewOutline,\n      isMultiSelectMode,\n      shouldAutoExpandOutlines,\n      isOutlineEditable,\n      updateOutlines,\n    } = useContext(OutlineContext);\n\n    const outlinePath = outlineUtils.getPath(outline);\n    const isOutlineExpanded = outlinesStateMap[outlinePath]?.isExpanded || false;\n    const isOutlineRenaming = outlinesStateMap[outlinePath]?.isRenaming || false;\n\n    const [isExpanded, setIsExpanded] = useState(shouldAutoExpandOutlines || isOutlineExpanded);\n    const [isRenaming, setIsRenaming] = useState(isOutlineRenaming);\n    const [isChangingDest, setChangingDest] = useState(false);\n    const [clearSingleClick, setClearSingleClick] = useState(undefined);\n\n    const dispatch = useDispatch();\n\n    const elementRef = useRef(null);\n    connectDragSource(elementRef);\n    connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n    connectDropTarget(elementRef);\n    const opacity = isDragging ? 0.5 : 1;\n    useImperativeHandle(ref, () => ({\n      getNode: () => elementRef.current,\n    }));\n\n    useEffect(() => {\n      if (shouldExpandOutline(activeOutlinePath, outlinePath) || isOutlineExpanded) {\n        setIsExpanded(true);\n      }\n    }, [activeOutlinePath, isAddingNewOutline, outlinePath]);\n\n    useLayoutEffect(() => {\n      setIsExpanded(shouldAutoExpandOutlines);\n    }, [shouldAutoExpandOutlines]);\n\n    useLayoutEffect(() => {\n      setIsRenaming(isOutlineRenaming);\n      setChangingDest(false);\n\n      if (isAddingNewOutline && activeOutlinePath === outlinePath) {\n        setIsExpanded(true);\n      }\n    }, [outlines]);\n\n    useEffect(() => {\n      const isExpandedStateUpdated = isExpanded === isOutlineExpanded;\n      if (isExpandedStateUpdated) {\n        return;\n      }\n\n      dispatch(actions.setOutlinesStateMap(outlinePath, { isExpanded }));\n    }, [isExpanded]);\n\n    useEffect(() => {\n      const isRenamingStateUpdated = isRenaming === isOutlineRenaming;\n      if (isRenamingStateUpdated) {\n        return;\n      }\n\n      dispatch(actions.setOutlinesStateMap(outlinePath, { isRenaming }));\n    }, [isRenaming]);\n\n    const onSingleClick = useCallback(() => {\n      core.goToOutline(outline);\n\n      outlinePath === activeOutlinePath\n        ? setActiveOutlinePath(null)\n        : setActiveOutlinePath(outlinePath);\n\n\n      if (isAddingNewOutline) {\n        setAddingNewOutline(false);\n        updateOutlines();\n      }\n\n      if (isMobile()) {\n        dispatch(actions.closeElement('leftPanel'));\n      }\n    }, [dispatch, setActiveOutlinePath, activeOutlinePath, isAddingNewOutline, outline]);\n\n    const isActive = isOutlineActive(outline);\n\n    const convertRgbObjectToRgbString = (rgbObject) => {\n      const rValue = rgbObject['r'] * 255;\n      const gValue = rgbObject['g'] * 255;\n      const bValue = rgbObject['b'] * 255;\n      return `rgb(${rValue}, ${gValue}, ${bValue})`;\n    };\n\n    return (\n      <div\n        ref={(!isAddingNewOutline && isMultiSelectMode && isOutlineEditable) ? elementRef : null}\n        className=\"outline-drag-container\"\n        style={{ opacity }}\n      >\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n        <DataElementWrapper\n          className={classNames({\n            'bookmark-outline-single-container': true,\n            'editing': isRenaming || isChangingDest,\n            'default': !isRenaming && !isChangingDest,\n            'selected': isActive,\n          })}\n          tabIndex={0}\n          onKeyDown={(e) => {\n            e.key === 'Enter' && onSingleClick();\n            e.stopPropagation();\n          }}\n          onClick={(e) => {\n            e.stopPropagation();\n            if (!isRenaming && !isChangingDest && e.detail === 1) {\n              setClearSingleClick(setTimeout(onSingleClick, 300));\n            }\n          }}\n          onDoubleClick={() => {\n            if (!isRenaming && !isChangingDest) {\n              clearTimeout(clearSingleClick);\n            }\n          }}\n        >\n          <OutlineContent\n            text={outline.getName()}\n            outlinePath={outlinePath}\n            isOutlineRenaming={isRenaming}\n            setOutlineRenaming={setIsRenaming}\n            isOutlineChangingDest={isChangingDest}\n            setOutlineChangingDest={setChangingDest}\n            textColor={outline.color ? convertRgbObjectToRgbString(outline.color) : null}\n            setMultiSelected={setMultiSelected}\n            isExpanded={isExpanded}\n            setIsExpanded={setIsExpanded}\n            moveOutlineInward={moveOutlineInward}\n            moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n            moveOutlineAfterTarget={moveOutlineAfterTarget}\n          >\n            {outline.getChildren()}\n          </OutlineContent>\n        </DataElementWrapper>\n\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n        {isAddingNewOutline && isActive && (\n          <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n            <div\n              className=\"outline-treeview-toggle\"\n              style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n            ></div>\n            <OutlineContent\n              isAdding={true}\n              text={''}\n              onCancel={() => setAddingNewOutline(false)}\n            />\n          </DataElementWrapper>\n        )}\n      </div>\n    );\n  }\n);\n\nOutline.propTypes = propTypes;\n\nconst OutlineNested = DropTarget(\n  ItemTypes.OUTLINE,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragOutline, dragSourceNode } = dragObject;\n      const { outline: dropOutline } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const outlineIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (outlineIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragIndex = dragOutline.index;\n      const hoverIndex = dropOutline.index;\n      if (dragOutline.parent === dropOutline.parent && dragIndex === hoverIndex) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.bottom - dropTargetBoundingRect.top) / 2;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y - dropTargetBoundingRect.top;\n      switch (true) {\n        case dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint + BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n      fireEvent(Events.DRAG_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragObject.dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragOutline, dropTargetNode } = dragObject;\n      const { outline: dropOutline, moveOutlineInward, moveOutlineBeforeTarget, moveOutlineAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          moveOutlineInward(dragOutline, dropOutline);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          moveOutlineBeforeTarget(dragOutline, dropOutline);\n          break;\n        case DropLocation.BELOW_TARGET:\n          moveOutlineAfterTarget(dragOutline, dropOutline);\n          break;\n        default:\n          break;\n      }\n\n      dropTargetNode.classList.remove('isNesting');\n      fireEvent(Events.DROP_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.OUTLINE,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragOutline: props.outline,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag() {\n      if (isIE) {\n        console.warn('Drag and drop outlines for IE11 is not supported');\n        return false;\n      }\n      if (!core.isFullPDFEnabled()) {\n        console.warn('Full API must be enabled to drag and drop outlines');\n        return false;\n      }\n      return true;\n    }\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(Outline));\n\nOutlineNested.propTypes = propTypes;\n\nexport default OutlineNested;\n","import Outline from './Outline';\n\nexport default Outline;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const OutlinesDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItem = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragOutline } = item;\n\n    switch (itemType) {\n      case ItemTypes.OUTLINE:\n        return (\n          <>\n            {dragOutline.getName()}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useLayoutEffect, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\nimport Outline from 'components/Outline';\nimport OutlineContext from 'components/Outline/Context';\nimport Button from 'components/Button';\nimport TextButton from '../TextButton';\nimport OutlineContent from 'components/OutlineContent';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport PropTypes from 'prop-types';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { shouldEndAccessibleReadingOrderMode } from 'helpers/accessibility';\nimport DataElements from 'constants/dataElement';\nimport defaultTool from 'constants/defaultTool';\nimport { workerTypes } from 'constants/types';\nimport getType from 'core/getType';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './OutlinesPanel.scss';\nimport { OutlinesDragLayer } from './OutlinesDragLayer';\nimport classNames from 'classnames';\nimport { Virtuoso } from 'react-virtuoso';\nimport Spinner from 'components/Spinner';\nimport useDocumentLoadState from 'hooks/useDocumentLoadState';\n\nconst createOutlinesPanelComponents = (outlineScrollParentRef) => {\n  const Scroller = React.forwardRef((props, ref) => {\n    const setRef = (node) => {\n      outlineScrollParentRef.current = node;\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    };\n    return <div {...props} ref={setRef} />;\n  });\n  Scroller.displayName = 'OutlinesPanelScroller';\n\n  return { Scroller };\n};\n\nconst OutlineListItem = React.memo(({\n  outline,\n  setSelectedOutlines,\n  moveOutlineInward,\n  moveOutlineBeforeTarget,\n  moveOutlineAfterTarget,\n}) => {\n  const handleSetMultiSelected = useCallback((path, value) => {\n    setSelectedOutlines((currentSelected) => {\n      const isSelected = currentSelected.includes(path);\n\n      if (isSelected && !value) {\n        return currentSelected.filter((outlinePath) => outlinePath !== path);\n      }\n\n      if (!isSelected && value) {\n        return [...currentSelected, path];\n      }\n\n      return currentSelected;\n    });\n  }, [setSelectedOutlines]);\n\n  return (\n    <Outline\n      outline={outline}\n      setMultiSelected={handleSetMultiSelected}\n      moveOutlineInward={moveOutlineInward}\n      moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n      moveOutlineAfterTarget={moveOutlineAfterTarget}\n    />\n  );\n});\n\nOutlineListItem.displayName = 'OutlineListItem';\nOutlineListItem.propTypes = {\n  outline: Outline.propTypes.outline,\n  setSelectedOutlines: PropTypes.func.isRequired,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n};\n\nconst OutlinesPanel = ({ isTest = false }) => {\n  const isDisabled = useSelector((state) => selectors.isElementDisabled(state, DataElements.OUTLINE_PANEL));\n  const outlines = useSelector(selectors.getOutlines, shallowEqual);\n  const outlineEditingEnabled = useSelector(selectors.getOutlineEditingEnabled);\n  const shouldAutoExpandOutlines = useSelector(selectors.shouldAutoExpandOutlines);\n  const currentPage = useSelector(selectors.getCurrentPage);\n  const pageLabels = useSelector(selectors.getPageLabels, shallowEqual);\n  const featureFlags = useSelector(selectors.getFeatureFlags, shallowEqual);\n  const isViewOnly = useSelector(selectors.isViewOnly);\n\n  const defaultDestText = 'Full Page';\n  const areaDestinationText = 'Area Selection';\n  const defaultDestCoord = { x: 0, y: 0 };\n  const outlinesNotLoaded = outlines === null;\n\n  const documentLoaded = useDocumentLoadState();\n  const [currentDestText, setCurrentDestText] = useState(defaultDestText);\n  const [currentDestCoord, setCurrentDestCoord] = useState(defaultDestCoord);\n  const [currentDestPage, setCurrentDestPage] = useState(currentPage);\n  const [isOutlineEditable, setIsOutlineEditable] = useState(false);\n  const [activeOutlinePath, setActiveOutlinePath] = useState(null);\n  const [isAddingNewOutline, setIsAddingNewOutline] = useState(false);\n  const [editingOutlines, setEditingOutlines] = useState({});\n  const [isAnyOutlineRenaming, setIsAnyOutlineRenaming] = useState(false);\n  const [isMultiSelectMode, setIsMultiSelectMode] = useState(false);\n  const [selectedOutlines, setSelectedOutlines] = useState([]);\n  const customizableUI = featureFlags.customizableUI;\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const outlinesPromiseRef = useRef(null);\n  const nextPathRef = useRef(null);\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n  const tool = core.getTool(TOOL_NAME);\n  const panelRef = useRef();\n  const outlineScrollParentRef = useRef(null);\n\n  useEffect(() => {\n    if (!documentLoaded && outlinesPromiseRef.current) {\n      outlinesPromiseRef.current.reject();\n      outlinesPromiseRef.current = null;\n    }\n  }, [documentLoaded]);\n\n  useEffect(() => {\n    if (outlinesNotLoaded && documentLoaded) {\n      const outlinesPromise = {};\n      outlinesPromise.promise = new Promise((resolve) => {\n        let isComplete = false;\n        const onPromiseCompletion = () => {\n          if (!isComplete) {\n            isComplete = true;\n            outlinesPromiseRef.current = null;\n            resolve();\n          }\n        };\n\n        outlinesPromise.resolve = onPromiseCompletion;\n        outlinesPromise.reject = onPromiseCompletion;\n\n        core.getOutlines((outlines) => {\n          if (isComplete) {\n            return;\n          }\n          outlinesPromiseRef.current = null;\n          dispatch(actions.setOutlines(outlines));\n          resolve();\n        });\n      });\n      outlinesPromiseRef.current = outlinesPromise;\n    }\n  }, [outlinesNotLoaded, documentLoaded]);\n\n  useLayoutEffect(() => {\n    setIsAddingNewOutline(false);\n\n    if (nextPathRef.current !== null) {\n      setActiveOutlinePath(nextPathRef.current);\n      nextPathRef.current = null;\n    }\n\n    const shouldResetMultiSelectedMode = !outlines || outlines.length === 0;\n    if (shouldResetMultiSelectedMode) {\n      setIsMultiSelectMode(false);\n    }\n  }, [outlines]);\n\n  useEffect(() => {\n    const workerType = getType();\n    const isSupportedType = (\n      workerType === workerTypes.PDF ||\n      workerType === workerTypes.IMAGE\n    );\n\n    const evaluateOutlineEditable = () => core.isFullPDFEnabled() && isSupportedType && outlineEditingEnabled && !isViewOnly;\n\n    setIsOutlineEditable(evaluateOutlineEditable());\n\n    const onDocumentLoaded = () => {\n      setIsOutlineEditable(evaluateOutlineEditable());\n    };\n\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => core.removeEventListener('documentLoaded', onDocumentLoaded);\n  }, [outlineEditingEnabled]);\n\n  useEffect(() => {\n    const isAnyEditing = Object.values(editingOutlines).some((value) => value);\n    setIsAnyOutlineRenaming(isAnyEditing);\n  }, [editingOutlines, outlines]);\n\n  useEffect(() => {\n    const onSetDestination = (annotation) => {\n      setCurrentDestText(annotation['IsText'] ? annotation.getCustomData('trn-annot-preview') : areaDestinationText);\n      setCurrentDestCoord({ x: annotation['X'], y: annotation['Y'] });\n      setCurrentDestPage(annotation['PageNumber']);\n    };\n\n    const onOutlinesBookmarksChanged = () => {\n      core.getOutlines((outlines) => {\n        dispatch(actions.setOutlines(outlines));\n      });\n    };\n\n    const onDocumentLoaded = () => {\n      setActiveOutlinePath(null);\n    };\n\n    core.addEventListener('outlineSetDestination', onSetDestination);\n    window.addEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => {\n      core.removeEventListener('outlineSetDestination', onSetDestination);\n      window.removeEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n    };\n  }, []);\n\n  useEffect(() => {\n    // deselect outlines when clicking inside of the outline panel\n    const handlePanelClick = (event) => {\n      if (event.target.classList.contains('bookmark-outline-row')) {\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      }\n    };\n\n    if (panelRef.current) {\n      panelRef.current.addEventListener('click', handlePanelClick);\n    }\n\n    return () => {\n      if (panelRef.current) {\n        panelRef.current.removeEventListener('click', handlePanelClick);\n      }\n    };\n  }, []);\n\n  const getCurrentDestViewerCoord = (pageNum, { x, y }) => {\n    const doc = core.getDocumentViewer().getDocument();\n    // convert annotation coordinates to viewerCoordinates because PDFNet used PDF coordinates\n    return doc.getViewerCoordinates(pageNum, x, y);\n  };\n\n  const addNewOutline = async (name) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    let outlineName = name;\n    if (![defaultDestText, areaDestinationText].includes(currentDestText) && !name) {\n      outlineName = currentDestText.slice(0, 40);\n    } else if (!name) {\n      outlineName = t('message.untitled');\n    }\n\n    const doc = core.getDocumentViewer().getDocument();\n\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    if (outlines.length === 0) {\n      await outlineUtils.addRootOutline(outlineName, currentDestPage, x, y, 0);\n    } else {\n      await outlineUtils.addNewOutline(outlineName, activeOutlinePath, currentDestPage, x, y, 0);\n    }\n\n    updateOutlines();\n  };\n\n  const updateOutlines = () => {\n    shouldEndAccessibleReadingOrderMode();\n    core.getOutlines((outlines) => {\n      dispatch(actions.setOutlines(outlines));\n    });\n    clearOutlineDestination();\n    setEditingOutlines({});\n  };\n\n  const getPath = (outline) => {\n    return outlineUtils.getPath(outline);\n  };\n\n  const clearOutlineDestination = () => {\n    core.setToolMode(defaultTool);\n    setCurrentDestText(defaultDestText);\n    setCurrentDestCoord(defaultDestCoord);\n    setCurrentDestPage(currentPage);\n    tool.clearOutlineDestination();\n  };\n\n  const updateOutlineDest = async (outlinePath) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    const doc = core.getDocumentViewer().getDocument();\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    await outlineUtils.setOutlineDestination(outlinePath, currentDestPage, x, y, 0);\n    nextPathRef.current = outlinePath;\n    updateOutlines();\n  };\n\n  useEffect(() => {\n    if (currentDestText === defaultDestText) {\n      setCurrentDestPage(currentPage);\n    }\n  }, [currentDestText, currentPage]);\n\n  useEffect(() => {\n    if (isAddingNewOutline) {\n      core.setToolMode(TOOL_NAME);\n    } else {\n      clearOutlineDestination();\n    }\n  }, [isAddingNewOutline]);\n\n  const generalMoveOutlineAction = (dragOutline, dropOutline, moveDirection) => {\n    const dragPath = getPath(dragOutline);\n    const dropPath = getPath(dropOutline);\n    setSelectedOutlines([]);\n\n    moveDirection.call(outlineUtils, dragPath, dropPath).then((path) => {\n      updateOutlines();\n      nextPathRef.current = path;\n    });\n    core.goToOutline(dragOutline);\n  };\n\n  const moveOutlineAfterTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineAfterTarget);\n  };\n\n  const moveOutlineBeforeTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineBeforeTarget);\n  };\n\n  const moveOutlineInward = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineInTarget);\n  };\n\n  const renameOutline = async (outlinePath, newName) => {\n    await outlineUtils.setOutlineName(outlinePath, newName);\n    updateOutlines();\n  };\n\n  const removeOutlines = async (outlinesToRemove) => {\n    outlinesToRemove.sort().reverse();\n    const confirmationWarning = {\n      message: t('warning.deleteOutline.message'),\n      title: t('warning.deleteOutline.title'),\n      confirmBtnText: t('action.delete'),\n      onConfirm: async () => {\n        for (let i = 0; i < outlinesToRemove.length; i++) {\n          const fullIndex = outlinesToRemove[i];\n          await outlineUtils.deleteOutline(fullIndex);\n        }\n        updateOutlines();\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      },\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  const virtuosoComponents = useMemo(\n    () => createOutlinesPanelComponents(outlineScrollParentRef),\n    [outlineScrollParentRef]\n  );\n\n  const renderOutlineItem = useCallback((index, outline) => (\n    <OutlineListItem\n      key={outlineUtils.getOutlineId(outline)}\n      outline={outline}\n      setSelectedOutlines={setSelectedOutlines}\n      moveOutlineInward={moveOutlineInward}\n      moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n      moveOutlineAfterTarget={moveOutlineAfterTarget}\n    />\n  ), [moveOutlineAfterTarget, moveOutlineBeforeTarget, moveOutlineInward, setSelectedOutlines]);\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={classNames('Panel OutlinesPanel bookmark-outline-panel', { 'modular-ui-panel': customizableUI })}\n      data-element={DataElements.OUTLINE_PANEL} ref={panelRef}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <h2 className=\"header-title\">\n          {t('component.outlinesPanel')}\n        </h2>\n        {isOutlineEditable &&\n          (isMultiSelectMode ?\n            <TextButton\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.done')}\n              disabled={isAddingNewOutline}\n              onClick={() => setIsMultiSelectMode(false)}\n              ariaLabel={`${t('option.bookmarkOutlineControls.done')} ${t('action.edit')}`}\n            />\n            :\n            <TextButton\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.edit')}\n              disabled={isAddingNewOutline || outlinesNotLoaded || outlines.length === 0}\n              onClick={() => {\n                setIsMultiSelectMode(true);\n                setSelectedOutlines([]);\n              }}\n              ariaLabel={`${t('action.edit')} ${t('component.outlinesPanel')}`}\n            />\n          )\n        }\n      </div>\n      {outlinesNotLoaded && documentLoaded ? (\n        <Spinner inPanel width={'40px'} height={'40px'} />\n      ) : (\n        <OutlineContext.Provider\n          value={{\n            currentDestPage: pageLabels[currentDestPage - 1],\n            currentDestText,\n            setActiveOutlinePath,\n            activeOutlinePath,\n            isOutlineActive: (outline) => getPath(outline) === activeOutlinePath,\n            setIsAddingNewOutline,\n            isAddingNewOutline,\n            setEditingOutlines,\n            editingOutlines,\n            selectedOutlines,\n            isAnyOutlineRenaming,\n            isMultiSelectMode,\n            shouldAutoExpandOutlines,\n            isOutlineEditable,\n            addNewOutline,\n            updateOutlines,\n            renameOutline,\n            updateOutlineDest,\n            removeOutlines,\n            outlineScrollParentRef,\n          }}\n        >\n          <DndProvider backend={isMobileDevice ? TouchBackend : HTML5Backend}>\n            <OutlinesDragLayer />\n\n            <div className=\"bookmark-outline-row\">\n              {!isAddingNewOutline && (outlinesNotLoaded || outlines.length === 0) &&\n                <div className=\"msg msg-no-bookmark-outline\">{t('message.noOutlines')}</div>\n              }\n              {isAddingNewOutline && activeOutlinePath === null && (\n                <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                  <OutlineContent\n                    isAdding={true}\n                    text={''}\n                    onCancel={() => setIsAddingNewOutline(false)}\n                  />\n                </DataElementWrapper>\n              )}\n              <Virtuoso\n                className={classNames({ 'small-outlines-list': isAddingNewOutline })}\n                data={outlines || []}\n                components={virtuosoComponents}\n                computeItemKey={(_, outline) => outlineUtils.getOutlineId(outline)}\n                itemContent={renderOutlineItem}\n                initialItemCount={isTest ? outlines?.length : undefined}\n              />\n            </div>\n          </DndProvider>\n\n          {isOutlineEditable &&\n            <DataElementWrapper\n              className=\"bookmark-outline-footer\"\n              dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON_CONTAINER}\n            >\n              {isMultiSelectMode ?\n                <>\n                  <Button\n                    className=\"multi-selection-button\"\n                    img=\"icon-menu-add\"\n                    ariaLabel={`${t('action.add')} ${t('component.outlinesPanel')}`}\n                    disabled={selectedOutlines.length > 0 || isAddingNewOutline || isAnyOutlineRenaming}\n                    onClick={() => setIsAddingNewOutline(true)}\n                  />\n                  <Button\n                    className=\"multi-selection-button\"\n                    img=\"icon-delete-line\"\n                    disabled={selectedOutlines.length === 0 || isAnyOutlineRenaming}\n                    onClick={() => removeOutlines(selectedOutlines)}\n                  />\n                </>\n                :\n                <TextButton\n                  className=\"bookmark-outline-control-button add-new-button\"\n                  img=\"icon-menu-add\"\n                  dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON}\n                  disabled={isAddingNewOutline || isAnyOutlineRenaming}\n                  label={`${t('action.add')} ${t('component.outlinePanel')}`}\n                  onClick={() => setIsAddingNewOutline(true)}\n                  ariaLabel={`${t('action.add')} ${t('component.outlinesPanel')}`}\n                />\n              }\n            </DataElementWrapper>\n          }\n        </OutlineContext.Provider>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(OutlinesPanel);\n","import OutlinesPanel from './OutlinesPanel';\n\nexport default OutlinesPanel;\n"],"sourceRoot":""}