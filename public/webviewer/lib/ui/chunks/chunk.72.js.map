{"version":3,"sources":["webpack:///./src/ui/src/components/OfficeEditorColumnsModal/OfficeEditorColumnsModal.scss?3c43","webpack:///./src/ui/src/components/OfficeEditorColumnsModal/OfficeEditorColumnsModal.scss","webpack:///./src/ui/src/hooks/useOfficeEditorColumnsModal.js","webpack:///./src/ui/src/components/OfficeEditorColumnsModal/OfficeEditorColumnsModal.js","webpack:///./src/ui/src/components/OfficeEditorColumnsModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_slicedToArray","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","from","test","clampValue","minValue","maxValue","candidate","lowerBounded","Math","max","min","convertWidthsAndSpacingToColumns","widthsAndSpacing","columns","_widthsAndSpacing","width","spacing","DEFAULT_COLUMN_SPACING_IN_POINTS","useOfficeEditorColumnsModal","_useState2","useState","columnAmount","setColumnAmount","_useState4","setColumns","_useState6","equalColumns","setEqualColumns","_useState8","availablePageWidth","setAvailablePageWidth","_useState0","maxAllowedColumns","setMaxAllowedColumns","useEffect","_callee","pageNumber","sectionColumns","parsedColumns","allColumnsEqual","_context","core","getOfficeEditor","getEditingPageNumber","getAvailablePageWidth","LAYOUT_UNITS","PHYSICAL_POINT","getSectionColumns","checkEqualColumnWidths","floor","MINIMUM_COLUMN_WIDTH_IN_POINTS","ceil","arguments","apply","_next","_throw","rebalanceColumnWidthAndSpacingEvenly","addOrRemoveColumns","newColumnAmount","prevColumns","newColumns","_toConsumableArray","columnCount","referenceSpacing","widthAndSpacing","Core","Document","OfficeEditor","Layout","buildEqualColumnsConfig","rebalanceInputsEqually","newValue","type","initialColumns","COLUMN_INPUT_TYPES","WIDTH","buildEqualColumnsConfigFromWidth","rebalanceInputs","index","SPACING","lastColumnSpacing","excessAmount","reduce","acc","column","modifiedResults","modifyColumns","startIndex","endIndex","numberOfColumns","nextColumns","excessAmountRemaining","modifyColumnsInReverse","skipIndex","changeColumnAmount","Number","parseInt","isFinite","commitColumnAmount","commitColumnValue","newBoundedValue","clampColumnWidthToPageLimits","clampSpacingToPageLimits","toggleEqualColumns","commitColumnSettings","columnsData","parseFloat","pop","setCustomSectionColumns","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","OfficeEditorColumnsModal","currentUnit","useSelector","selectors","getOfficeEditorUnitMeasurement","useTranslation","dispatch","useDispatch","columnTranslation","concat","OFFICE_EDITOR_TRANSLATION_PREFIX","_useOfficeEditorColum","displayColumns","setDisplayColumns","formatColumnsForDisplay","pointColumns","map","formatToDecimalString","convertBetweenUnits","handleColumnBlur","event","numericValue","target","valueInPoints","convertInputToPoints","closeModal","actions","closeElement","DataElements","OFFICE_EDITOR_COLUMNS_MODAL","closeModalAndFocus","focusContent","applyAndClose","_ref","inputElements","values","inputType","id","label","onBlur","React","createElement","className","data-element","ModalWrapper","title","closehandler","onCloseClick","swipeToClose","isOpen","htmlFor","Input","valueAsNumber","onChange","step","Dropdown","dataElement","OFFICE_EDITOR_COLUMN_UNIT","labelledById","items","onClickItem","unit","setOfficeEditorUnitMeasurement","getKey","item","currentSelectionKey","columnIndex","columnNumber","key","input","_column$input$type","isLastColumn","isSpacingInput","shouldRender","shouldDisable","aria-label","disabled","Choice","checked","aria-checked","Button","onClick"],"mappings":"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","file":"chunks/chunk.72.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OfficeEditorColumnsModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.OfficeEditorColumnsModal{visibility:visible}.closed.OfficeEditorColumnsModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OfficeEditorColumnsModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.OfficeEditorColumnsModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.OfficeEditorColumnsModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.OfficeEditorColumnsModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.OfficeEditorColumnsModal .footer .modal-button.cancel:hover,.OfficeEditorColumnsModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.OfficeEditorColumnsModal .footer .modal-button.cancel,.OfficeEditorColumnsModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.OfficeEditorColumnsModal .footer .modal-button.cancel.disabled,.OfficeEditorColumnsModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.OfficeEditorColumnsModal .footer .modal-button.cancel.disabled span,.OfficeEditorColumnsModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.OfficeEditorColumnsModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.OfficeEditorColumnsModal .modal-container .wrapper .modal-content{padding:10px}.OfficeEditorColumnsModal .footer{flex-direction:row;width:100%;margin-top:13px}.OfficeEditorColumnsModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.OfficeEditorColumnsModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.OfficeEditorColumnsModal .footer .modal-button.confirm{margin-inline-start:4px}.OfficeEditorColumnsModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OfficeEditorColumnsModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OfficeEditorColumnsModal .footer .modal-button{padding:23px 8px}}.OfficeEditorColumnsModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OfficeEditorColumnsModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .OfficeEditorColumnsModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .OfficeEditorColumnsModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .OfficeEditorColumnsModal .swipe-indicator{width:32px}}.OfficeEditorColumnsModal{flex-direction:column}.OfficeEditorColumnsModal .modal-container{display:flex;flex-direction:column;height:auto;width:480px}.OfficeEditorColumnsModal .modal-body{padding:16px;display:flex;flex-direction:row;flex-wrap:wrap;font-size:var(--font-size-default);font-family:var(--font-family);grid-gap:16px;gap:16px}.OfficeEditorColumnsModal .modal-body .title{line-height:16px;font-weight:var(--font-weight-bold)}.OfficeEditorColumnsModal .input-container{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.OfficeEditorColumnsModal .input-container .modal-label{color:var(--gray-12)}.OfficeEditorColumnsModal .input-container .ui__input__wrapper{width:auto;max-width:216px}.OfficeEditorColumnsModal .input-container .ui__input{border-color:var(--gray-6);position:relative}.OfficeEditorColumnsModal .input-container .ui__input.ui__input--focused{box-shadow:none;border-color:var(--focus-border)}.OfficeEditorColumnsModal .input-container .ui__input[\\\\:has\\\\(\\\\:disabled\\\\)]{border-color:var(--gray-5)}.OfficeEditorColumnsModal .input-container .ui__input:has(:disabled){border-color:var(--gray-5)}.OfficeEditorColumnsModal .input-container input{padding:8px 40px 8px 8px;height:32px;font-size:var(--font-size-default);width:100%}.OfficeEditorColumnsModal .input-container input[type=number]{-moz-appearance:textfield}.OfficeEditorColumnsModal .input-container input:disabled{opacity:1}.OfficeEditorColumnsModal .input-container input::-webkit-inner-spin-button,.OfficeEditorColumnsModal .input-container input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.OfficeEditorColumnsModal .flex-half{flex-basis:calc(50% - 8px)}.OfficeEditorColumnsModal .flex-full{flex-basis:100%}.OfficeEditorColumnsModal .flex-third{flex-basis:calc(33.33333% - 8px)}.OfficeEditorColumnsModal .footer{padding:16px;display:flex;justify-content:flex-end;border-top:1px solid var(--gray-5)}.OfficeEditorColumnsModal .footer button{border:none;border-radius:4px;background:var(--primary-button);min-width:59px;width:auto;padding:8px 16px;height:32px;color:var(--primary-button-text)}.OfficeEditorColumnsModal .footer button:hover{background:var(--primary-button-hover)}.OfficeEditorColumnsModal .unit-dropdown.Dropdown{height:34px}.OfficeEditorColumnsModal .input-container .ui__input input[type=number].column-amount-input{-moz-appearance:auto;padding-inline-end:8px}.OfficeEditorColumnsModal .input-container .ui__input input.column-amount-input::-webkit-inner-spin-button,.OfficeEditorColumnsModal .input-container .ui__input input.column-amount-input::-webkit-outer-spin-button{-webkit-appearance:auto}.OfficeEditorColumnsModal .section{width:100%;border-top:1px solid var(--gray-5)}.OfficeEditorColumnsModal .section .section-label{font-weight:var(--font-weight-bold);padding:2px 0;margin:16px 0}.OfficeEditorColumnsModal .section .row{display:flex;align-items:center;grid-gap:8px;gap:8px}.OfficeEditorColumnsModal .section .row.columns-headers{padding:2px 0;margin-bottom:8px}.OfficeEditorColumnsModal .section .columns-container{height:156px;background-color:var(--gray-2);overflow:auto;border:1px solid var(--gray-5)}.OfficeEditorColumnsModal .section .columns-container .row{background-color:var(--gray-0);padding:7px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import { useState, useEffect } from 'react';\nimport core from 'core';\nimport {\n  modifyColumns,\n  modifyColumnsInReverse,\n  checkEqualColumnWidths,\n} from 'helpers/officeEditorColumnsHelper';\nimport {\n  COLUMN_INPUT_TYPES,\n  DEFAULT_COLUMN_SPACING_IN_POINTS,\n  MINIMUM_COLUMN_WIDTH_IN_POINTS,\n  LAYOUT_UNITS,\n} from 'constants/officeEditor';\n\nconst clampValue = (value, minValue, maxValue) => {\n  const candidate = value || minValue; // sanitize undefined, null, '', or 0\n  const lowerBounded = Math.max(candidate, minValue);\n  return Math.min(lowerBounded, maxValue);\n};\n\nconst clampColumnWidthToPageLimits = (value, columnCount, availablePageWidth, equalColumns) => {\n  const minValue = MINIMUM_COLUMN_WIDTH_IN_POINTS;\n  const maxValue = equalColumns\n    ? availablePageWidth / columnCount\n    : availablePageWidth - ((columnCount - 1) * MINIMUM_COLUMN_WIDTH_IN_POINTS);\n  return clampValue(value, minValue, maxValue);\n};\n\nconst clampSpacingToPageLimits = (value, columnCount, availablePageWidth, equalColumns) => {\n  const minValue = 0;\n  const maxValue = equalColumns\n    ? (availablePageWidth - (MINIMUM_COLUMN_WIDTH_IN_POINTS * columnCount)) / (columnCount - 1)\n    : availablePageWidth - (MINIMUM_COLUMN_WIDTH_IN_POINTS * columnCount);\n  return clampValue(value, minValue, maxValue);\n};\n\nconst convertWidthsAndSpacingToColumns = (widthsAndSpacing) => {\n  const columns = [];\n  for (let i = 0; i < widthsAndSpacing.length; i += 2) {\n    const width = widthsAndSpacing[i];\n    const spacing = widthsAndSpacing[i + 1] ?? DEFAULT_COLUMN_SPACING_IN_POINTS;\n    columns.push({ width, spacing });\n  }\n  return columns;\n};\n\nexport const useOfficeEditorColumnsModal = () => {\n  const [columnAmount, setColumnAmount] = useState(0);\n  const [columns, setColumns] = useState([]); // [{ width: 0, spacing: 0 }]\n  const [equalColumns, setEqualColumns] = useState(true);\n  const [availablePageWidth, setAvailablePageWidth] = useState(0);\n  const [maxAllowedColumns, setMaxAllowedColumns] = useState(0);\n\n  useEffect(() => {\n    (async () => {\n      const pageNumber = await core.getOfficeEditor().getEditingPageNumber();\n      const availablePageWidth = await core.getOfficeEditor().getAvailablePageWidth(pageNumber, LAYOUT_UNITS.PHYSICAL_POINT);\n      const sectionColumns = await core.getOfficeEditor().getSectionColumns(LAYOUT_UNITS.PHYSICAL_POINT);\n      const parsedColumns = convertWidthsAndSpacingToColumns(sectionColumns);\n      const allColumnsEqual = checkEqualColumnWidths(sectionColumns);\n\n      setAvailablePageWidth(availablePageWidth);\n      setMaxAllowedColumns(Math.floor(availablePageWidth / MINIMUM_COLUMN_WIDTH_IN_POINTS));\n      setColumnAmount(Math.ceil(sectionColumns.length / 2));\n      setEqualColumns(allColumnsEqual);\n      setColumns(parsedColumns);\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (equalColumns) {\n      rebalanceColumnWidthAndSpacingEvenly(columns);\n    }\n  }, [equalColumns]);\n\n  const commitColumnAmount = (value) => {\n    if (value === columns.length) {\n      return;\n    }\n    setColumnAmount(columns.length);\n  };\n\n  const changeColumnAmount = (value) => {\n    if (value === '') {\n      setColumnAmount(value);\n      return;\n    }\n\n    let newColumnAmount = Number.parseInt(value, 10);\n    if (newColumnAmount === 0) {\n      setColumnAmount(newColumnAmount);\n      return;\n    }\n\n    if (!Number.isFinite(newColumnAmount) || newColumnAmount < 0) {\n      newColumnAmount = 1;\n    }\n    newColumnAmount = Math.min(newColumnAmount, maxAllowedColumns);\n\n    setColumnAmount(newColumnAmount);\n    const newColumns = addOrRemoveColumns(newColumnAmount, columns);\n    rebalanceColumnWidthAndSpacingEvenly(newColumns);\n  };\n\n  const addOrRemoveColumns = (newColumnAmount, prevColumns) => {\n    if (newColumnAmount === prevColumns.length) {\n      return prevColumns;\n    }\n\n    if (newColumnAmount < prevColumns.length) {\n      return prevColumns.slice(0, newColumnAmount);\n    }\n\n    // Add columns if new amount is more than current amount\n    const newColumns = [...prevColumns];\n    for (let i = prevColumns.length + 1; i <= newColumnAmount; i++) {\n      newColumns.push({\n        width: 0,\n        spacing: DEFAULT_COLUMN_SPACING_IN_POINTS,\n      });\n    }\n    return newColumns;\n  };\n\n  const rebalanceColumnWidthAndSpacingEvenly = (columns) => {\n    const columnCount = columns.length;\n    if (columnCount === 0) {\n      return;\n    }\n    const referenceSpacing = columns[0].spacing;\n    const widthAndSpacing =\n      window.Core.Document.OfficeEditor.Layout.buildEqualColumnsConfig(columnCount, availablePageWidth, referenceSpacing);\n\n    const newColumns = convertWidthsAndSpacingToColumns(widthAndSpacing);\n    setColumns(newColumns);\n  };\n\n  const commitColumnValue = (value, index, type) => {\n    const newBoundedValue = type === COLUMN_INPUT_TYPES.WIDTH\n      ? clampColumnWidthToPageLimits(value, columns.length, availablePageWidth, equalColumns)\n      : clampSpacingToPageLimits(value, columns.length, availablePageWidth, equalColumns);\n\n    const newColumns = equalColumns ?\n      rebalanceInputsEqually(newBoundedValue, type, columns) :\n      rebalanceInputs(newBoundedValue, index, type, columns);\n    setColumns(newColumns);\n    return newColumns;\n  };\n\n  const rebalanceInputsEqually = (newValue, type, initialColumns) => {\n    const widthAndSpacing = type === COLUMN_INPUT_TYPES.WIDTH ?\n      window.Core.Document.OfficeEditor.Layout.buildEqualColumnsConfigFromWidth(newValue, initialColumns.length, availablePageWidth) :\n      window.Core.Document.OfficeEditor.Layout.buildEqualColumnsConfig(initialColumns.length, availablePageWidth, newValue);\n    return convertWidthsAndSpacingToColumns(widthAndSpacing);\n  };\n\n  const rebalanceInputs = (newValue, index, type, initialColumns) => {\n    let newColumns = [...initialColumns];\n    const columnCount = initialColumns.length;\n\n    newColumns[index] = {\n      width: (type === COLUMN_INPUT_TYPES.WIDTH ? newValue : newColumns[index].width),\n      spacing: (type === COLUMN_INPUT_TYPES.SPACING ? newValue : newColumns[index].spacing),\n    };\n    // Calculate excess amount.\n    const lastColumnSpacing = newColumns[columnCount - 1].spacing;\n    const totalWidthAndSpacing = newColumns.reduce((acc, column) => acc + column.width + column.spacing, -lastColumnSpacing); // Ignore last column spacing\n    let excessAmount = totalWidthAndSpacing - availablePageWidth;\n    let modifiedResults = {};\n\n    // take from or add to subsequent widths\n    modifiedResults = modifyColumns({\n      columns: newColumns,\n      excessAmount,\n      startIndex: index + 1,\n      endIndex: columnCount - 1,\n      numberOfColumns: columnCount - index - 1,\n      type: COLUMN_INPUT_TYPES.WIDTH\n    });\n    newColumns = [...modifiedResults.nextColumns];\n    excessAmount = modifiedResults.excessAmountRemaining;\n\n    if (excessAmount === 0) {\n      return newColumns;\n    }\n\n    if (type === COLUMN_INPUT_TYPES.WIDTH) {\n      // take from or add to spacing\n      modifiedResults = modifyColumnsInReverse({\n        columns: newColumns,\n        excessAmount,\n        startIndex: columnCount - 2,\n        endIndex: 0,\n        numberOfColumns: columnCount - 1,\n        type: COLUMN_INPUT_TYPES.SPACING\n      });\n      newColumns = [...modifiedResults.nextColumns];\n      excessAmount = modifiedResults.excessAmountRemaining;\n\n      if (excessAmount === 0) {\n        return newColumns;\n      }\n\n      // take from or add to previous widths\n      modifiedResults = modifyColumnsInReverse({\n        columns: newColumns,\n        excessAmount,\n        startIndex: index - 1,\n        endIndex: 0,\n        numberOfColumns: index,\n        type: COLUMN_INPUT_TYPES.WIDTH\n      });\n      newColumns = [...modifiedResults.nextColumns];\n      excessAmount = modifiedResults.excessAmountRemaining;\n\n      if (excessAmount === 0) {\n        return newColumns;\n      }\n    } else if (type === COLUMN_INPUT_TYPES.SPACING) {\n      // take from or add to previous widths equally\n      modifiedResults = modifyColumns({\n        columns: newColumns,\n        excessAmount,\n        startIndex: 0,\n        endIndex: index,\n        numberOfColumns: index + 1,\n        type: COLUMN_INPUT_TYPES.WIDTH\n      });\n      newColumns = [...modifiedResults.nextColumns];\n      excessAmount = modifiedResults.excessAmountRemaining;\n\n      if (excessAmount === 0) {\n        return newColumns;\n      }\n\n      // take from or add to spacing, other than index\n      modifiedResults = modifyColumnsInReverse({\n        columns: newColumns,\n        excessAmount,\n        startIndex: columnCount - 2,\n        endIndex: 0,\n        numberOfColumns: columnCount - 2,\n        type: COLUMN_INPUT_TYPES.SPACING,\n        skipIndex: index\n      });\n      newColumns = [...modifiedResults.nextColumns];\n    }\n    return newColumns;\n  };\n\n  const toggleEqualColumns = () => {\n    setEqualColumns(!equalColumns);\n  };\n\n  const commitColumnSettings = () => {\n    const columnsData = columns.reduce((acc, column) => {\n      acc.push(Number.parseFloat(column.width), Number.parseFloat(column.spacing));\n      return acc;\n    }, []);\n    columnsData.pop(); // Remove the last spacing value\n    core.getOfficeEditor().setCustomSectionColumns(columnsData, LAYOUT_UNITS.PHYSICAL_POINT);\n  };\n\n  return {\n    columnAmount,\n    columns,\n    equalColumns,\n    maxAllowedColumns,\n    changeColumnAmount,\n    commitColumnAmount,\n    commitColumnValue,\n    toggleEqualColumns,\n    commitColumnSettings,\n  };\n};\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport { useTranslation } from 'react-i18next';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\nimport Button from 'components/Button';\nimport ModalWrapper from 'components/ModalWrapper';\nimport Dropdown from 'components/Dropdown';\nimport Choice from 'components/Choice';\nimport Input from 'components/Input';\nimport {\n  focusContent,\n  formatToDecimalString,\n  convertBetweenUnits,\n} from 'helpers/officeEditor';\nimport { useOfficeEditorColumnsModal } from 'hooks/useOfficeEditorColumnsModal';\nimport {\n  OFFICE_EDITOR_TRANSLATION_PREFIX,\n  LAYOUT_UNITS,\n  COLUMN_INPUT_TYPES,\n} from 'constants/officeEditor';\n\nimport './OfficeEditorColumnsModal.scss';\n\nconst OfficeEditorColumnsModal = () => {\n  const currentUnit = useSelector(selectors.getOfficeEditorUnitMeasurement);\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const columnTranslation = t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}column`);\n\n  const {\n    columnAmount,\n    columns,\n    equalColumns,\n    maxAllowedColumns,\n    commitColumnAmount,\n    changeColumnAmount,\n    commitColumnValue,\n    toggleEqualColumns,\n    commitColumnSettings,\n  } = useOfficeEditorColumnsModal();\n\n  const [displayColumns, setDisplayColumns] = useState([]);\n\n  const convertInputToPoints = (numericValue) => {\n    return convertBetweenUnits(numericValue, currentUnit, LAYOUT_UNITS.PHYSICAL_POINT);\n  };\n\n  const formatColumnsForDisplay = (pointColumns) => pointColumns.map((column) => ({\n    width: formatToDecimalString(convertBetweenUnits(column.width, LAYOUT_UNITS.PHYSICAL_POINT, currentUnit)),\n    spacing: formatToDecimalString(convertBetweenUnits(column.spacing, LAYOUT_UNITS.PHYSICAL_POINT, currentUnit)),\n  }));\n\n  useEffect(() => {\n    setDisplayColumns(formatColumnsForDisplay(columns));\n  }, [columns, currentUnit]);\n\n  const handleColumnBlur = (event, index, type) => {\n    const numericValue = Number.parseFloat(event.target.value);\n    if (!Number.isFinite(numericValue)) {\n      setDisplayColumns(formatColumnsForDisplay(columns));\n      return;\n    }\n    const valueInPoints = convertInputToPoints(numericValue);\n    const newColumns = commitColumnValue(valueInPoints, index, type);\n    setDisplayColumns(formatColumnsForDisplay(newColumns));\n  };\n\n  const handleColumnChange = (event, index, type) => {\n    const { value } = event.target;\n    // Use functional state update so we always work with the latest displayColumns\n    // (blur/unit changes enqueue updates too, so a closed-over array could be stale).\n    setDisplayColumns((prevColumns) => {\n      const nextColumns = [...prevColumns];\n      nextColumns[index] = {\n        ...nextColumns[index],\n        [type]: value,\n      };\n      return nextColumns;\n    });\n  };\n\n  const handleUnitChange = (unit) => dispatch(actions.setOfficeEditorUnitMeasurement(unit));\n  const closeModal = () => dispatch(actions.closeElement(DataElements.OFFICE_EDITOR_COLUMNS_MODAL));\n  const closeModalAndFocus = () => {\n    closeModal();\n    focusContent();\n  };\n  const applyAndClose = async () => {\n    commitColumnSettings();\n    closeModal();\n  };\n\n  const inputElements = Object.values(COLUMN_INPUT_TYPES).map((inputType) => ({\n    id: `${inputType}ColumnInput`,\n    label: t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.${inputType}`),\n    onBlur: (event, index) => handleColumnBlur(event, index, inputType),\n    type: inputType,\n  }));\n\n  return (\n    <div className='OfficeEditorColumnsModal' data-element={DataElements.OFFICE_EDITOR_COLUMNS_MODAL}>\n      <ModalWrapper\n        title={t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.title`)}\n        closehandler={closeModalAndFocus}\n        onCloseClick={closeModalAndFocus}\n        swipeToClose\n        isOpen\n      >\n        <div className='modal-body'>\n          <div className='input-container flex-half'>\n            <label htmlFor='columnAmountInput' className='modal-label'>{t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.columnAmount`)}</label>\n            <Input\n              type='number'\n              id='columnAmountInput'\n              onBlur={(e) => commitColumnAmount(e.target.valueAsNumber)}\n              onChange={(e) => changeColumnAmount(e.target.value)}\n              value={columnAmount}\n              min='1'\n              max={maxAllowedColumns}\n              step='1'\n              className='column-amount-input'\n            />\n          </div>\n\n          <div className='input-container flex-half'>\n            <label id='office-editor-column-unit-label' className='modal-label'>\n              {t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}unitMeasurement`)}\n            </label>\n            <Dropdown\n              id='office-editor-column-unit'\n              dataElement={DataElements.OFFICE_EDITOR_COLUMN_UNIT}\n              labelledById='office-editor-column-unit-label'\n              className={'unit-dropdown'}\n              items={Object.values(LAYOUT_UNITS)}\n              onClickItem={handleUnitChange}\n              getKey={(item) => item}\n              currentSelectionKey={currentUnit}\n              width={'auto'}\n            />\n          </div>\n\n          <div className='section'>\n            <div className='section-label'>{t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.widthAndSpacing`)}</div>\n            <div className='columns-headers row'>\n              <div className='flex-third'>{t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.columnNumber`)}</div>\n              <div className='flex-third'>{t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.width`)}</div>\n              <div className='flex-third'>{t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.spacing`)}</div>\n            </div>\n            <div className='columns-container'>\n              {displayColumns.map((column, columnIndex) => {\n                const columnNumber = columnIndex + 1;\n                return <div key={columnNumber} className='row'>\n                  <div className='row-label flex-third'>\n                    {columnTranslation} {columnNumber}\n                  </div>\n                  {inputElements.map((input) => {\n                    const isLastColumn = columnIndex === displayColumns.length - 1;\n                    const isSpacingInput = input.type === COLUMN_INPUT_TYPES.SPACING;\n                    const shouldRender = !(isLastColumn && isSpacingInput);\n                    const shouldDisable = displayColumns.length === 1 || (equalColumns && columnNumber !== 1);\n                    return shouldRender &&\n                      <div key={`${columnNumber}-${input.id}`} className='input-container flex-third'>\n                        <Input\n                          type='number'\n                          id={`${input.id}-${columnNumber}`}\n                          value={column?.[input.type] ?? ''}\n                          onBlur={(e) => input.onBlur(e, columnIndex)}\n                          onChange={(e) => handleColumnChange(e, columnIndex, input.type)}\n                          aria-label={`${columnTranslation} ${columnNumber} ${input.label}`}\n                          disabled={shouldDisable}\n                          min='0'\n                          step='0.1'\n                        />\n                      </div>;\n                  })}\n                </div>;\n              })}\n            </div>\n          </div>\n          <Choice\n            id={'equal-columns-checkbox'}\n            label={t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.equalColumns`)}\n            aria-label={t(`${OFFICE_EDITOR_TRANSLATION_PREFIX}columnsModal.equalColumns`)}\n            checked={equalColumns}\n            aria-checked={equalColumns}\n            onChange={toggleEqualColumns}\n          />\n        </div>\n        <div className='footer'>\n          <Button onClick={applyAndClose} label={t('action.apply')} />\n        </div>\n      </ModalWrapper>\n    </div>\n  );\n};\n\nexport default OfficeEditorColumnsModal;\n","import OfficeEditorColumnsModal from './OfficeEditorColumnsModal';\n\nexport default OfficeEditorColumnsModal;\n"],"sourceRoot":""}