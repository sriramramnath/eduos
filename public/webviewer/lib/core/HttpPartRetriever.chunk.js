/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{683:function(wa,ua,e){e.r(ua);e.d(ua,"ByteRangeRequest",function(){return w});var ka=e(0),pa=e(1);e.n(pa);var na=e(2),ia=e(245);wa=e(146);var ca=e(402),ba=e(115),x=e(112),y=e(401),r=e(276);e=e(605);var b=[],h=[],n=window,f=function(){return function(){this.ps=1}}(),a;(function(z){z[z.UNSENT=0]="UNSENT";z[z.DONE=4]="DONE"})(a||(a={}));var w=function(){function z(fa,ea,ma,ha){var la=this;this.url=fa;this.range=ea;this.eg=ma;this.withCredentials=
ha;this.Rta=a;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);n.Uint8Array&&(this.request.responseType="arraybuffer");ha&&(this.request.withCredentials=ha);aa.DISABLE_RANGE_HEADER||(Object(pa.isUndefined)(ea.stop)?this.request.setRequestHeader("Range","bytes=".concat(ea.start)):this.request.setRequestHeader("Range",["bytes=",ea.start,"-",ea.stop-1].join("")));ma&&Object.keys(ma).forEach(function(qa){la.request.setRequestHeader(qa,ma[qa])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}z.prototype.start=function(fa){var ea=this,ma=this.request;ma.onreadystatechange=function(){if(ea.aborted)return ea.status=y.a.ABORTED,fa({code:y.a.ABORTED});if(this.readyState===ea.Rta.DONE){ea.kP();var ha=0===window.document.URL.indexOf("file:///");200===ma.status||206===ma.status||ha&&0===ma.status?(ha=n.afa(this),ea.k5(ha,fa)):(ea.status=y.a.ERROR,fa({code:ea.status,status:ea.status}))}};this.request.send(null);
this.status=y.a.STARTED};z.prototype.k5=function(fa,ea){this.status=y.a.SUCCESS;if(ea)return ea(!1,fa)};z.prototype.abort=function(){this.kP();this.aborted=!0;this.request.abort()};z.prototype.kP=function(){var fa=Object(r.c)(this.url,this.range,h);-1!==fa&&h.splice(fa,1);if(0<b.length){fa=b.shift();var ea=new z(fa.url,fa.range,this.eg,this.withCredentials);fa.request=ea;h.push(fa);ea.start(Object(r.d)(fa))}};z.prototype.extend=function(fa){var ea=Object.assign({},this,fa.prototype);ea.constructor=
fa;return ea};return z}(),aa=function(z){function fa(ea,ma,ha,la,qa){ha=z.call(this,ea,ha,la)||this;ha.Fn={};ha.TM=ma;ha.url=ea;ha.DISABLE_RANGE_HEADER=!1;ha.lJ=w;ha.X6=3;ha.eg=qa||{};return ha}Object(ka.d)(fa,z);fa.prototype.$F=function(ea,ma,ha){var la=-1===ea.indexOf("?")?"?":"&";switch(ha){case !1:case x.a.NEVER_CACHE:ea="".concat(ea+la,"_=").concat(Object(pa.uniqueId)());break;case !0:case x.a.CACHE:ea="".concat(ea+la,"_=").concat(ma.start,",").concat(Object(pa.isUndefined)(ma.stop)?"":ma.stop)}return ea};
fa.prototype.Fba=function(ea,ma,ha,la){void 0===ha&&(ha={});return new this.lJ(ea,ma,ha,la)};fa.prototype.NGa=function(ea,ma,ha,la,qa){for(var ja=0;ja<b.length;ja++)if(Object(pa.isEqual)(b[ja].range,ma)&&Object(pa.isEqual)(b[ja].url,ea))return b[ja].Uj.push(la),b[ja].YQ++,null;for(ja=0;ja<h.length;ja++)if(Object(pa.isEqual)(h[ja].range,ma)&&Object(pa.isEqual)(h[ja].url,ea))return h[ja].Uj.push(la),h[ja].YQ++,null;ha={url:ea,range:ma,TM:ha,Uj:[la],YQ:1};if(0===b.length&&h.length<this.X6)return h.push(ha),
ha.request=this.Fba(ea,ma,qa,this.withCredentials),ha;b.push(ha);return null};fa.prototype.Uu=function(ea,ma,ha){var la=this.$F(ea,ma,this.TM);(ea=this.NGa(la,ma,this.TM,ha,this.eg))&&ea.request.start(Object(r.d)(ea));return function(){var qa=Object(r.c)(la,ma,h);if(-1!==qa){var ja=--h[qa].YQ;0===ja&&h[qa].request&&h[qa].request.abort()}else qa=Object(r.c)(la,ma,b),-1!==qa&&(ja=--b[qa].YQ,0===ja&&b.splice(qa,1))}};fa.prototype.pea=function(){return{start:-ia.a}};fa.prototype.tNa=function(){var ea=
-(ia.a+ia.e);return{start:ea-ia.d,end:ea}};fa.prototype.mC=function(ea){var ma=this;this.cN=!0;var ha=ia.a;this.Uu(this.url,this.pea(),function(la,qa,ja){function sa(){var oa=ma.jf.lea();ma.Uu(ma.url,oa,function(ra,ta){if(ra)return Object(na.j)("Error loading central directory: ".concat(ra)),ea(ra);ta=Object(ba.a)(ta);if(ta.length!==oa.stop-oa.start)return ea("Invalid XOD file: Zip central directory data is wrong size! Should be ".concat(oa.stop-oa.start," but is ").concat(ta.length));ma.jf.Jka(ta);
ma.RW=!0;ma.cN=!1;return ea(!1)})}if(la)return Object(na.j)("Error loading end header: ".concat(la)),ea(la,qa,ja);qa=Object(ba.a)(qa);if(qa.length!==ha)return ea("Invalid XOD file: Zip end header data is wrong size!");try{ma.jf=new ca.a(qa)}catch(oa){return ea(oa)}ma.jf.qRa?ma.Uu(ma.url,ma.tNa(),function(oa,ra){if(oa)return Object(na.j)("Error loading zip64 header: ".concat(oa)),ea(oa);ra=Object(ba.a)(ra);ma.jf.XRa(ra);sa()}):sa()})};fa.prototype.Vea=function(ea){ea(Object.keys(this.jf.cu))};fa.prototype.a3=
function(ea,ma){var ha=this;if(this.jf.jba(ea)){var la=this.jf.WG(ea);if(la in this.Fn){var qa=this.wk[ea];qa.CA=this.Fn[la];qa.CA.ps++;qa.cancel=qa.CA.cancel}else{var ja=this.jf.XJa(ea),sa=this.Uu(this.url,ja,function(ra,ta){ra?(Object(na.j)('Error loading part "'.concat(ea,'": ').concat(ra)),ha.Uu(ha.url,ja,function(va,Ca){if(va)return ma(va,ea);ha.Nka(Ca,ja,la,ea,ma)})):ha.Nka(ta,ja,la,ea,ma)}),oa=this.wk[ea];oa&&(oa.moa=!0,oa.cancel=function(){oa.CA.ps--;0===oa.CA.ps&&(sa(),delete ha.Fn[la])},
this.Fn[la]=new f(la),oa.CA=this.Fn[la],oa.CA.cancel=oa.cancel)}}else delete this.wk[ea],ma(Error('File not found: "'.concat(ea,'"')),ea)};fa.prototype.Nka=function(ea,ma,ha,la,qa){if(ea.length!==ma.stop-ma.start)qa(Error("Part data is wrong size!"),la);else{do{if(!this.Fn[ha])return;la=this.Fn[ha].ps;for(var ja=ma.Ey.length,sa=0;sa<ja;++sa){var oa=ma.Ey[sa];qa(!1,oa.Ay,ea["string"===typeof ea?"substring":"subarray"](oa.start,oa.stop),this.jf.Jga(oa.Ay));oa.Ay in this.wk&&delete this.wk[oa.Ay]}}while(la!==
this.Fn[ha].ps);delete this.Fn[ha]}};fa.DISABLE_RANGE_HEADER=!1;fa.X6=3;return fa}(wa.a);(function(z){function fa(ea,ma,ha){var la=z.call(this)||this,qa;for(qa in ea)la[qa]=ea[qa];la.N$a=ea;la.startOffset=ma;la.endOffset=ha;la.Fba=function(ja,sa,oa,ra){Object(pa.isUndefined)(sa.stop)?(sa.start+=la.endOffset,sa.stop=la.endOffset):(sa.start+=la.startOffset,sa.stop+=la.startOffset);ja=la.$F(la.url,sa,la.TM);return new ea.lJ(ja,sa,oa,ra)};return la}Object(ka.d)(fa,z);return fa})(aa);Object(e.a)(aa);Object(e.b)(aa);
ua["default"]=aa}}]);}).call(this || window)
