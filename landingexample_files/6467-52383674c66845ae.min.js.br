
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="093a4f87-31bc-5316-9304-e8694a4548fe")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["6467"],{877188(e){e.exports=function(e,t){return e<t}},908889(e,t,a){var s=a(765795),n=a(201193),i=a(877188);e.exports=function(e,t){return e&&e.length?s(e,n(t,2),i):void 0}},825131(e,t,a){"use strict";a.d(t,{$h:()=>u,KY:()=>_,M2:()=>s,Mc:()=>r,P_:()=>d,U0:()=>g,cp:()=>p,eF:()=>l,h4:()=>m,jR:()=>o,lF:()=>i,nF:()=>n,x1:()=>c});let s="seat_requests_page--requestsContainer--9A8oV",n="seat_requests_page--fileBrowserContentContainer--V4K3S",i="seat_requests_page--fileBrowserScrollableContainer--bR9Mi",r="seat_requests_page--avatarColumn--uctuh seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",l="seat_requests_page--seatTypeColumn--fI9ig seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",o="seat_requests_page--requestedColumn--ZeFie seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",d="seat_requests_page--noteColumn---hI1o seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",c="seat_requests_page--dropdownScrollClip--wZ612",u="seat_requests_page--actionBarButtons--mpTgO",m="seat_requests_page--actionBarHasContent--4FgGq",_="seat_requests_page--actionBar--5dx7Z",p="seat_requests_page--nudgedRequested--SlVaI",g="seat_requests_page--avatarWithHandle--Pl6Pu"},988299(e,t,a){"use strict";a.d(t,{B6:()=>u,Be:()=>s,CB:()=>g,Dg:()=>i,Gf:()=>l,IT:()=>d,Kk:()=>o,OW:()=>f,PC:()=>y,Pe:()=>c,RU:()=>h,XI:()=>b,Xu:()=>E,bv:()=>I,h_:()=>p,i0:()=>w,jP:()=>T,nf:()=>S,px:()=>m,qp:()=>v,uW:()=>r,uk:()=>j,xd:()=>n,xm:()=>x,yV:()=>_});let s="settings_section--blueLink--gZZva blue_link--blueLink--4ER8T",n="settings_section--settingsWrapper--Hj9d- text--fontPos11--rO47d text--_fontBase--VaHfk",i="settings_section--adminConsoleSettingsWrapper--EGtmx settings_section--settingsWrapper--Hj9d- text--fontPos11--rO47d text--_fontBase--VaHfk",r="settings_section--section--uZ2dt",l="settings_section--sectionTitle--oGOXc text--fontPos13--5OfL8 text--_fontBase--VaHfk",o="settings_section--icon--67Omn",d="settings_section--sectionItems--36pe0",c="settings_section--setting--xClsM",u="settings_section--readonlySetting--s8ebK settings_section--setting--xClsM",m="settings_section--settingLabel--9Dp2i",_="settings_section--sectionDescription--QsBJr",p="settings_section--description--4ZhRo",g="settings_section--descriptionWithChildren--oyduM",h="settings_section--actionSetting--YA3F9 settings_section--setting--xClsM",x="settings_section--actionSettingDisabled---qCgB settings_section--setting--xClsM",b="settings_section--action--Np8IJ",v="settings_section--contactSupport--ZDkuH",f="settings_section--caret--EyS8q",j="settings_section--settingDivider--G3MIA",y="settings_section--settingsFooter--ogko2",T="settings_section--showMore--y5vt7",I="settings_section--boldText--vg-ZT",S="settings_section--link--Owpiy",w="settings_section--ipAllowlistCurrentRanges--jO7jd",E="settings_section--ipAllowlistInfoBanner--X8HJu"},674216(e,t,a){"use strict";a.d(t,{$J:()=>c,KJ:()=>m,UD:()=>_,Un:()=>u,_f:()=>l,b:()=>o,dv:()=>n,gr:()=>i,jy:()=>d,u1:()=>p,ut:()=>s,v0:()=>r});let s="change_payment_modal--paymentModal--ltirP",n="change_payment_modal--paymentModalHeader--XzuQG",i="change_payment_modal--paymentModalTitle--XBOfe text--fontPos18--FkHj- text--_fontBase--VaHfk",r="change_payment_modal--buttonRow--9P6O8 modal--buttonRow--QZcDw",l="change_payment_modal--buttonRowLeft---kg12",o="change_payment_modal--closeButton--LJUS-",d="change_payment_modal--errorBanner--arlJR",c="change_payment_modal--fixedHeightContainer--0RPgo",u="change_payment_modal--errorContainer--RZaDU",m="change_payment_modal--formContainer--bnMlV",_="change_payment_modal--buttonContainer--8IXxk",p="change_payment_modal--spinner--568DK"},483055(e,t,a){"use strict";a.d(t,{C$:()=>c,HT:()=>s,Oh:()=>i,Op:()=>m,Pv:()=>n,YX:()=>o,eg:()=>r,l8:()=>u,tr:()=>d,wz:()=>l});let s="sidebar_row--sidebarRow--N0NxU",n="sidebar_row--sidebarRowPreventHover--OxIER",i="sidebar_row--sidebarRowFavoritesToMove--g10fe",r="sidebar_row--sidebarRowContainer--2rSg6",l="sidebar_row--sidebarRowSelected--BZAjI",o="sidebar_row--draftRow--sRa7N",d="sidebar_row--sidebarPaddingWithGrabber--l7ODh",c="sidebar_row--sidebarRowContent--pklEb",u="sidebar_row--sidebarRowContentContainer--kXtDB",m="sidebar_row--adminSeeMoreRow--EHuvQ"},227694(e,t,a){"use strict";if(a.d(t,{A$:()=>_,BC:()=>x,Td:()=>v,V4:()=>g,W4:()=>b,Z4:()=>h,aN:()=>p,kl:()=>m,uH:()=>u}),1464==a.j)var s,n=a(745463);var i=a(850159),r=a(350923),l=a(965974),o=a(490731),d=a(319652);if(a(18526),1464==a.j)var c=a(328151);let u="admin_requests_dashboard",m="admin_seat_requests_page",_="admin_request_flyout",p=(0,r.eU)(!1),g=(0,r.eU)(new Set);function h(e,t){let a=e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});return Object.keys(a).some(e=>(0,n.Vq)(t[e])&&t[e]<a[e])}var x=1464==a.j?((s=x||{}).REQUESTED="request",s):null;function b(e){return e?{columnName:"request",isReversed:e===d.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function v(e,t,a,s){return a||void 0===t||t.reason===o.D.COST_MESSAGING_DISABLED?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&t.reason===o.D.AVAILABLE_SEAT?s?(0,i.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,i.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&s?(0,i.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,l.tI)(e),seatCost:t.price}):(0,i.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,l.tI)(e)}),"data-tooltip-type":c.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},486503(e,t,a){"use strict";a.d(t,{Rj:()=>j,Zu:()=>I,eS:()=>f});var s=a(239976),n=a(645186),i=a(706354),r=a(850159);if(a(574988),1464==a.j)var l=a(214030);var o=a(655673),d=a(63633),c=a(90550),u=a(113116);if(1464==a.j)var m=a(48199);var _=a(57594);if(1464==a.j)var p=a(319652);var g=a(985373),h=a(773201);if(1464==a.j)var x=a(487817);var b=a(735292),v=a(547898);function f(){let e=(0,n.wA)(),t=(0,h.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(u.$z,{variant:"secondary",onClick:()=>{e(g.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:v.J7.ACTIVITY,activityTabInitialEventOptionId:"upgrade_requests_and_activity"}))},"data-testid":"admin-dashboard-view-history-button",trackingProperties:{trackingDescriptor:l.c.VIEW_HISTORY},children:(0,r.t)("admin_dashboard.requests.view_history")})}function j({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===p.ps.TEAM?(0,s.jsx)(y,{}):(0,s.jsx)(T,{orgId:e,configuredUpgradeRequestSetting:a})}function y(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.teamBilling),a=t.summary.currency,d=t.summary.monthly_subscription?b.IX.MONTH:b.IX.YEAR,c=(0,o.L)(i.FigmaTeam.EXPANSION);return(0,s.jsx)(u.$z,{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":m.qf,onClick:(0,_.S)({dispatch:e,currency:a,renewalTerm:d}),variant:"secondary",trackingProperties:{trackingDescriptor:l.c.APPROVAL_SETTINGS},trackingOptions:c,children:(0,r.tx)("admin_dashboard.requests.approval_settings")})}function T({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,n.wA)(),c=(0,d.Xf)(e),p=c.data?.currency,g=t===x.Sm.ALL_USERS?(0,_.d)({dispatch:a}):(0,_.S)({dispatch:a,currency:p,renewalTerm:b.IX.YEAR,isCurfEnabledForMembers:t===x.Sm.MEMBERS}),h=(0,o.L)(i.FigmaTeam.EXPANSION);return(0,s.jsx)(u.$z,{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":m.qf,onClick:g,variant:"secondary",trackingProperties:{trackingDescriptor:l.c.APPROVAL_SETTINGS},trackingOptions:h,children:(0,r.tx)("admin_dashboard.requests.approval_settings")})}function I({text:e,showSpinner:t}){return(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k"},children:[(0,s.jsx)("div",{...{0:{className:"x1bpp3o7"},1:{className:"x1bpp3o7 xlshs6z"}}[0|!!t],children:e}),t&&(0,s.jsx)(c.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}},93736(e,t,a){"use strict";a.d(t,{E:()=>d});var s=a(239976),n=a(105652);if(1464==a.j)var i=a(208650);var r=a(350923),l=a(912031),o=a(319652);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:g,isOrgAdmin:h}){let[x,b]=(0,r.fp)(l.Y),v=m||g,f=v?[d,c,u].toString():[d,c].toString(),j=(0,n.useMemo)(()=>JSON.stringify(v?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:h?[null]:[]}),[e,t,u,a,v,h]),y=(0,o.z7)({planType:d,planId:c,filterParams:j,processedRequestIds:p}),[T,I]=(0,n.useState)(null);return n.useEffect(()=>{if(null!==y&&(I(y.length),u)){let e={...x};e[f]=y.length,b(e)}},[y,f]),null!==T&&(y?.length!==0||m)&&(0,s.jsx)(i.E,{variant:u&&_===o.V7.ALL_MANAGED_REQUESTS||!u&&_===o.V7.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:T.toString()})||(0,s.jsx)("div",{})}},996596(e,t,a){"use strict";a.d(t,{s:()=>m,u:()=>_});var s=a(105652),n=a(645186);if(1464==a.j)var i=a(916290);var r=a(850159),l=a(436174);if(1464==a.j)var o=a(613629);if(1464==a.j)var d=a(506026);var c=a(691950),u=a(387960);function m(){let e=(0,n.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:s})=>{let n=t?(0,r.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,r.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&s&&(n=(0,r.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:n,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:i.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,r.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:i.lQ}))},dispatchSuccessWithRequesterNameAndSeatName:(t,a)=>{let s=(0,u.Ll)(t,a),n={text:(0,r.t)("admin_dashboard.request_approved.learn_more"),action:()=>{l.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma","_blank")}};e(o.F.enqueue({message:s,icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",button:n,onDismiss:i.lQ,timeoutOverride:12e4}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,r.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,r.t)("admin_dashboard.requests.error_multiple"):(0,r.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,r.t)("admin_dashboard.requests.error_reload"),action:()=>{l.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,r.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,r.t)("admin_dashboard.requests.error_reload"),action:()=>{l.Ay.reload("Admin requests dashboard error")}}}))}}}function _(e,t){let a=(0,n.wA)();(0,s.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},173942(e,t,a){"use strict";a.d(t,{W:()=>v});var s=a(239976),n=a(645186),i=a(395227),r=a(71239),l=a(297151),o=a(850159),d=a(214030),c=a(865804),u=a(63633),m=a(227031),_=a(113116),p=a(38900),g=a(936652),h=a(618458),x=a(113641);function b(e){let t,a=i.hS({open:e.open,onClose:e.onClose}),m=(0,n.wA)(),g=(0,u.Xf)(e.plan.key.parentId,e.plan.key.type!==h.OL.TEAM),b=(0,n.d4)(e=>e.teamBilling),v=e.plan.key.type===h.OL.TEAM?b.summary.currency:g.data?.currency,f=()=>m(p.Ce());return t=!v||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,s.jsx)("p",{children:(0,o.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,s.jsx)("p",{children:(0,o.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,s.jsxs)(s.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,o.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,s.jsx)("br",{})]}),(0,s.jsx)("p",{children:(0,o.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,s.jsx)(r.bL,{manager:a,width:"lg",children:(0,s.jsx)(c.fu,{name:x.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:(0,o.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(l.nB,{children:t}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(_.$z,{variant:"secondary",onClick:f,trackingProperties:{trackingDescriptor:d.c.CANCEL},children:(0,o.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(_.$z,{variant:"primary",onClick:()=>{f(),e.onConfirm()},trackingProperties:{trackingDescriptor:d.c.APPROVE_ALL},children:(0,o.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})}let v=(0,g.Ju)(function(e){return(0,s.jsx)(m.u9,{label:"ApproveAllConfirmationModal",children:(0,s.jsx)(b,{...e})})},"ApproveAllConfirmationModal")},941295(e,t,a){"use strict";a.d(t,{m:()=>ej});var s=a(239976),n=a(105652),i=a(645186),r=a(706354),l=a(850159),o=a(140979),d=a(668522),c=a(289886),u=a(490731),m=a(634634),_=a(6401),p=a(886293),g=a(64561),h=a(953236),x=a(63504),b=a(77972),v=a(487817),f=a(644350),j=a(331850),y=a(350923),T=a(214030),I=a(655673),S=a(113116),w=a(227694),E=a(486503);function N({onClose:e,onApprove:t,onDecline:a,requestId:n}){let i=(0,y.md)(w.aN),o=(0,y.md)(w.V4),d=!!i||o.has(n),u=(0,I.L)(r.FigmaTeam.EXPANSION);return(0,s.jsxs)("div",{className:c.s.wFull.flex.flexColumn.gap8.$,children:[(0,s.jsx)(S.$z,{onClick:()=>{t(),e()},disabled:d,trackingProperties:{trackingDescriptor:T.c.APPROVE},trackingOptions:u,size:"lg",width:"fill",children:(0,s.jsx)(E.Zu,{text:(0,l.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===i&&o.has(n)})}),(0,s.jsx)(S.$z,{onClick:()=>{a(),e()},variant:"secondary",disabled:d,trackingProperties:{trackingDescriptor:T.c.DECLINE},trackingOptions:u,size:"lg",width:"fill",children:(0,s.jsx)(E.Zu,{text:(0,l.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===i&&o.has(n)})})]})}var A=a(843489);a(574988);var C=a(181645),k=a(865804),R=a(63633),O=a(227031),q=a(608293),P=a(883652),M=a(781924),L=a(400914),D=a(660983),B=a(687497),F=a(847965),U=a(311062),V=a(190152),G=a(904511),W=a(473397),$=a(890817),H=a(601198),z=a(220007),K=a(533937),Y=a(476219),Q=a(732632),X=a(356802),J=a(48749);function Z(e){return(0,s.jsx)(O.u9,{label:"SeatCostInfo",children:(0,s.jsx)(ee,{...e})})}function ee({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:n}){let r=(0,i.wA)(),o=(0,j.S2)().unwrapOr(null),d=t.reason===u.D.AVAILABLE_SEAT,c=d?(0,s.jsx)(X.N,{}):(0,s.jsx)(J.V,{}),m=o?.key.type===v.OL.ORG,_=(0,R.Xf)(o?.key.parentId,o?.key.type!==v.OL.TEAM),p=(0,i.d4)(e=>e.teamBilling),g=o?.key.type===v.OL.TEAM?p.summary.currency:_.data?.currency;return(0,s.jsxs)("div",{style:D.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(d,D.sx.colorBgSelected,D.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,s.jsxs)("div",{style:D.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[c,(0,s.jsx)("div",{children:d?m?(0,l.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,l.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,U.tI)(e)}):a&&t.price?(0,l.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,U.tI)(e),seatCost:t.price}):(0,l.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,U.tI)(e)})})]}),!!n.currentSeat&&(0,s.jsx)(Q.$n,{onClick:()=>(0,V.E1)({currency:g,dispatch:r,planUser:{id:n.id,userId:n.user.id,name:n.user.name,handle:n.user.handle,currentSeatType:n.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,s.jsx)("p",{style:D.sx.textBodyMedium.$,children:(0,l.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}let et="change_seat_target_key";function ea({label:e,value:t,onClick:a}){let n=(0,s.jsx)(L.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,s.jsxs)("div",{className:c.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,s.jsx)("div",{className:c.s.colorTextSecondary.$,children:e}),a?(0,s.jsx)(S.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:n}):n]})}function es({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:n}){let r,o=(0,i.wA)(),d=(0,q.Zr)((0,P.Ak)(e.createdAt)),c=(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&o(G.II({emailList:[e.email]}))}:void 0}),u=(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,q.Ay)(e.jobTitle)}),m=(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.request_sent"),value:d}),_=(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.current_seat"),value:n?(0,U.JT)(n):"-"}),p=(0,q.Zr)((0,P.Ak)(t)),g=(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.last_active"),value:t?p:"-"});return r=a?[[c,u,g],[(0,s.jsx)(ea,{label:(0,l.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),_,m]]:[[c,_,m],[u,g]],(0,s.jsx)("div",{style:D.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:r.map((e,t)=>(0,s.jsx)("div",{style:D.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function en({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,C.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(M._,{dataTestId:"pricing-error-banner",color:M.S.WARNING,padding:8,text:(0,l.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function ei({request:e}){let{show:t,isShowing:a,complete:n}=(0,$.e)({overlay:Y.RIS,priority:H.N.DEFAULT_MODAL});return(0,A.h)(()=>{t()}),(0,s.jsx)(z.rq,{description:(0,l.tx)("admin_dashboard.change_seat.choose_a_different_seat"),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:n,targetKey:et,trackingContextName:"Change Seat On Request Approve",trackingProperties:{upgradeRequestId:e.id,originalRequestedBillableProductKey:e.billableProductKey},zIndex:K.R.NOTIFICATION_MODAL})}function er({request:e,requestContextMetadata:t}){let a=e.billableProductKey?e.billableProductKey:x.Gu.VIEW,n=(0,U.JT)(a),o=(0,i.wA)(),d=(0,i.d4)(e=>e.teamBilling),c=(0,j.S2)().unwrapOr(null),u=(0,R.Xf)(c?.key.parentId,c?.key.type!==v.OL.TEAM),m=c?.key.type===v.OL.TEAM?d.summary.currency:u.data?.currency,_=(0,I.L)(r.FigmaTeam.EXPANSION);return(0,s.jsx)(k.fu,{name:"Requested Seat Row",properties:{upgradeRequestId:e.id,originalRequestedBillableProductKey:e.billableProductKey},children:(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1qughib xi4r6k5 xmkeg23 x1y0btm7 x7z60cl x1mxnbhz xjbqb8w"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x1nfngrj x6s0dn4"},children:[(0,s.jsx)(F.BC,{type:a,size:"24"}),(0,s.jsx)(B.E,{children:n})]}),(0,s.jsx)(S.rb,{variant:"secondary",onClick:()=>{let a=e.planUserId,s=e.handle,n=e.name;if(null===m||null===a||null===s||null===n)return void console.error("Error opening seat modal");let i=e.currentSeat.billableProductKey??x.Gu.VIEW;(0,V.E1)({currency:m,dispatch:o,planUser:{id:a,userId:e.userId,name:n,handle:s,currentSeatType:i},upgradeRequest:e,requestContextMetadata:t})},trackingProperties:{upgradeRequestId:e?.id,originalRequestedBillableProductKey:e?.billableProductKey},trackingOptions:_,"data-onboarding-key":et,children:(0,l.tx)("members_table.batch_actions_menu.role_change.seat_rename")})]})})}function el({request:e,planUser:t,billingGroupName:a,seatCostResult:n,shouldHideSeatCostInfo:i,isProrationBillingEnabled:r,failedToLoadPrices:l,requestContextMetadata:o}){let d=(0,W.hQ)()();return(0,s.jsx)(O.u9,{label:"Body",children:(0,s.jsxs)("div",{className:c.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,s.jsxs)("div",{className:c.s.flex.flexColumn.gap24.$,children:[(0,s.jsx)(es,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat}),d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei,{request:e}),(0,s.jsx)(er,{request:e,requestContextMetadata:o})]}):null]}),(0,s.jsxs)("div",{children:[!i&&!!n&&(0,s.jsx)(Z,{seatType:e.billableProductKey,seatCostResult:n,isProrationBillingEnabled:r,planUser:t}),(0,s.jsx)(en,{failedToLoadPrices:l})]})]})})}var eo=a(208650),ed=a(535901),ec=a(224542),eu=a.n(ec),em=a(412427);let e_="request_flyout--secondaryIcon---cIJb";function ep({request:e}){let t=e.name||e.email||(0,l.t)("admin_dashboard.requests.no_name"),a={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,s.jsxs)("div",{"data-testid":"request-flyout-header",className:c.s.flex.flexColumn.gap16.$,children:[(0,s.jsxs)("div",{className:"request_flyout--avatarContainer--GUy6z",children:[(0,s.jsx)(em.H8,{size:48,user:a}),e.hasBeenNudged?(0,s.jsx)("div",{className:eu()(e_,"request_flyout--reminderIcon--o-qps"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,s.jsx)(ed.t,{"aria-hidden":!0,style:D.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,s.jsx)("div",{className:eu()(e_,"request_flyout--planIcon--xneVR"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,s.jsx)(V.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16","aria-hidden":!0})})]}),(0,s.jsxs)("div",{className:c.s.flex.flexColumn.$,children:[(0,s.jsxs)("div",{...{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f"},children:[(0,s.jsx)(L.G,{text:t,className:c.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===v._D.GUEST&&(0,s.jsx)(eo.E,{size:"lg",variant:"defaultOutline",children:(0,l.tx)("admin_dashboard.requests.badge.guest")})]}),(0,s.jsx)("div",{className:c.s.textHeadingMedium.fontMedium.$,children:(0,l.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,U.tI)(e.billableProductKey)})})]}),!!e.lastNudgedAt&&(0,s.jsx)("div",{className:"request_flyout--reminder--6lXz2","data-testid":"nudged-request-banner",children:(0,l.tx)("admin_dashboard.requests.reminder_sent",{time:(0,P.JD)(e.lastNudgedAt)})}),e.message&&(0,s.jsx)("div",{style:D.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var eg=a(360214);function eh(){return(0,s.jsxs)("div",{className:c.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,s.jsx)(eg.Wi,{style:D.sx.w48.h48.bRadiusFull.$}),(0,s.jsx)(eg.Wi,{style:D.sx.add({width:"20%"}).h16.$}),(0,s.jsx)(eg.Wi,{style:D.sx.add({width:"40%"}).h24.$})]})}function ex(){return(0,s.jsxs)("div",{className:c.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,s.jsx)(eg.Wi,{className:c.s.wFull.h32.$}),(0,s.jsx)(eg.Wi,{className:c.s.wFull.h200.$})]})}function eb(){return(0,s.jsxs)("div",{className:c.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,s.jsx)(eg.Wi,{style:D.sx.wFull.h32.$}),(0,s.jsx)(eg.Wi,{style:D.sx.wFull.h32.$})]})}let ev=(0,n.forwardRef)((e,t)=>(0,s.jsx)(_.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,s.jsx)(p.m.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),ef=function({request:e,billingGroups:t,onClose:a,onApprove:_,onDecline:y,requestContextMetadata:T}){let I,S,w,E,A=(0,i.wA)(),C=(0,j.S2)().unwrapOr(null);if(!C)throw Error("Missing Plan.");let k=C.key.type===v.OL.ORG,R=(0,i.d4)(t=>{let a=t.teamMembersByTeamId[C.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:O,status:q}=(0,u.n)(C,e&&{...e}),P=O(),M=(0,b.d)({reportErrorsToTeam:r.FigmaTeam.SCALE}),L=(0,m.k)(),[D,B]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(){await A(h.m$({teamId:C?.key.parentId??""}))}async function a(){B(await A(g.I1({orgId:C?.key.parentId??"",userId:e?.userId??""})))}return k&&a(),C?.key.type===v.OL.TEAM&&t(),()=>B(null)},[A,k,C?.key.parentId,C?.key.type,e?.userId]);let F=(0,o.bc)(f.oSh,{orgId:C?.key.parentId??"",orgUserIds:D?[D.id]:[]},{enabled:!!D&&t.length>0});if(!e)return(0,s.jsx)(s.Fragment,{});E=k?{id:D?.id??"",user:{id:D?.user.id??"",name:D?.user.name??"",handle:D?.user.handle??""},lastActive:D?.last_seen??void 0,currentSeat:D?D.active_seat_type?.key??x.Gu.VIEW:void 0}:{id:R?.team_user?.id??"",user:{id:R?.team_user?.user_id??"",name:R?.name??"",handle:R?.team_user?.user?.handle??""},lastActive:R?.last_active?new Date(1e3*R.last_active).toISOString():void 0,currentSeat:R?R.team_user?.active_seat_type?.key??x.Gu.VIEW:void 0};let U=!D||"loading"===F.status,V="errors"===q,G=M||V||u.D.MISSING_CURRENCY===P?.reason||u.D.COST_MESSAGING_DISABLED===P?.reason,W=!E||k&&U;if(W)I=(0,s.jsx)(eh,{}),S=(0,s.jsx)(ex,{}),w=(0,s.jsx)(eb,{});else{let n=((e,t)=>{let a=(0,d.oA)(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[s]=a,n=e.length>0&&s?e.find(e=>e.id===s.licenseGroupMember?.licenseGroupId)??null:null;return n?.name})(t,F);I=(0,s.jsx)(ep,{request:e}),S=(0,s.jsx)(el,{request:e,planUser:E,billingGroupName:n,seatCostResult:P,shouldHideSeatCostInfo:G,failedToLoadPrices:V,isProrationBillingEnabled:L,requestContextMetadata:T}),w=(0,s.jsx)(N,{onClose:a,onApprove:_,onDecline:y,requestId:e.id})}return(0,s.jsx)(p.m.Contents,{children:(0,s.jsxs)("div",{className:c.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,s.jsx)(p.m.HiddenTitle,{children:W?(0,l.tx)("admin_dashboard.request_flyout.title_loading"):(0,l.tx)("admin_dashboard.request_flyout.title",{user:E.user.handle})}),I,(0,s.jsxs)("div",{className:c.s.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[S,w]})]})})};function ej(e){let{request:t,billingGroups:a,open:n,onClose:i,onApprove:r,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c,requestContextMetadata:u}=e;return{requestFlyout:(0,s.jsx)(ev,{open:n,onClose:i,trackingName:o,trackingProperties:{...d},ref:c,children:(0,s.jsx)(ef,{request:t,billingGroups:a,onClose:i,onApprove:r,onDecline:l,requestContextMetadata:u})})}}},918135(e,t,a){"use strict";a.d(t,{l:()=>eH});var s=a(239976),n=a(105652),i=a(645186),r=a(494105),l=a(130729),o=a(916290),d=a(706354),c=a(850159),u=a(350923),m=a(224542),_=a.n(m),p=a(214030),g=a(865804),h=a(655673),x=a(274348),b=a(140979),v=a(227031),f=a(198788),j=a(623620),y=a(645724),T=a(921424),I=a(883652),S=a(360214),w=a(848694),E=a(400914),N=a(192754),A=a(289886),C=a(660983),k=a(613629),R=a(506026),O=a(397383),q=a(596690),P=a(847965),M=a(14686),L=a(634634),D=a(311062),B=a(912031),F=a(227694),U=a(319652),V=a(486503),G=a(93736),W=a(996596),$=a(173942),H=a(395227),z=a(71239),K=a(297151),Y=a(63633),Q=a(113116),X=a(38900),J=a(936652),Z=a(618458),ee=a(113641);function et(e){let t,a=H.hS({open:e.open,onClose:e.onClose}),n=(0,i.wA)(),r=(0,Y.Xf)(e.plan.key.parentId,e.plan.key.type!==Z.OL.TEAM),l=(0,i.d4)(e=>e.teamBilling),o=e.plan.key.type===Z.OL.TEAM?l.summary.currency:r.data?.currency,u=()=>n(X.Ce());t=!o||e.isELA?(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,c.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let m=(0,h.L)(d.FigmaTeam.EXPANSION);return(0,s.jsx)(g.fu,{name:ee.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,s.jsx)(z.bL,{manager:a,width:"lg",children:(0,s.jsxs)(K.vo,{children:[(0,s.jsx)(K.Y9,{children:(0,s.jsx)(K.hE,{children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(K.nB,{children:t}),(0,s.jsx)(K.wi,{children:(0,s.jsxs)(K.jk,{children:[(0,s.jsx)(Q.$z,{variant:"secondary",onClick:u,trackingProperties:{trackingDescriptor:p.c.CANCEL},trackingOptions:m,children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(Q.$z,{variant:"primary",onClick:()=>{u(),e.onConfirm()},trackingProperties:{trackingDescriptor:p.c.APPROVE},trackingOptions:m,children:(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})}let ea=(0,J.Ju)(function(e){return(0,s.jsx)(v.u9,{label:"BulkApproveConfirmationModal",children:(0,s.jsx)(et,{...e})})},"BulkApproveConfirmationModal");var es=a(941295),en=a(552538),ei=a(674221),er=a(784746),el=a(184831),eo=a(183807),ed=a(63504),ec=a(795210),eu=a(12358),em=a(77972),e_=a(515672),ep=a(267925),eg=a(508295),eh=a(498253),ex=a(487817),eb=a(644350),ev=a(525071),ef=a(328151),ej=a(948575),ey=a(694151),eT=a(852448),eI=a(792706),eS=a(843489),ew=a(48199),eE=a(447619),eN=a(890817),eA=a(419586),eC=a(220007),ek=a(476219);function eR(e){let t=(0,eA.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,u.md)(t),{show:n,isShowing:i,complete:r}=(0,eN.e)({overlay:ek.Clh,priority:(0,eE.g)(ek.Clh)},[a]);return(0,eS.h)(()=>{n({canShow:e=>!e})}),(0,s.jsx)(eC.rq,{clickOutsideToHide:!0,description:(0,c.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:i,onClose:r,primaryCta:{label:(0,c.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:p.c.GOT_IT},targetKey:ew.qf,title:(0,c.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var eO=a(614095);a(574988);var eq=a(497544),eP=a(490731);function eM({request:e,plan:t,handleRequests:a,isELA:n,isProrationBillingEnabled:i}){let r=(0,u.md)(F.aN),l=(0,u.md)(F.V4),{calculateCostForSeatTypeIncrease:o}=(0,eP.n)(t,e&&{...e}),m=e.billableProductKey,_=o(),g=!!r||l.has(e.id),x="approving"===r&&l.has(e.id),b=(0,h.L)(d.FigmaTeam.EXPANSION);return x?(0,s.jsx)("div",{...{className:"x78zum5 x6s0dn4 xe8ttls"},children:(0,s.jsx)(eq.k,{size:"sm"})}):(0,s.jsx)(Q.Me,{"aria-label":(0,c.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:g,trackingProperties:{trackingDescriptor:p.c.APPROVE},"data-testid":"approve-button-single",...(0,F.Td)(m,_,n,i),trackingOptions:b,children:(0,s.jsx)(eO.U,{})})}var eL=a(129416);function eD({request:e,setHighlightedItemId:t}){let a=(0,h.L)(d.FigmaTeam.EXPANSION);return(0,s.jsx)(Q.Me,{"aria-label":(0,c.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:p.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,s.jsx)(eL.a,{})})}var eB=a(178692),eF=a(636773),eU=a(825131);function eV(e){let t=(0,i.wA)(),a=(0,eF.Um)(),n=a?.type===e.type;return(0,s.jsxs)(eB.V,{showingDropdown:n,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,s.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),n&&(0,s.jsx)(y.gw,{dispatch:t,className:eU.x1,style:a.data.position,children:e.renderFilterOptions()})]})}var eG=a(360728);let eW="approving-all-requests",e$="RequestFlyout";function eH(e){return(0,s.jsx)(v.u9,{label:"SeatRequestsPage",children:(0,s.jsx)(ez,{...e})})}function ez({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let m,v=e?.key.type==="team"?U.ps.TEAM:U.ps.ORG,H=e.key.parentId??"",z=(0,el.B)(),K=n.useRef(null),Y=n.useRef(null),Q=(0,L.k)(),J=(0,h.L)(d.FigmaTeam.EXPANSION),Z=(0,i.wA)(),{seatAvailability:et}=(0,M.k)(e),{Sprig:eS}=(0,f.A)(),[ew,eE]=(0,n.useState)(!1),[eN,eA]=(0,n.useState)(""),[eC,ek]=(0,n.useState)(null),[eO,eq]=(0,n.useState)(U.i5.NEWEST_FIRST),[eP,eL]=(0,u.fp)(F.aN),eB=(0,n.useRef)(0),[eF,eH]=(0,n.useState)(0),ez=(0,i.d4)(({selectedView:e})=>e),eK=a??F.kl,{dispatchSuccess:eY,dispatchSuccessWithRequesterName:eQ,dispatchRequestAlreadyHandled:eX,dispatchProcessingError:eJ,dispatchGenericError:eZ}=(0,W.s)(),[e0,e1]=(0,u.fp)(B.Y),[e4,e5]=(0,u.fp)(F.V4),[e6,e8]=(0,n.useState)(()=>new Set),[e2,e9]=(0,n.useState)(()=>new Set),[e3,e7]=(0,n.useState)(null),[te,tt]=(0,n.useState)(0),[ta,ts]=(0,n.useState)(0),[tn,ti]=(0,n.useState)(U.V7.ALL_MANAGED_REQUESTS),[tr,tl]=(0,n.useState)(tn),[to,td]=(0,n.useState)(null),tc=(0,eh.MX)(),tu=(0,eg.TA)(),tm=v===U.ps.ORG,t_=(0,n.useMemo)(()=>tm?(0,eh.EQ)(tc,tu,!1).groupsUserIsAdminOf:[],[tc,tu,tm]),tp=(0,n.useMemo)(()=>t_?t_.map(e=>e.id):[],[t_]),tg=(0,n.useMemo)(()=>tn===U.V7.ALL_MANAGED_REQUESTS?t?[null,...tp]:tp:null,[tn,tp,t]),th=(0,n.useMemo)(()=>{switch(tr){case U.V7.ALL_ORG_REQUESTS:return null;case U.V7.ALL_MANAGED_REQUESTS:return t?[null,...tp]:tp;case U.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(tr in U.V7))return[tr];return null}},[tr,tp,t]),tx=(0,n.useMemo)(()=>JSON.stringify({search_query:eN,billable_product_key:eC,refreshNonce:te,sortTypeNonce:eO,billing_group_ids:th,org_user_permission:to}),[eN,eC,te,eO,th,to]),tb=(0,n.useMemo)(()=>JSON.stringify({billing_group_ids:tg}),[tg]),tv=(0,b.bc)((0,eb.EEx)({planType:v,planId:H,sortOrder:eO===U.i5.NEWEST_FIRST?"desc":"asc",filterParams:tx,firstPageSize:25})),tf=(0,U.z7)({planType:v,planId:H,filterParams:tx,processedRequestIds:e2}),tj=(0,U.z7)({planType:v,planId:H,filterParams:JSON.stringify({refreshNonce:tx,billing_group_ids:tg}),processedRequestIds:e2}),ty=(0,b.bc)((0,eb.HpJ)({orgId:H}),{enabled:tm}),tT="loaded"===tv.status,tI=tT&&!!tv.data?.adminDashboardRequests?.isLoadingNextPage,tS=tT&&!!tv.data?.adminDashboardRequests?.hasNextPage(),[tw,tE]=(0,n.useState)({loading:!0,requestId:void 0,request:void 0}),tN=tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt&&t,tA=tm&&"loaded"===ty.status&&t?ty.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tC=(0,U.ZY)({isIntendedAudience:tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,W.u)(tm,t);let tk=(0,em.d)({reportErrorsToTeam:d.FigmaTeam.SCALE}),tR=!tT||tI||tS||tw.loading,tO=tf?.length??0,tq=tj?.length??0,tP=[v,H].toString(),tM=e0[tP],tL=tq?Math.max(tq,0):0,tD=tj&&tM!==tL,tB=tq>0||null===tj&&!!tM;n.useEffect(()=>{if(tD){let e={...e0};e[tP]=tL,e1(e)}},[tD,tP,tL]);let tF=ew&&null===tO;(0,n.useEffect)(()=>{tT&&e7(new Date)},[tT]),(0,n.useEffect)(()=>{let e=(0,ep.QL)("approvalRequestId");e?tE(t=>({...t,requestId:e})):tE(e=>({...e,loading:!1})),(0,ep.EM)("approvalRequestId")},[]),(0,n.useEffect)(()=>{async function e(e){let t=await (0,e_.q)(e,Z);t?tE(e=>({...e,request:t,loading:!1})):tE(e=>({...e,loading:!1}))}tw.requestId&&e(tw.requestId)},[tw.requestId,Z]),(0,x.R)(()=>{if(tw.requestId&&tw.request){let e=tw.request.requestableOrgUser?.user?.name??tw.request.requestableTeamUser?.user?.name??"";t1({approve:!0,selectedRequestIds:[tw.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:U.Xv.EMAIL,successHandler:e?()=>{eQ({requesterName:e}),tE({loading:!1,requestId:void 0,request:void 0})}:eY})}},tR,e=>!e);let tU=(0,n.useMemo)(()=>{let e=new Set(e6);if(!tT||!tv?.data?.adminDashboardRequests)return[];let t=tv.data?.adminDashboardRequests.reduce((t,a)=>{let s=a.id,n=a.request,i=a.user,l=a.userId;if(n.status!==r.OptionalStatus.Loaded||i.status!==r.OptionalStatus.Loaded)return t;let o=n.data,d=i.data;if(!o||!d)return e.has(s)||e.add(s),t;if(!o.billableProductKey)return t;let c=(0,eu.Zx)(o.billableProductKey);if(e.has(s))return t;if("pending"!==o.status)return e.has(s)||e.add(s),t;let u=!!o.lastNudgedAt;if(s===tw.requestId)return e.has(s)||e.add(s),t;let m=o.requestableTeamUser?.currentSeat;return t.push({id:s,createdAt:o.createdAt,updatedAt:o.updatedAt,name:d.name,email:d.email,imgUrl:d.imgUrl,handle:d.handle,message:o.message&&o.message.trim().length>0?o.message:null,jobTitle:d.profile?.jobTitle??null,userId:l,hasBeenNudged:u,lastNudgedAt:o.lastNudgedAt,billableProductKey:c,currentSeat:{billableProductKey:m?.billableProductKey,billingInterval:m?.billingInterval},orgPermission:o.requestableOrgUser?.permission,planUserId:o.requestableOrgUser?.id??o.requestableTeamUser?.id??null}),t},[]);return e9(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>{let a=e.lastNudgedAt??e.createdAt,s=t.lastNudgedAt??t.createdAt;return eO===U.i5.NEWEST_FIRST?s.getTime()-a.getTime():a.getTime()-s.getTime()})},[tT,tv.data,tw.requestId,e6,eO]),tV=n.useCallback(e=>tU.find(t=>t.id===e),[tU]),{highlightedItem:tG,setHighlightedItemId:tW,clearHighlightedItemId:t$}=(0,ei.v)(tV,{interactionConfig:[{ref:Y,shouldClearHighlight:!1},{ref:K,shouldClearHighlight:!1},{ref:z,shouldClearHighlight:!0}],onHighlight:()=>{Y.current?.focus()},onClear:(0,er.b)(e$)}),tH=(0,n.useMemo)(()=>new Set(tU?.filter(e=>[ed.ud.DEVELOPER,ed.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tU]);(0,x.R)(()=>{let e=(0,ep.QL)("viewRequestId");e&&(tU.find(t=>t.id===e)?tW(e):eX(),(0,ep.EM)("viewRequestId"))},tR,e=>!e);let tz=(0,n.useMemo)(()=>(0,l.s)(eA,300),[eA]),tK=e=>e===U.r1.GUESTS?(0,c.t)("admin_dashboard.requests.guests"):e===U.r1.MEMBERS?(0,c.t)("admin_dashboard.requests.members"):(0,c.t)("admin_dashboard.requests.all_users"),tY=tn===U.V7.ALL_ORG_REQUESTS&&tc.length>0,tQ=tn===U.V7.ALL_MANAGED_REQUESTS&&(t_.length>0&&t||!t&&t_.length>1),tX=(tN||tC)&&(tY||tQ),tJ=n.useCallback(({approve:e,requestId:t,selectionMethod:a=U.Xv.SINGLE,entryPoint:s=eK,successHandler:n=eY})=>{e5(e=>new Set(e).add(t)),eL(e?"approving":"declining");let i=e?ej.w.approveRequests.bind(ej.w):ej.w.denyRequests.bind(ej.w),r=tU.find(e=>e.id===t);i({plan_id:H,plan_type:v,included_request_ids:[t],selection_method:a,entry_point:s,is_proration_billing_enabled:Q,is_seat_increase_authorized:(0,F.Z4)(r?[r]:[],et)}).then(t=>{200!==t.status?eZ():t.data.meta.failed_attempts>0?eJ({multiple:!1}):n({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{eZ()}).finally(()=>{e5(e=>{let a=new Set(e);return a.delete(t),a}),eL(!1),ts(e=>e+1)})},[eK,eZ,eJ,eY,Q,H,v,tU,et,e5,eL]),tZ=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:s=eK})=>{eH(eB.current),eL(a?"approving_all":e?"approving":"declining"),a&&tq&&Z(k.F.enqueue({message:(0,c.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tq}),type:eW,timeoutOverride:1/0,icon:R.zX.SPINNER,preventDismissal:!0,role:"status"}));let n=a||ew,i=new Set(t),r=tU.filter(e=>i.has(e.id)),l={plan_id:H,plan_type:v,entry_point:s,async_processing:e,is_proration_billing_enabled:Q,is_seat_increase_authorized:!!a||(0,F.Z4)(r,et)},o=n?{...l,subtractive:!0,excluded_request_ids:a?[]:tU.map(e=>e.id).filter(e=>!i.has(e)),filter_params:a?tb:tx,timestamp:(e3??new Date).toISOString(),selection_method:a?U.Xv.APPROVE_ALL:U.Xv.BULK_SELECT}:{...l,included_request_ids:t,selection_method:U.Xv.BULK_SELECT,filter_params:tb},d=(t,a,s)=>{200!==t?eZ():a>0?eJ({multiple:!0}):eY({approve:e,numRequests:s,asyncUpdate:e})},u=()=>{eL(!1),eH(0),n&&tt(e=>e+1),ew&&eE(!1)};e?ej.w.approveRequests.bind(ej.w)(o).then(t=>{if(d(t.status,t.data.meta.failed_attempts,t.data.meta.successful_attempts),e){let e=t.data.meta.processed_request_ids;e8(t=>new Set([...t,...new Set(e)]))}ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{a&&Z(k.F.dequeue({matchType:eW})),u()}):ej.w.denyRequests.bind(ej.w)(o).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{u()})},[tb,eK,Z,eZ,eJ,eY,tx,Q,e3,H,v,tU,et,ew,eL,tq]),t0=n.useCallback(e=>{let t=e?F.A$:eK;return"dashDeepLinkEntryPoint"in ez&&ez.dashDeepLinkEntryPoint||t},[ez,eK]),t1=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:s=!1,singleRequestSelectionMethod:n,successHandler:i=eY,sprig:r,isHandlingInFlyout:l=!1})=>{let o=t0(l);if(s){let a=n||U.Xv.SINGLE;tJ({approve:e,requestId:t[0],selectionMethod:a,entryPoint:o,successHandler:i})}else tZ({approve:e,selectedRequestIds:t,approveAll:a});r&&s&&r("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),r&&v===U.ps.TEAM&&!e&&t.some(e=>tH.has(e))&&r("track","admin-dashboard-dev-mode-decline")},[v,eY,tJ,tZ,tH,t0]),t4=U.Xv.SINGLE,{requestFlyout:t5}=(0,es.m)({request:tG,billingGroups:tc,flyoutRef:Y,open:!!tG,onClose:t$,onApprove:()=>{t1({approve:!0,selectedRequestIds:tG?[tG.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:t4,sprig:eS,isHandlingInFlyout:!0})},onDecline:()=>t1({approve:!1,selectedRequestIds:tG?[tG.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:t4,sprig:eS,isHandlingInFlyout:!0}),trackingName:e$,trackingProperties:{requestId:tG?.id},requestContextMetadata:{selectionMethod:t4,requestEntryPoint:t0(!0)}}),t6=n.useCallback(e=>{let t=e.name||e.email||(0,c.t)("admin_dashboard.requests.no_name");return(0,s.jsx)(ey.az,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===ex._D.GUEST?{color:j.zE.DEFAULT,text:(0,c.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:U.Lv,includeUserEmailAddress:!0,className:eU.U0})},[]),t8=n.useCallback(e=>{if(!(0,ed.dA)(e.billableProductKey))return(0,s.jsxs)(s.Fragment,{children:[" ",(0,D.tI)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,s.jsxs)("div",{className:A.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(P.BC,{type:t,size:"24"}),(0,D.tI)(e.billableProductKey)]})}},[]),t2=n.useCallback(e=>(0,s.jsx)("div",{className:e.hasBeenNudged?eU.cp:void 0,"data-tooltip-type":e.hasBeenNudged?ef.Ib.TEXT:void 0,"data-tooltip":(0,c.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,s.jsx)(I.h1,{capitalize:!0,date:e.lastNudgedAt??e.createdAt})}),[]),t9=e=>e.lastNudgedAt?e.lastNudgedAt.getTime():e.createdAt.getTime(),t3=n.useMemo(()=>[{name:(0,c.t)("admin_dashboard.requests.columns.name"),className:eU.Mc,cellComponent:t6},{name:(0,c.t)("admin_dashboard.requests.columns.seat_type"),className:eU.eF,cellComponent:t8},{name:(0,c.t)("admin_dashboard.requests.columns.requested"),className:eU.jR,cellComponent:t2,sorting_key:F.BC.REQUESTED,getSortValue:t9,sortNumerically:!0},{name:(0,c.t)("admin_dashboard.requests.columns.note"),className:eU.P_,cellComponent:e=>(0,s.jsx)(E.G,{text:e.message??"",showTooltip:N.i.NEVER,className:A.s.colorTextSecondary.$})}],[t6,t8,t2]),t7=(0,s.jsxs)("div",{className:A.s.flex.columnGap8.pl16.$,children:[tm&&t&&(0,s.jsx)(V.eS,{}),(!tm||t)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V.Rj,{planId:H,planType:v,configuredUpgradeRequestSetting:tA}),(0,s.jsx)(eR,{})]}),tB&&(0,s.jsx)(q.V,{variant:"primary",onClick:()=>{if(null===tO||null===tq)return;let t=eP?o.lQ:()=>t1({approve:!0,approveAll:!0,selectedRequestIds:[]});tq===tO&&tq<1?t():Z(X.to({type:$.W,data:{plan:e,numRequestsToApprove:tq,filteredRowCount:tO,isELA:tk,onConfirm:t,entryPoint:eK}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tq||!!eP,trackingProperties:{trackingDescriptor:p.c.APPROVE_ALL},trackingOptions:J,children:(0,s.jsx)(V.Zu,{text:(0,c.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eP})})]}),ae=(0,s.jsx)("div",{className:A.s.h32.cursorDefault.selectNone.$,children:(0,s.jsxs)(O.Y,{spacing:0,children:[(0,s.jsx)(O.Y,{spacing:0,children:[!0,!1].map(e=>{let a,n,i;return a=e?U.V7.ALL_MANAGED_REQUESTS:U.V7.ALL_ORG_REQUESTS,n=e?en.xo:en.OW,i=e?(0,c.tx)("admin_dashboard.managed_org_requests.title"):(0,c.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===ty.status?ty.data?.org?.name:"org"}),(0,s.jsxs)("div",{role:"button",tabIndex:0,className:A.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(tn===a,A.s.colorText.bRadius5.colorBgPressed,A.s.colorTextSecondary).$,onClick:()=>{ti(a),tl(a),ts(+(0===ta))},"data-onboarding-key":n,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[i,(0,s.jsx)(G.E,{isOrgAdmin:!!t,managedRequests:e,planId:H,planType:v,processedRequestIds:e2,refreshNonce:te,refreshTabCountNonce:ta,selectedRequestView:tn,showAllOrgRequests:tN??!1,showBillingGroupAdminRequests:tC,viewableBillingGroupIds:t?[null,...tp]:tp})]})})}),(0,s.jsx)(O.M,{}),t7]})}),at=(0,s.jsxs)(s.Fragment,{children:[!!tN&&tc.length>0&&ae,(0,s.jsxs)(O.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,s.jsx)(w.y2,{onChange:e=>tz((0,U.Bk)(e)),query:eN,placeholder:(0,c.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:U.MI,resultsCount:tU.length}),(0,s.jsx)(O.M,{}),(tN||tC)&&(0,s.jsx)(eV,{type:U.L8,dataTestId:"user-type-filter",isDefaultFilter:null===to,defaultFilterLabel:(0,c.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,c.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,s.jsx)("span",{className:A.s.fontBold.$,children:tK(to)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.MM,{checked:null===to,onClick:()=>td(null),children:(0,c.t)("admin_dashboard.requests.all_users")}),(0,s.jsx)(y.wv,{}),Object.values(U.r1).map(e=>(0,s.jsx)(y.MM,{checked:to===e,onClick:()=>td(e),children:tK(e)},e))]})}),(0,s.jsx)(eV,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eC,defaultFilterLabel:(0,c.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,c.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,s.jsx)("span",{className:A.s.fontBold.$,children:(0,D.tI)(eC??ed.Gu.VIEW)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.MM,{checked:null===eC,onClick:()=>ek(null),children:(0,c.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,s.jsx)(y.wv,{}),ec.N_.sort(eu.AG).map(e=>(0,s.jsx)(y.MM,{checked:eC===e,onClick:()=>ek(e),children:(0,D.tI)(e)},e))]})}),tX&&(0,s.jsx)(eV,{type:U.OL,dataTestId:"billing-group-filter",isDefaultFilter:tr===tn,defaultFilterLabel:(0,c.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,c.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,s.jsx)("span",{className:A.s.fontBold.$,children:tr===U.V7.ALL_ORG_REQUESTS||tr===U.V7.ALL_MANAGED_REQUESTS?(0,c.t)("admin_dashboard.requests.from_all"):tr===U.V7.ALL_UNASSIGNED_REQUESTS?(0,c.t)("admin_dashboard.requests.from_unassigned"):tc.find(e=>e.id===tr).name})}),renderFilterOptions:()=>{let e=tn===U.V7.ALL_ORG_REQUESTS?tc:t_,t=[{key:tn,label:(0,c.t)("admin_dashboard.requests.from_all")}];return tC||t.push({key:U.V7.ALL_UNASSIGNED_REQUESTS,label:(0,c.t)("admin_dashboard.requests.from_unassigned")}),(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(y.MM,{checked:tr===e.key,onClick:()=>tl(e.key),children:e.label},e.key)),(0,s.jsx)(y.wv,{}),(0,s.jsx)(y.MM,{disabled:!0,checked:!1,onClick:o.lQ,children:(0,c.tx)(tn===U.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,s.jsx)(y.MM,{checked:tr===e.id,onClick:()=>tl(e.id),children:e.name},e.id))]})}})]})]});return(0,s.jsxs)(g.fu,{name:ee.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tm?H:void 0,teamId:v===U.ps.TEAM?H:void 0,entryPoint:"dashDeepLinkEntryPoint"in ez?ez.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:!0},trackingOptions:J,children:[(0,s.jsx)(eo.K,{title:(0,c.t)("admin_dashboard.requests.seat_title"),rightActions:!tN||tc.length<1?t7:void 0}),(0,s.jsx)("div",{className:_()(eU.M2,A.s.if(!tN||0===tc.length,A.s.pt4,A.s.pt12).$),children:(0,s.jsx)(eT.Cj,{actionBar:"approving_all"===eP?void 0:t=>tF?(0,s.jsx)("div",{className:A.s.w150.$,children:(0,s.jsx)(S.Wi,{className:A.s.h12.w150.$,animationType:S.JR.SHIMMER_ON_MENU})}):(0,s.jsx)("div",{className:eU.$h,children:(0,s.jsxs)(O.Y,{spacing:8,children:[(0,s.jsx)(q.V,{variant:"toolbar-secondary",disabled:!!eP,onClick:eP?o.lQ:()=>t1({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eS}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:p.c.DECLINE},trackingOptions:J,children:(0,s.jsx)(V.Zu,{text:(0,c.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eP})}),(0,s.jsx)(q.V,{variant:"primary",disabled:!!eP,onClick:eP?o.lQ:()=>Z(X.to({type:ea,data:{plan:e,requestsToApprove:t,seatAvailability:et,isELA:tk,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t1({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:p.c.REVIEW},trackingOptions:J,children:(0,U.Zm)({text:(0,c.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eP})})]})}),actionBarClassName:_()(eU.KY,tF?void 0:eU.h4),columns:t3,disabled:!!eP,emptyContent:(m=0===eN.length&&null===eC&&tr===tn&&null===to?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:A.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,c.tx)(tA&&tC?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,s.jsx)("div",{style:C.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tA?tA===ev.Sm.MEMBERS?(0,c.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,c.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,c.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):eN.length>0&&null===eC&&tr===tn&&null===to?(0,s.jsx)("div",{className:A.s.lh16.cursorDefault.colorText.$,children:(0,c.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,s.jsx)("div",{className:A.s.lh16.cursorDefault.colorText.$,children:(0,c.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,s.jsx)(T.CY,{trusted:!0,onClick:()=>{ek(null),tl(tn),eA(""),td(null)},children:(0,c.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,s.jsx)(O.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:m})),getItemKey:e=>e.id,getTotalSelected:tF?void 0:(e,t)=>{let a;return eB.current=a=ew&&tO?Math.max(1,tO-(t.length-e.length)):e.length,a},hasNewScrollContext:!0,highlightState:{itemKey:tG?.id??null,setItemKey:tW},isLoading:tR,itemTypeContext:{itemType:U.k_,getSelectedCountString:e=>tF?"":"approving"===eP?(0,c.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eF}):"declining"===eP?(0,c.t)("admin_dashboard.requests.selected_count_denying",{numSelected:eF}):(0,c.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tU,minContentWidth:928,onFetchMore:tS?()=>{tT&&tv?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tG?.id?t$():tW(e.id)},onSelectedItemsChange:e=>{0===e.length&&eE(!1)},onSetSortState:()=>eq(e=>e===U.i5.NEWEST_FIRST?U.i5.OLDEST_FIRST:U.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eE(!e),t$()},rightActionColumns:[{name:"approve-single-column",className:eG.oi,cellComponent:t=>(0,s.jsx)(eM,{request:t,plan:e,numRowsSelected:eB,handleRequests:t1,isELA:tk,isProrationBillingEnabled:Q})},{...eI.VU,cellComponent:e=>(0,s.jsx)(eD,{request:e,setHighlightedItemId:tW})}],scrollBarAlwaysVisible:!0,scrollContentRef:K,sortState:(0,F.W4)(eO),stickyContent:at,unselectableItemKeys:e4})}),t5]})}},447619(e,t,a){"use strict";if(a.d(t,{g:()=>r}),1464==a.j)var s=a(601198);var n=a(476219);let i=[n.rRT,n.TaD,n.Clh,n.Msu,n.LPt];function r(e){let t=i.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),s.N.DEFAULT_MODAL;let a=i.length;return s.N.DEFAULT_MODAL+(a-t)/a}},514538(e,t,a){"use strict";a.d(t,{p:()=>_});var s=a(239976),n=a(645186),i=a(824272),r=a(50751),l=a(276630),o=a(850159),d=a(38900),c=a(865804),u=a(133960);let m=(0,a(936652).Ju)(function(e){return(0,s.jsx)(c.fu,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,s.jsx)(u.R,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),open:e.open,onClose:e.onClose,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),recordingKey:"enableAiFeaturesModal",width:"lg",children:(0,s.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function _(e){let t=(0,n.wA)();return(0,s.jsxs)(i.Yy,{variant:"brand","data-testid":e.testId,children:[(0,s.jsx)(r.Q,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,s.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,s.jsx)(l.N,{href:"#",onClick:()=>{t(d.to({type:m,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},140519(e,t,a){"use strict";a.d(t,{k:()=>A});var s=a(239976),n=a(105652),i=a(645186),r=a(395227),l=a(71239),o=a(297151),d=a(732632),c=a(878521),u=a(850159);a(574988);var m=a(181645),_=a(30890),p=a(838719),g=a(140979),h=a(668522),x=a(834116),b=a(811474),v=a(613629),f=a(893927),j=a(622365),y=a(936652),T=a(865780),I=a(644350),S=a(886213),w=a(507117),E=a(739673);let N=S.M4.Query({fetch:async({planType:e,planParentId:t})=>(await w.QV.getGithubInstallationAdmin({plan_type:e,plan_parent_id:t})).data.meta.installation||null}),A=(0,y.Ju)(function({planType:e,planParentId:t,open:a,onClose:y}){let A=(0,i.wA)(),C=r.hS({open:a,onClose:y}),[k,R]=n.useState(!1),[O,q]=n.useState(!1),P=(0,T.sZ)(),[M]=(0,S.IT)(N({planType:e,planParentId:t}),{enabled:!!t}),L=(0,g.Rs)((0,I.G7P)({orgId:t}),{enabled:!!t}),D=(0,h.oA)(L.data?.org)??null,B=D?.isGithubInstallationRestricted??!1,F="loaded"===M.status?M.data:null,U="loading"===M.status,V=n.useCallback(()=>{(0,_.FJ)((0,j.D)(),"_blank")},[]),G=n.useCallback(()=>{q(!0)},[]),W=n.useCallback(()=>{q(!1)},[]),$=n.useCallback(async()=>{if(F){R(!0);try{await w.QV.deleteGithubInstallation({installation_id:F.id}),m.az.trackDefinedEvent("admin.github_installation_uninstalled",{planType:e,planParentId:t,installationId:F.id.toString(),status:"successful"}),A(v.F.enqueue({message:(0,u.t)("settings_tab.github_app_removed_success"),type:"github-app-removed-success"})),y()}catch{m.az.trackDefinedEvent("admin.github_installation_uninstalled",{planType:e,planParentId:t,installationId:F.id.toString(),status:"error"}),A(v.F.enqueue({message:(0,u.t)("settings_tab.github_app_removed_error"),type:"github-app-removed-error",error:!0}))}finally{R(!1),q(!1)}}},[F,y,A,e,t]),H=F?.created_at?new Date(F.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(0,s.jsx)(l.bL,{manager:C,height:"dynamic",width:O?"md":"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:O?(0,u.t)("settings_tab.github_app_remove_confirmation_title"):(0,u.t)("settings_tab.github_app_modal_title")})}),(0,s.jsx)(o.nB,{padding:O?void 0:0,children:O?(0,s.jsx)("div",{children:(0,u.t)("settings_tab.github_app_remove_confirmation")}):U?(0,s.jsx)("div",{...{className:"x1ou3mml x2b8uid"},children:(0,u.t)("settings_tab.github_app_loading")}):F?(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1vi7shn xp6roeo x1gcgh60 x1jwbysl"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1i71x30 x1vi7shn xp6roeo"},children:[(0,s.jsx)("div",{...{className:"x1247r65 xng8ra x78zum5 x6s0dn4 xl56j7k xmkeg23 x1y0btm7 x7z60cl x1kogg8i xskserf x1yjdb4r x2lah0s"},children:(0,s.jsx)(b.f,{width:42,height:42})}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x5mp9sv x127mb9d"},children:[(0,s.jsx)("div",{...{className:"xuzfeq1 x8yk33q xk50ysn x18zpg43 x22v61l"},children:(0,u.t)("settings_tab.github_label")}),(0,s.jsx)("div",{...{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1n0bwc9"},children:(0,u.t)("settings_tab.github_app_org_connected",{count:1,date:H})})]}),(0,s.jsx)(d.$n,{variant:"secondary",onClick:V,children:(0,u.t)("settings_tab.github_app_manage_in_github")})]}),(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1nfngrj"},children:[(0,s.jsx)(x.oW,{src:F.avatar_url,alt:F.login,...{className:"xvy4d1p xxk0z11 x16rqkct x2lah0s"}}),(0,s.jsx)("span",{...{className:"xuzfeq1 x8yk33q x1s688f x18zpg43 x22v61l"},children:F.login})]}),(0,s.jsx)("div",{...{className:"x122x9cr x1j6dyjg x1j61x8r xk50ysn x1d3mw78 xqp8s7e x1n0bwc9"},children:(0,u.tx)("settings_tab.github_app_permissions_description",{permissionsLink:(0,s.jsx)(c.N,{href:`${(0,p.getDevelopersUrl)()}/docs/code-connect/github-permissions/`,newTab:!0,trusted:!0,children:(0,u.t)("settings_tab.github_app_permissions_link")})})})]}):(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1vi7shn xp6roeo x1gcgh60 x1jwbysl"},children:[(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1i71x30 x1vi7shn xp6roeo"},children:[(0,s.jsx)("div",{...{className:"x1247r65 xng8ra x78zum5 x6s0dn4 xl56j7k xmkeg23 x1y0btm7 x7z60cl x1kogg8i xskserf x1yjdb4r x2lah0s"},children:(0,s.jsx)(b.f,{width:42,height:42})}),(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x5mp9sv x127mb9d"},children:[(0,s.jsx)("div",{...{className:"xuzfeq1 x8yk33q xk50ysn x18zpg43 x22v61l"},children:(0,u.t)("settings_tab.github_label")}),(0,s.jsx)("div",{...{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1n0bwc9"},children:(0,u.t)("settings_tab.github_app_no_orgs_connected")})]})]}),!!P&&(0,s.jsx)("div",{...{className:"x9otpla x1rm44br xug08bp"},children:(0,s.jsx)(f.T_,{testId:"github-installation-restricted-toggle",label:(0,u.t)("settings_tab.github_installation_restricted_label",{orgName:P?.name??""}),description:(0,u.t)("settings_tab.github_installation_restricted_description"),isActive:!B,onToggle:async e=>{try{await E.Eh.putToggleGithubInstallationRestricted({orgId:t,githubInstallationRestricted:!e}),A(v.F.enqueue({message:e?(0,u.t)("settings_tab.github_installation_restricted_enabled"):(0,u.t)("settings_tab.github_installation_restricted_disabled"),type:"github-installation-restricted-toggle"}))}catch{A(v.F.enqueue({message:(0,u.t)("org_actions.an_error_occurred"),type:"github-installation-restricted-toggle-error",error:!0}))}}},"github-installation-restricted")})]})}),O||F&&!U?(0,s.jsx)(o.wi,{children:(0,s.jsx)(o.jk,{children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:W,disabled:k,children:(0,u.t)("org_settings.general.cancel")}),(0,s.jsx)(d.$n,{variant:"destructive",onClick:$,disabled:k,children:k?(0,u.t)("settings_tab.github_app_removing"):(0,u.t)("settings_tab.github_app_remove_button")})]}):(0,s.jsx)(d.$n,{variant:"destructive",onClick:G,disabled:k,children:(0,u.t)("settings_tab.github_app_remove_button")})})}):null]})})},"GitHubAppSettingsModal")},82361(e,t,a){"use strict";let s;a.d(t,{r:()=>r});var n=a(499422),i=a(936652);function r(){return s??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e("8331"),a.e("7606"),a.e("8916"),a.e("1904"),a.e("9387"),a.e("8778"),a.e("907"),a.e("7630"),a.e("177"),a.e("9931"),a.e("6467"),a.e("5304"),a.e("7420"),a.e("153")]).then(a.bind(a,544392)).then(e=>e.UpdateTeamDescriptionModal),(0,i.Ij)("UpdateTeamDescriptionModal")))}},6401(e,t,a){"use strict";a.d(t,{I:()=>l});var s=a(239976),n=a(706354),i=a(865804),r=a(684325);function l(e){return(0,s.jsx)(r.tH,{boundaryKey:e.trackingName,team:e.team??n.FigmaTeam.SCALE,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,s.jsx)(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,trackingOptions:e.trackingOptions,children:e.children})})}},908295(e,t,a){"use strict";a.d(t,{K:()=>h});var s=a(239976),n=a(645186);if(1464==a.j)var i=a(878521);if(1464==a.j)var r=a(732632);if(1464==a.j)var l=a(181714);var o=a(850159),d=a(838719),c=a(834116),u=a(289886),m=a(397383);if(1464==a.j)var _=a(395232);var p=a(38900),g=a(331850);function h(e){let t=(0,n.wA)(),a=(0,g.px)(),h=(0,g.Um)(a).unwrapOr(!1),x=(0,s.jsxs)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,o.tx)("resource_connection.request_modal.learn_more")," "]});return(0,s.jsxs)(m.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,s.jsx)(c.oW,{src:(0,d.staticAssetWithUploadsPath)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,s.jsx)("div",{className:u.s.textHeadingMedium.$,children:(0,o.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,s.jsx)("div",{className:u.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:h?(0,o.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,o.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.$n,{iconPrefix:(0,s.jsx)(l.$,{}),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))},children:(0,o.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,s.jsx)("div",{className:u.s.h100.$})]})}},928495(e,t,a){"use strict";a.d(t,{A:()=>b});var s=a(239976),n=a(645186),i=a(878521),r=a(732632),l=a(850159),o=a(838719),d=a(227031),c=a(834116),u=a(289886),m=a(34420),_=a(395232),p=a(38900),g=a(481934),h=a(331850),x=a(382217);function b(){return(0,s.jsx)(d.u9,{label:"ConnectedProjectsTabHeader",children:(0,s.jsx)(v,{})})}function v(){let e=(0,n.wA)(),t=(0,h.px)(),a=(0,h.S2)().unwrapOr(null),d=(0,h.Um)(t).unwrapOr(!1),b=a?.tier,v=a?.connectionCount??0,f=(0,g.N)(a?.key,()=>{e(p.to({type:_.B,data:{entryPoint:m.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),j=(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,l.tx)("resource_connection.request_modal.learn_more")});return d?(0,s.jsxs)("div",{className:"connected_projects_tab_header--headerContainer--1gZ8S",children:[(0,s.jsx)("div",{className:"connected_projects_tab_header--contentContainer--sLKLJ",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:u.s.textBodyLarge.$,children:(0,l.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:j})}),(0,s.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--gr7f8",children:[(0,s.jsx)("div",{children:(0,s.jsx)(r.$n,{onClick:f,children:(0,l.t)("resource_connection.admin_ui.connect_project")})}),(0,s.jsx)("div",{className:u.s.colorTextSecondary.$,children:a&&b&&v?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,l.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:v}):x.b[b]-v>0?(0,l.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:v,maxConnections:x.b[b]}):(0,l.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:x.b[b],planTier:(0,x.A)(b)}):null})]})]})}),(0,s.jsx)(c.oW,{src:(0,o.staticAssetWithUploadsPath)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):null}},886293(e,t,a){"use strict";a.d(t,{m:()=>T});var s=a(239976),n=a(105652),i=a(185805),r=a(719451),l=a(555235),o=a(297151),d=a(799680),c=a(850159),u=a(430153),m=a(224542),_=a.n(m),p=a(384834),g=a(823701),h=a(586468),x=a(170665),b=a(289886);let v=(0,n.createContext)(null);function f(){let e=(0,n.useContext)(v);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function j(){return f().close}function y(){let e=j();return(0,s.jsx)("div",{className:_()(b.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close---Do2o"),children:(0,s.jsx)(l.K,{onClick:()=>e("button"),"aria-label":(0,c.t)("modal.close"),children:(0,s.jsx)(d.X,{})})})}let T={Root:(0,n.forwardRef)((e,t)=>{let a=(0,n.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,s.jsx)(v.Provider,{value:a,children:(0,s.jsx)(p.N,{initial:!1,children:e.open?(0,s.jsx)(n.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=f(),o=(0,u.M)(l);(0,n.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,g.xQ)(),m=(0,h.d)("translateX(100%)");return(0,n.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,s.jsx)(i.i,{children:(0,s.jsx)(r.b,{...t,className:_()(b.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,s.jsx)("div",{className:_()(b.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--bO7GT"),children:(0,s.jsxs)(x.P.div,{className:b.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,s.jsx)(y,{}),e]})})})})},Header:function(e){return(0,s.jsx)("div",{className:_()(b.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--g1Hgg"),children:e.children})},HiddenTitle:o.r1,Title:function(e){return(0,s.jsx)(r.J,{className:b.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,s.jsx)("div",{className:_()(b.s.overflowAuto.if("fill"===e.height,b.s.hFull).$,"flyout--body--ZgZ6X"),"data-testid":"flyout-body",children:a.children})},useClose:j}},383355(e,t,a){"use strict";a.d(t,{Q:()=>m});var s=a(105652),n=a(645186),i=a(779757),r=a(985373);if(1464==a.j)var l=a(487817);var o=a(331850);if(1464==a.j)var d=a(142696);var c=a(547898);if(1464==a.j)var u=a(3273);function m(){let e=(0,n.wA)(),t=(0,o.S2)(),a=(0,o.px)(),m=t.unwrapOr(null),_=a.unwrapOr(null),p=s.useCallback((t,a)=>{if(_&&m?.key?.parentId)if(m?.type===l.OL.ORG){let s=m.tier===l.Ag.ENTERPRISE&&_.fromOrgUser?.isLicenseGroupAdmin;if((0,o.uE)(_)){let s=c.J7.DASHBOARD;e(r.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:s,flyoutRequestId:t,dashDeepLinkEntryPoint:a}))}else s&&e(r.sf({view:"billingGroupDashboard",selectedTab:d.D.REQUESTS,flyoutRequestId:t,dashDeepLinkEntryPoint:a}))}else m?.type===l.OL.TEAM&&(0,o.TY)(_)&&e(r.sf({view:"teamAdminConsole",teamId:m.key.parentId,teamAdminConsoleViewTab:u.Iv.DASHBOARD,flyoutRequestId:t,dashDeepLinkEntryPoint:a}))},[e,m?.key.parentId,m?.type,_,m?.tier]);if("loading"===t.status||"loading"===a.status)return i.Qw.loading();if("errors"===a.status)return i.Qw.error(["PlanUserViewError"]);if("errors"===t.status)return i.Qw.error(["PlanViewError"]);if(!m?.key?.parentId)return i.Qw.error(["NoPlan"]);if(!_)return i.Qw.error(["NoPlanUser"]);let g=(0,o.uE)(_),h=(0,o.TY)(_),x=m.tier===l.Ag.ENTERPRISE&&_.fromOrgUser?.isLicenseGroupAdmin;return g||x||h?i.Qw.loaded({callback:p}):i.Qw.error(["NotAdmin"])}},674221(e,t,a){"use strict";a.d(t,{v:()=>l});var s=a(105652);if(1464==a.j)var n=a(730660);var i=a(355341);let r=1464==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,s.useState)(null),d=(0,i.H)(t),c=(0,s.useRef)(void 0),u=(0,s.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,s.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,s.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,s.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,s.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,s.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let s=(0,n.SD)(t.target);for(;s;){let e=a.get(s);if("boolean"==typeof e)return e;s=s.parentElement}return!1},s=e=>{t(e)&&u("other-interaction")},i=e=>{r.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",s,{capture:!0}),document.body.addEventListener("keydown",i,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",s,{capture:!0}),document.body.removeEventListener("keydown",i,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},784746(e,t,a){"use strict";a.d(t,{b:()=>o});var s=a(105652),n=a(706354),i=a(181645),r=a(865804),l=a(655673);function o(e){let{properties:t}=(0,r.j6)(),a=(0,l.L)(n.FigmaTeam.EXPANSION);return(0,s.useCallback)(s=>{(0,i.sx)("admin_flyout_closed",{...t,flyout_id:e,reason:s},a)},[t,e,a])}},184831(e,t,a){"use strict";a.d(t,{B:()=>l,z:()=>r});var s=a(239976),n=a(105652);let i=(0,n.createContext)(null);function r(e){return(0,s.jsx)(i.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,n.useContext)(i);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},57594(e,t,a){"use strict";a.d(t,{S:()=>ep,d:()=>eg});var s=a(239976),n=a(105652),i=a(645186),r=a(79251),l=a(523924),o=a(745463),d=a(706354),c=a(395227),u=a(71239),m=a(297151),_=a(878521),p=a(416815),g=a(850159),h=a(574988),x=a(181645),b=a(214030),v=a(865804),f=a(493094),j=a(227031),y=a(462198),T=a(684325),I=a(781924),S=a(289886),w=a(113116),E=a(613629),N=a(506026),A=a(397383),C=a(580618),k=a(795210),R=a(487817),O=a(18526),q=a(735292),P=a(634634);R.Ag.STUDENT,R.Ag.STARTER;let M=k.N_.dict(()=>"-");var L=a(936652),D=a(450996),B=a(63504),F=a(77972),U=a(331850),V=a(113641),G=a(94160),W=a(694151),$=a(219151),H=a(46449),z=a(505087),K=a(123527),Y=a(660983),Q=a(847965),X=a(311062),J=a(42036),Z=a(387960),ee=a(328151);function et({billableProductKey:e,upgradeApprovalSetting:t,isELA:a,isProrationBillingEnabled:n,isProvisionalAccessEnabled:i}){let r=(0,X.SI)(t),l=(0,X.kj)(t,a,n,i),o=(0,X.NU)(t,a);return(0,s.jsx)(H.Option,{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":o,"data-tooltip-hide-immediately":"","data-tooltip-max-width":"200px","data-tooltip-show-immediately":"","data-tooltip-show-left":"","data-tooltip-text-left":"","data-tooltip-type":ee.Ib.TEXT,disabled:!!o,value:`${e}##${t}`,children:(0,s.jsxs)(z.fv,{...{className:"x1iorvi4 xjkvuk6 x163pfp xy13l1i"},children:[(0,s.jsx)("div",{children:r}),(0,s.jsx)("div",{className:"x126k92a xkrz9af x1p6yuv4",children:l})]})})}let ea=[r.UpgradeApprovalSettings.MANUAL_APPROVAL,r.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,r.UpgradeApprovalSettings.INSTANT_APPROVAL];function es({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:i,isELA:r,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,n.useId)(),u=(0,X.CM)(t),m=ea.map(e=>(0,s.jsx)(et,{billableProductKey:t,upgradeApprovalSetting:e,isELA:r,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`));return(0,s.jsxs)(z.fv,{gap:8,"data-testid":`auto-approval-settings-selector-${t}`,children:[(0,s.jsx)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,s.jsxs)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,s.jsxs)(A.Y,{direction:"horizontal",children:[(0,s.jsx)(Q.BC,{type:t,size:"24"}),(0,s.jsx)("label",{htmlFor:c,className:S.s.textBodyMediumStrong.$,children:u})]}),(0,s.jsx)(en,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,s.jsxs)(H.Root,{value:`${t}##${a}`,onChange:e=>{let[t,a]=e.split("##");i(t,a)},children:[(0,s.jsx)(H.ManuallyLabeledTrigger,{id:c,width:"fill",size:"lg",children:(0,X.SI)(a)}),(0,s.jsx)(H.Container,{children:m.flatMap((e,t)=>t<m.length-1?[e,(0,s.jsx)(H.Separator,{},`divider-${t}`)]:e)})]})]})}function en({shouldHidePrice:e,seatType:t,priceString:a}){let n=e?(0,g.t)("general.whats_included_aria_label",{seatType:(0,Z.QC)(t)}):(0,g.t)("general.price_per_month",{priceString:a}),i=(0,s.jsx)("div",{"data-testid":`${t}-price`,style:Y.sx.noWrap.colorTextSecondary.$,children:e?(0,g.tx)("general.whats_included"):(0,g.tx)("general.price_per_month",{priceString:a})});return(0,s.jsx)(K.b,{type:"listbox",text:i,popoverContent:(0,s.jsx)("div",{style:Y.sx.flex.flexColumn.gap8.$,children:(0,s.jsx)(J.i,{seatType:t,spacing:8})}),ariaLabel:n})}let ei=r.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function er({open:e,onClose:t,currency:a,renewalTerm:r,...p}){let h=(0,i.wA)(),x=c.hS({open:e,onClose:t}),j=(0,F.d)({reportErrorsToTeam:d.FigmaTeam.SCALE}),T=(0,P.k)(),I=(0,U.S2)(),[A]=(0,f.Ad)(I),L=!!A.data?.campfireProvisionalAccessEnabled,$=(0,D.i6)(),H=$.data;if(n.useEffect(()=>{"errors"===$.status&&console.error("orgManagesSeatsViaScimQueryResult error",$.errors)},[$]),"loaded"!==A.status){let e=Error("disabled"===A.status?"Plan fetching disabled":"Error fetching plan");throw(0,y.$D)(d.FigmaTeam.EXPANSION,e),e}let z=A.data;if(!z){let e=Error("No Plan found");throw(0,y.$D)(d.FigmaTeam.EXPANSION,e),e}let{billableProductKeyContractPrices:K,status:Y}=function(e,t,a){let s=(0,C.Ln)(e.key,k.N_,{renewalTerm:a,unit:q.IX.MONTH}),[n]=(0,f.Ad)(s),i=(0,P.k)(),r="disabled"===n.status?Error("Missing contract rate args."):"errors"===n.status?Error("Error while fetching pricing."):void 0;if(r&&(0,y.$D)(d.FigmaTeam.EXPANSION,r),r||!t)return{billableProductKeyContractPrices:M,status:n.status};let{data:l}=n;if(null===l||!i)return{billableProductKeyContractPrices:M,status:n.status};let c=new O.vr(t);return{billableProductKeyContractPrices:k.N_.dict(e=>{if(!(0,o.uy)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:n.status}}(z,a,r),[Q,X]=(0,n.useState)(k.N_.dict(e=>{switch(e){case B.ud.EXPERT:return z.upgradeApprovalSettingsExpert??ei;case B.ud.DEVELOPER:return z.upgradeApprovalSettingsDeveloper??ei;case B.ud.COLLABORATOR:return z.upgradeApprovalSettingsCollaborator??ei;case B.ud.CONTENT:return z.upgradeApprovalSettingsContent??ei;default:(0,l.xb)(e)}})),J=(0,n.useCallback)(async()=>{if(!z.key.type||!z.key.parentId)throw Error("Missing plan key type or parentId.");await G.V.updateUpgradeApprovalSettings(z.key.type,z.key.parentId,Q),t(),h(E.F.enqueue({message:(0,g.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:N.zX.CHECK_WITH_CIRCLE}))},[Q,h,t,z.key.parentId,z.key.type]),Z=(0,n.useCallback)((e,t)=>{X(a=>({...a,[e]:t}))},[]),ee=j||!a||"errors"===Y||!T;return(0,s.jsx)(v.fu,{name:V.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:z.key.type,orgId:z.key.type===R.OL.ORG?z.key.parentId:void 0,teamId:z.key.type===R.OL.TEAM?z.key.parentId:void 0},children:(0,s.jsx)(u.bL,{manager:x,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:S.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(W.Ro,{entity:{...z,id:z?.id??void 0},shape:"CIRCLE",size:48,className:S.s.mb16.$}),(0,s.jsx)("div",{className:S.s.textHeadingMedium.mb8.$,children:p.isCurfEnabledForMembers?(0,g.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,g.tx)("plan_settings.auto_approval_settings.title")}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:S.s.textBodyMedium.colorTextSecondary.preWrap.$,children:j?p.isCurfEnabledForMembers?(0,g.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,g.tx)("plan_settings.auto_approval_settings_subtitle_ela"):p.isCurfEnabledForMembers?(0,g.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,g.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,s.jsx)(_.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,g.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,s.jsxs)("div",{className:S.s.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys(Q).map(e=>{let t=K[e];if((0,o.uy)(t))return null;let a=Q[e];return(0,o.uy)(a)?null:(0,s.jsx)(es,{billableProductKey:e,isELA:j,isProrationBillingEnabled:T,isProvisionalAccessEnabled:L,planName:z.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:Z,shouldHidePrice:ee},e)}),!!p.isCurfEnabledForMembers&&(0,s.jsx)(ed,{}),H&&!p.isCurfEnabledForMembers&&(0,s.jsx)(eo,{}),(0,s.jsx)(el,{failedToLoadPrices:"errors"===Y})]})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsxs)(m.jk,{children:[(0,s.jsx)(w.$z,{variant:"secondary",onClick:t,trackingProperties:{trackingDescriptor:b.c.CANCEL},children:(0,g.tx)("plan_settings.auto_approval_settings.cancel")}),(0,s.jsx)(w.$z,{variant:"primary",onClick:J,trackingProperties:{trackingDescriptor:z.key.type?z.key.type===R.OL.ORG?b.c.SAVE_FOR_ORGANIZATION:b.c.SAVE_FOR_TEAM:b.c.SAVE},children:z.key.type?z.key.type===R.OL.ORG?(0,g.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,g.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,g.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function el({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,x.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(I._,{dataTestId:"pricing-error-badge",color:I.S.WARNING,padding:8,text:(0,g.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function eo(){return(0,s.jsx)(v.fu,{name:V.e0.SCIM_INFO_BADGE,children:(0,s.jsx)(I._,{dataTestId:"scim-info-badge",color:I.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{...h.xk(p.g.textBodyMediumStrong),children:(0,g.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,s.jsx)("p",{children:(0,g.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function ed(){return(0,s.jsx)(v.fu,{name:V.e0.CURF_MEMBER_INFO_BADGE,children:(0,s.jsx)(I._,{dataTestId:"curf-member-only-info-badge",color:I.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{className:S.s.textBodyMediumStrong.$,children:(0,g.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,s.jsxs)("p",{children:[" ",(0,g.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ec=(0,L.Ju)(function(e){return(0,s.jsx)(j.u9,{label:"AutoApprovalSettingsModal",children:(0,s.jsx)(T.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:T.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)($.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,s.jsx)(er,{...e})})})})});var eu=a(732632);let em=(0,L.Ju)(function({open:e,onClose:t}){let a=(0,U.S2)().unwrapOr(null),n=c.hS({open:e,onClose:t});return(0,s.jsx)(v.fu,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,s.jsx)(u.bL,{manager:n,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:S.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(W.Ro,{entity:{...a,id:a?.id??void 0},shape:"CIRCLE",size:48,className:S.s.mb16.$}),(0,s.jsx)("div",{className:S.s.textHeadingMedium.mb8.$,children:(0,g.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,s.jsx)("span",{className:S.s.textBodyMedium.colorTextSecondary.$,children:(0,g.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsx)(m.jk,{children:(0,s.jsx)(eu.$n,{variant:"primary",onClick:t,children:(0,g.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var e_=a(38900);function ep({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:s}){return()=>{e(e_.to({type:ec,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:s}}))}}function eg({dispatch:e}){return()=>{e(e_.to({type:em,data:{}}))}}},830918(e,t,a){"use strict";let s;a.d(t,{Y:()=>w});var n=a(239976),i=a(105652),r=a(645186),l=a(395227),o=a(71239),d=a(297151),c=a(850159),u=a(741542),m=a(865804),_=a(227031),p=a(781924),g=a(86057),h=a(289886),x=a(936652),b=a(487817),v=a(739673),f=a(94160),j=a(145334),y=a(694151),T=a(813049);function I(e){return(0,n.jsx)(_.u9,{label:"AssetTransferAdminListModal",children:(0,n.jsx)(S,{...e})})}function S(e){let t=(0,r.wA)(),a=l.hS({open:e.open,onClose:e.onClose}),s=(0,T.lM)(e.entryPoint),[_,x]=i.useState();i.useEffect(()=>{if((0,u.getFeatureFlags)().can_transfer_admin_list)f.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{x(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else{if(e.planType===b.OL.ORG)return void v.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{x(e.meta)});e.planType===b.OL.TEAM&&j.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{x(e.meta)})}},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let I=e.planName??(0,c.t)("general.fallback_team_name");return(0,n.jsx)(m.fu,{name:"Asset Transfer Admin List Modal",children:(0,n.jsx)(o.bL,{manager:a,width:"lg",children:(0,n.jsxs)(d.vo,{children:[(0,n.jsx)(d.Y9,{children:(0,n.jsx)(d.hE,{children:(0,c.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:I})})}),(0,n.jsxs)(d.nB,{scrolling:"manual",children:[(0,n.jsx)(p._,{color:p.S.INFORMATION,text:s?(0,c.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,c.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,n.jsx)(g.P,{className:"asset_transfer_admin_list_modal--scrollContainer--POwiO",children:(0,n.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--xIiiL",children:(()=>{if(_){let e=_.map(e=>(0,n.jsx)("div",{className:h.s.py8.$,children:(0,n.jsx)(y.az,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,n.jsx)("ul",{children:e})}})()})})]})]})})})}function w(){return s??=(0,x.Ju)(I,"AssetTransferAdminListModal")}},727439(e,t,a){"use strict";a.d(t,{d:()=>C});var s=a(239976),n=a(105652),i=a(645186),r=a(395227),l=a(71239),o=a(297151),d=a(732632),c=a(683579),u=a(850159),m=a(865804),_=a(838719),p=a(227031),g=a(834116),h=a(90550),x=a(289886),b=a(613629),v=a(382217),f=a(38900),j=a(936652),y=a(928814),T=a(481934),I=a(487817),S=a(331850),w=a(328151),E=a(73405),N=a(735282);function A(e){let t=(0,i.wA)(),a=()=>{t(f.Ce())},p=(0,S.S2)().unwrapOr(null),j=r.hS({...e,onClose:a}),[A,C]=n.useState(!1),k=e.resourceConnectionInvite.hostPlan,R=e.resourceConnectionInvite.connectingPlan,O=(0,T.N)(p?.key,()=>{E.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{C(!1),a(),t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{C(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(b.F.enqueue({message:p?.key.type===I.OL.TEAM?(0,u.t)("resource_connection.visual_bell.org_at_limit"):(0,u.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.host_settings",{hostPlanName:k.name}),error:!0})):t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return p?(0,s.jsx)(m.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,s.jsx)(l.bL,{manager:j,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,u.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:k.name})})}),(0,s.jsxs)(o.nB,{padding:0,children:[(0,s.jsx)(g.oW,{src:(0,_.staticAssetWithUploadsPath)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:x.s.maxWFull.$}),(0,s.jsxs)("div",{className:x.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,s.jsx)("p",{className:x.s.$,children:(0,u.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,s.jsx)("span",{className:x.s.fontSemiBold.$,children:R.name})})}),(0,s.jsx)("div",{className:N.fF,children:(0,s.jsx)("div",{className:N.yF})}),(0,s.jsxs)("div",{className:N.Kg,children:[(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,u.t)("resource_connection.project_name")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,u.t)("resource_connection.host")}),(0,s.jsx)("p",{children:k.name})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,u.t)("resource_connection.invited_by")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsxs)("div",{className:N.j1,children:[(0,s.jsx)("p",{className:N.QU,children:(0,u.t)("resource_connection.available_projects")}),(0,s.jsx)("div",{...!p?.tier?{}:{"data-tooltip":(0,u.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:v.b[p.tier],planType:(0,v.A)(p.tier)??""}),"data-tooltip-type":w.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0},children:(0,s.jsx)(c.B,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,s.jsx)("p",{children:p?p?.unlimitedConnectionsEnabled||p?.testingOnlyUnlimitedConnectionsEnabled?(0,u.t)("resource_connection.unlimited"):(v.b[p.tier]-(p?.connectionCount??0)).toString():""})]})]}),(0,s.jsx)("div",{className:N.fF,children:(0,s.jsx)("div",{className:N.yF})})]}),(0,s.jsxs)("div",{className:N.xQ,children:[(0,s.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:x.s.mr8.$,children:(0,s.jsx)(d.$n,{variant:"link",onClick:y.dG,children:(0,u.tx)("resource_connection.request_modal.learn_more")})}),(0,s.jsxs)("div",{className:x.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:()=>{E.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{C(!1),a(),t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{C(!1),console.error("Error denying resource connection invite",e),t(b.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,u.tx)("resource_connection.confirm_modal.decline")}),A?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(h.qc,{})}):(0,s.jsx)(d.$n,{onClick:O,children:(0,u.tx)("resource_connection.connect")})]})]})]})]})})}):(0,s.jsx)(s.Fragment,{})}let C=(0,j.Ju)(function(e){return(0,s.jsx)(p.u9,{label:"ResourceConnectConfirmModal",children:(0,s.jsx)(A,{...e})})},"ResourceConnectConfirmModal")},389742(e,t,a){"use strict";a.d(t,{r:()=>o,w:()=>d});var s=a(105652),n=a(645186),i=a(140979),r=a(985373),l=a(644350);function o(e){let t=(0,i.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(r.sf({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,i.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(r.sf({view:"recentsAndSharing"}))},[t,a])}},347264(e,t,a){"use strict";if(a.d(t,{J:()=>r,V$:()=>l,X$:()=>o,nc:()=>i}),1464==a.j)var s=a(650963);if(1464==a.j)var n=a(3273);function i(e){return e&&(0,s.K)(n.pu,e)||n.pu.OVERVIEW}function r(e){return e&&(0,s.K)(n.F9,e)||n.F9.ABANDONED_DRAFTS}function l(e){return e&&(0,s.K)(n.d2,e)||n.d2.PEOPLE}function o(e,t,a){return e===n.Iv.BILLING?i(t):e===n.Iv.CONTENT?a.showResourceConnectionInviteModal||a.showResourceConnectionFlyout?n.F9.CONNECTED_PROJECTS:r(t):e===n.Iv.MEMBERS?l(t):t}},462359(e,t,a){"use strict";a.d(t,{n:()=>o});var s=a(105652),n=a(645186);if(1464==a.j)var i=a(820658);var r=a(122639),l=a(38900);function o(e,t,a,o,d,c){let u=(0,n.wA)();return s.useCallback(()=>{void 0!==t&&(e===r.am.MEMBERS&&t.team.org_id?u(l.to({type:(0,i.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.to({type:r.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},893927(e,t,a){"use strict";a.d(t,{Ke:()=>I,Kz:()=>v,T_:()=>S,bX:()=>T,x8:()=>j,zk:()=>y});var s=a(239976),n=a(105652);if(1464==a.j)var i=a(555355);if(1464==a.j)var r=a(846692);var l=a(850159);a(574988);var o=a(921424),d=a(69603);a(70499);var c=a(824234),u=a(289886),m=a(113116),_=a(408493),p=a(671527);if(1464==a.j)var g=a(572772);if(1464==a.j)var h=a(328151);var x=a(988299);if(1464==a.j)var b=a(904531);function v(e){return e.nullForEmptySettings&&0===e.settings.length?null:(0,s.jsxs)("section",{"data-testid":`settings-section-${e.title}`,className:e.sectionClass?e.sectionClass:x.uW,children:[(0,s.jsxs)("h2",{className:e.headerClass?e.headerClass:x.Gf,children:[e.icon&&(0,s.jsx)(c.B,{className:x.Kk,svg:e.icon}),(0,s.jsx)("div",{children:e.title}),e.badge&&(0,s.jsx)("span",{className:u.s.inlineFlex.ml8.$,children:e.badge})]}),(0,s.jsxs)("ul",{className:x.IT,children:[e.description,e.settings.map((t,a)=>(0,s.jsxs)("li",{children:[t,a<e.settings.length-1&&(0,s.jsx)("div",{className:x.uk})]},t.props.label+"-"+a))]})]},e.title)}function f(e){return(0,s.jsxs)("div",{className:x.px,children:[(0,s.jsx)("div",{children:e.label}),(0,s.jsx)("div",{className:e.descriptionClassName||x.h_,children:e.description})]})}function j(e){let{onClick:t}=e,a=(0,p.q)(g.UX,!0),i=n.useCallback(()=>{t(),a()},[a,t]),r=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{label:e.label,description:e.description}),(0,s.jsxs)("div",{className:x.XI,children:[(0,s.jsx)("div",{children:e.currentValue}),(0,s.jsx)(c.B,{className:x.OW,svg:b.A})]})]});return e.disabled?(0,s.jsx)("div",{className:x.xm,"data-testid":e.testId,children:r}):(0,s.jsx)(m.e6,{className:x.RU,innerText:e.label,onClick:i,"data-testid":e.testId,"aria-label":e.label,trackingProperties:e.trackingProperties,children:r})}function y(e){return(0,s.jsxs)("div",{className:x.Pe,"data-testid":e.testId,children:[(0,s.jsx)(f,{label:e.label,description:e.description}),(0,s.jsx)(m.$z,{variant:"secondary",innerText:e.buttonText,onClick:e.onClick,disabled:e.disabled,trackingProperties:e.trackingProperties,children:e.buttonText})]})}function T(e){return(0,s.jsx)("div",{className:x.B6,children:(0,s.jsx)(f,{label:e.label,description:e.description})})}function I(e){return(0,s.jsxs)("div",{className:x.Pe,children:[(0,s.jsx)(f,{label:e.label,description:e.description}),(0,s.jsx)("div",{className:x.qp,"data-tooltip":e.contactSupportTooltipCopy??"admin-support@figma.com","data-tooltip-type":h.Ib.TEXT,"data-tooltip-show-above":!0,children:(0,s.jsx)(o.Ph,{trackingEventName:e.label,onClick:()=>{let t=(0,_.Gq)()?.getPrimaryLocale(!1);(0,d.ny)({name:e.user.name,email:e.user.email},{ticketForms:["account"],fields:[{id:"subject",value:e.label},{id:0x8e810a50a97,value:e.tag||""}],suppressAnswerBot:!0,locale:t})},trusted:!0,children:e.contactSupportCopy??(0,l.tx)("settings_tab.contact_support")})})]})}function S(e){let{onToggle:t,sprigOverride:a}=e,l=n.useId(),o=(0,p.q)(g.UX,!0),d=n.useCallback(e=>{t(e),a?a():o()},[o,t,a]);return(0,s.jsxs)("div",{className:x.Pe,"data-testid":e.testId,children:[(0,s.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1db2dqx"},children:[(0,s.jsx)(i.J,{htmlFor:l,children:e.label}),(0,s.jsx)("span",{...{className:"x1n0bwc9"},children:e.description})]}),(0,s.jsx)(r.v,{...e.tooltipText?{"data-tooltip-type":h.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-timeout-delay":50,"data-tooltip-show-above":!0,"data-tooltip-tip-align-right":!0}:{},id:l,disabled:e.disabled,checked:e.isActive,onChange:d})]})}},813621(e,t,a){"use strict";a.d(t,{e9:()=>C,Mn:()=>P});var s=a(239976),n=a(105652),i=a(645186),r=a(557998),l=a(208650),o=a(850159),d=a(350923),c=a(865804),u=a(63633),m=a(140979),_=a(946182),p=a(684325),g=a(824234),h=a(319652),x=a(912031),b=a(883259);function v(e){return(0,s.jsx)("div",{"data-tooltip-type":e.dataTooltipType,"data-tooltip":e.dataTooltip,"data-tooltip-show-above":e.dataTooltipShowAbove,"data-tooltip-show-below":e.dataTooltipShowAbove,"data-tooltip-max-width":e.dataTooltipMaxWidth,"data-tooltip-timeout-delay":e.dataTooltipTimeout,"data-testid":"notice-icon-yellow",className:e.className,style:e.style,children:(0,s.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,s.jsx)("path",{d:"M8 16C8 11.5817 11.5817 8 16 8V8C20.4183 8 24 11.5817 24 16V16C24 20.4183 20.4183 24 16 24V24C11.5817 24 8 20.4183 8 16V16Z",fill:`var(${e.faded?"--color-bg-warning-tertiary":"--color-icon-warning"}, #FFEB00)`}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 11.7499C16.4142 11.7499 16.75 12.0857 16.75 12.4999V15.6259C16.75 16.0401 16.4142 16.3759 16 16.3759C15.5858 16.3759 15.25 16.0401 15.25 15.6259V12.4999C15.25 12.0857 15.5858 11.7499 16 11.7499Z",fill:`var(${e.faded?"--color-text":"--color-icon-onwarning"}, #FFEB00)`}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17.9999C16.5523 17.9999 17 18.4476 17 18.9999V19.0685C17 19.6208 16.5523 20.0685 16 20.0685C15.4477 20.0685 15 19.6208 15 19.0685V18.9999C15 18.4476 15.4477 17.9999 16 17.9999Z",fill:`var(${e.faded?"--color-text":"--color-icon-onwarning"}, #FFEB00)`})]})})}var f=a(691950),j=a(244525),y=a(498253),T=a(487817),I=a(644350),S=a(95803),w=a(16936),E=a(328151);let N="admin_notifications_count_badge--yellowIcon--mrTI3";var A=a(608534);function C(e){let{getConfig:t}=(0,_.I7)("exp_all_admin_request_dash"),a=(0,m.bc)(I.HpJ,{orgId:e.planId},{enabled:e.planType===h.ps.ORG}),i=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,c=(0,h.ZY)({isIntendedAudience:!!(e.planType===h.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),u=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,p=(0,m.bc)(I.KR2,{planType:e.planType,planId:e.planId,filterParams:i||c?JSON.stringify({billing_group_ids:u}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),g="loaded"===p.status&&p.data.adminDashboardRequestsTotalCount.status===r.OptionalStatus.Loaded&&("loaded"===a.status||e.planType===h.ps.TEAM)?p.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,b=g??0,[v,f]=(0,d.fp)(x.Y),j=i?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();n.useEffect(()=>{if(g){let e={...v};e[j]=b,f(e)}return()=>{let e={...v};delete e[j],f(e)}},[e.isDataLoaded,g,j]);let y=(v[j]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(y<1)return null;let T="defaultFilled";return(e.billingStatusCount||e.taxStatusCount)&&(T="warningFilled"),void 0!==g&&y>0&&e.isDataLoaded?(0,s.jsx)(l.E,{"aria-label":(0,o.t)("sidebar.admin_notifications_count",{adminNotificationsCount:y}),variant:T,"data-testid":"admin-notifications-badge",children:y.toString()}):null}function k(e){var t,a;let i,r,l,o,d,c=(t=e.org,a=e.orgUser,i=(0,u.Xf)(t.id),r=(0,y.MX)(),l=n.useMemo(()=>(0,j.Pn)(i.data),[i.data]),o=i.data?.invoices,d=(0,j.Yo)(l?{planKey:{parentId:t.id,type:T.OL.ORG},nextRenewalDate:l}:null),n.useMemo(()=>{let e=(0,b.ur)({invoices:o??[],licenseGroups:r,renewalConfirmed:d,userId:a.user_id,renewalAt:l});return+!!e?.notification},[o,l,d,r,a.user_id]));return(0,s.jsx)(C,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:c,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function R(e){var t;let a,i,r,l,o=(t=e.org,a=(0,u.Xf)(t.id),i=(0,j.oU)(t),r=n.useMemo(()=>(0,j.Pn)(a.data),[a.data]),l=a.data?.invoices,n.useMemo(()=>{if("loaded"!==a.status||!l||"loading"===i.status)return 0;let e=0;i.data?.show&&!i.data?.confirmed&&e++;let s=(0,b.uE)({invoices:l,org:t,renewalAt:r});return s?.notification&&e++,e},[l,t,a.status,i.data,i.status,r])),d=(0,y.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id);return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,s.jsx)(C,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:o,managedBillingGroups:d,taxStatusCount:0,isDataLoaded:void 0!==e.invoices}):null}function O(e,t,a,s,n,i){if(!s||!(0,S.i0)(s))return null;if(i){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,y.EQ)(a,t.user_id,i),{groupsToReview:r}=(0,y.Cz)(e,s);if(0===r.length)return null}return{tooltipData:"",iconStyle:(0,S.m3)(s)?"admin_notifications_count_badge--redIcon--f5d7D":N,iconType:(0,S.m3)(s)?"warning":"notice"}}function q(e){return e!==T.kI.UNVERIFIED?null:{tooltipData:(0,o.t)("billing_status.tax_id.invalid"),iconStyle:N,iconType:"notice"}}function P(e){return(0,s.jsx)(p.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(L,{...e})})}function M(e){let t=(0,i.wA)(),a=(0,y.MX)(),r=e.invoices&&(0,S.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==T._D.ADMIN,o=(0,m.bc)(I.Wt6,{orgId:e.org.id}),d="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;n.useEffect(()=>{r&&l&&t(f.Jt({forceRefetch:!1}))},[t,e.org.id,r,l]);let u=(()=>{switch(e.highlightType){case S.EZ.BILLING_STATUS:return O(e.org,e.orgUser,a,e.invoices,r,l);case S.EZ.TAX_ID_STATUS:return q(d);default:return O(e.org,e.orgUser,a,e.invoices,r,l)||q(d)}})();if(!u)return null;let _=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--zXJtP":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6rRw0":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=E.Ib.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let h=(0,s.jsx)(g.B,{className:`admin_notifications_count_badge--warningSvg--DQVcp ${_}`,svg:A.A,useOriginalSrcFills_DEPRECATED:!0,...p}),x=e.showTooltip?(0,s.jsx)(v,{className:_,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,s.jsx)(v,{className:_}),b="warning"===u.iconType?h:x;return(0,c.T8)(b,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function L(e){let t=(0,i.wA)(),a=e.orgUser.permission===T._D.ADMIN,r=(0,y.RG)(),l=(0,y.MX)(),{groupsUserIsAdminOf:o}=(0,y.EQ)(l,e.orgUser.user_id,!a),d=(0,u.Xf)(e.org.id),c="loaded"===d.status?d.data?.invoices??[]:void 0;n.useEffect(()=>{t(f.Jt({forceRefetch:!1}))},[t,e.org.id]);let _=o[0]?.id,p=e.org.bigma_enabled&&r&&!!_,g=(0,w.NJ)(e.org.id).data??[],x=e.org.bigma_enabled&&g.length>0,b=a||p||x,v=(0,h.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),j=(0,m.bc)(I.Wt6,{orgId:e.org.id},{enabled:a}),S="loaded"===j.status?j.data.org?.taxIdVerificationStatus:void 0;return b?a?(0,s.jsx)(R,{planType:h.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:S,invoices:c,isSelected:e.isSelected,org:e.org}):p?v?(0,s.jsx)(k,{invoices:c,groupsUserIsAdminOf:o,isSelected:e.isSelected,planId:e.org.id,planType:h.ps.ORG,orgUser:e.orgUser,org:e.org}):(0,s.jsx)(M,{invoices:c,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},122639(e,t,a){"use strict";a.d(t,{ut:()=>tL,am:()=>tk});var s,n=a(239976),i=a(105652),r=a(645186),l=a(594293),o=a(824272),d=a(50751),c=a(790174),u=a(850159),m=a(3752);a(574988);var _=a(865804),p=a(705828),g=a(568660),h=a(684325),x=a(90550),b=a(412427),v=a(877304),f=a(140979),j=a(487817),y=a(644350),T=a(856201),I=a(523924),S=a(224542),w=a.n(S),E=a(645724),N=a(824234),A=a(687497),C=a(985373),k=a(38900),R=a(200989),O=a(636773),q=a(508295),P=a(798413),M=a(514713),L=a(534948),D=a(328151),B=a(440103),F=a(694151),U=a(733903),V=a(713802),G=a(337605);let W=(0,V.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,n.jsxs)("span",{className:G.Qq,children:[(0,n.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),$="members_list_row--column--KU3pQ",H="members_list_row--permissionsColumnModal--IUmGz members_list_row--column--KU3pQ",z="members_list_row--roleRowWithRequestsModal--3zp0s members_list_row--_membersListRowGridWithRequestsBase--j-08Q",K="members_list_row--acceptDenyText--x-YlV text--fontPos13--5OfL8 text--_fontBase--VaHfk blue_link--blueLink--4ER8T",Y="members_list_row--fixedContextMenu--OqYVE",Q="members_list_row--select--u4vOf members_list_row--column--KU3pQ",X="members_list_row--dropdownIcon--hww0f",J="members_list_row--avatarWithHandle--3heXs";var Z=a(751539),ee=a(493795),et=a(137187);let ea="team-member-list-row-dropdown";function es(e){var t,a;let s,l=(0,r.wA)(),o=(0,q.Pc)(),d=(0,R.P)(),c=(0,O.Um)(),m=(0,i.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,P.OL)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),_=i.useRef(null),p=()=>c&&c.type===ea&&c.data.roleId===e.teamRole.id,g=()=>{l((0,M.$S)({role:e.teamRole}))},h=t=>{(0,I.KF)(e.teamRole.resource_type===j.vt.TEAM,"MembersListRow is only for team roles");let a=()=>l((0,L.yN)({role:e.teamRole,level:t}));t===T.e6.OWNER?l((0,k.to)({type:U.b,data:{resourceType:e.teamRole.resource_type,resourceName:m?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:a}})):a()},x=(t,a)=>{e.isModal&&l(k.Ce()),l(C.sf({view:"user",userId:a.id,userViewTab:B.o.INTERNAL_PROFILE}))},b=(t,a)=>{let s;return e.teamRole.pending||(s=x),(0,n.jsx)(F.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--70YMs admin_settings_page--avatarWithHandle--I9dou ellipsis--ellipsis--70pHK":J,defaultFallbackAvatarSvg:e.teamRole.pending?Z.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:a,initializableEntityProperties:["handle","name","email"],onClick:s,overrideHandle:a?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===o.id,size:24})},v=e.teamRole.pending?(t=e.teamRole,a=e.emailLg,{...s=d?.usersByEmail[t.user.email]||{},...t.user,id:t.user.id,email:s?.email??a??t.user.email}):e.teamRole.user;return(0,n.jsxs)("div",{className:w()({"members_list_row--roleRowWithRequests--anKUF members_list_row--_membersListRowGridWithRequests--4YlUT members_list_row--_membersListRowGridWithRequestsBase--j-08Q":!e.isModal,[z]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,n.jsx)("div",{className:"members_list_row--nameColumnModal--ZIaCu members_list_row--column--KU3pQ",children:b(v,!0)}),!e.isModal&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"members_list_row--nameColumn--K0xL7 members_list_row--column--KU3pQ members_list_row--_hideWhenNarrow--f8qpB",children:b(v,!1)}),(0,n.jsx)("div",{className:"members_list_row--nameAndEmailColumn--UhuPj members_list_row--column--KU3pQ members_list_row--_showWhenNarrow--hX3a3",children:b(v,!0)}),(0,n.jsx)("div",{className:"members_list_row--emailColumn--tpeqB members_list_row--column--KU3pQ members_list_row--_hideWhenNarrow--f8qpB",children:(0,n.jsx)(A.E,{truncate:!0,children:v.email})}),(0,n.jsx)("div",{})]}),(0,n.jsxs)("div",{className:e.isModal?H:$,children:[(()=>{if(e.isEduRestrictedLg)return(0,n.jsx)(N.B,{className:"members_list_row--warningIcon--k99og","data-tooltip":W,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,u.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,u.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":D.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:et.A})})(),(()=>{let t,a=[],s=!1;if(e.teamRole.user_id!==o.id||m?.isCurrentUserTeamOwner)if(!m?.canEditTeamMemberRole)return(0,n.jsx)("span",{className:"members_list_row--nonDropdownPadding--VY9hb",children:(0,P.QN)(e.teamRole.level)});else m?.isCurrentUserTeamOwner&&!e.teamRole.pending&&a.push(T.e6.OWNER),m?.canMakeTeamMemberAdmin&&a.push(T.e6.ADMIN),a.push(T.e6.EDITOR),a.push(T.e6.VIEWER),s=e.teamRole.pending;else a.push(e.teamRole.level);let i=-24*Math.max(0,a.indexOf(e.teamRole.level));return p()&&c.data&&c.data.position&&(t={...c.data.position},t.top+=i),(0,n.jsxs)("div",{ref:_,children:[(0,n.jsxs)("div",{className:Q,onClick:()=>(t=>{if(p())l(C.oB());else{if(!_.current)return;let a=_.current?.getBoundingClientRect(),s=a.bottom+t>window.innerHeight,n=window.innerHeight-a.bottom;l(C.j7({type:ea,data:{roleId:e.teamRole.id,position:{top:s?"auto":a.top,bottom:s?n:"auto",left:a.left-28,right:"auto"}}}))}})(120+i),children:[(0,n.jsx)("span",{children:(0,P.QN)(e.teamRole.level)}),(0,n.jsx)(N.B,{svg:ee.A,className:X})]}),p()&&(0,n.jsxs)(E.ms,{className:Y,style:t,children:[a.map(t=>(0,n.jsx)(E.MM,{onClick:e.teamRole.level!==t?()=>h(t):void 0,checked:e.teamRole.level===t,children:(0,P.QN)(t)},t)),(0,n.jsx)(E.wv,{}),s&&(0,n.jsx)(E.c$,{onClick:g,children:(0,u.tx)("file_browser.team.resend_invite")}),(0,n.jsx)(E.c$,{onClick:()=>h(T.e6.NONE),children:e.teamRole.user_id!==o.id||m?.isCurrentUserTeamOwner?(0,u.tx)("file_browser.team.remove_confirm"):(0,u.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var en=a(181645),ei=a(414192);let er="team-pending-member-role-request-dropdown";function el(e){let t,a=(0,r.wA)(),s=(t=(0,r.d4)(e=>e.dropdownShown))&&t?.type===er?t:null,l=i.useRef(null),[o,d]=i.useState(e.request.level),c=(0,r.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),m=i.useMemo(()=>c?[T.e6.EDITOR]:[T.e6.VIEWER,T.e6.EDITOR],[c]),_={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},p=i.useMemo(()=>-24*Math.max(0,m.indexOf(o)),[o,m]),g=i.useMemo(()=>{let e;return s&&s.data&&s.data.position&&(e={...s.data.position},e.top+=p),e},[s,p]),h={request_id:e.request.id,team_id:e.request.teamId,type:o,response:"accept",source:"TeamPendingMembersRow"};return(0,n.jsxs)("div",{className:z,children:[(0,n.jsx)("div",{className:$,children:(0,n.jsx)(F.az,{entity:_,initializableEntityProperties:["handle","name","email"],size:24,className:J,onClick:(e,t)=>{a(C.sf({view:"user",userId:t.id,userViewTab:B.o.INTERNAL_PROFILE}))},overrideHandle:_.handle||_.name||_.email,defaultText:"--"})}),(0,n.jsxs)("div",{className:w()($,"members_list_row--flexRight--5-Dxx"),children:[(0,n.jsx)("span",{onClick:()=>{h.response="deny",(0,en.sx)("permission_request_responded",h),a(ei.UF({requestId:e.request.id}))},className:K,role:"button",tabIndex:-1,children:(0,u.tx)("file_browser.team.dismiss")}),(0,n.jsx)("span",{onClick:()=>{(0,en.sx)("permission_request_responded",h),a(ei.Jd({requestId:e.request.id,level:o,teamId:e.request.teamId,email:e.request.user.email??"",user:_}))},className:K,role:"button",tabIndex:-1,children:(0,u.tx)("file_browser.team.approve")})]}),(0,n.jsx)("div",{className:H,children:(0,n.jsxs)("div",{ref:l,children:[(0,n.jsxs)("div",{className:Q,role:"button",tabIndex:0,onClick:()=>{m.length>1&&(t=>{if(s)a(C.oB());else{let s=l&&l.current&&l.current.getBoundingClientRect(),n=s?.bottom??0+t>window.innerHeight,i=window.innerHeight-(s?.bottom??0);a(C.j7({type:er,data:{requestId:e.request.id,position:{top:n?"auto":s?.top,bottom:n?i:"auto",left:s?.left??-28,right:"auto"}}}))}})(120+p)},children:[(0,n.jsx)("span",{children:(0,P.QN)(o)}),m.length>1&&(0,n.jsx)(N.B,{svg:ee.A,className:X})]}),s&&s.data.requestId===e.request.id&&m.length>1&&(0,n.jsx)(E.ms,{className:Y,style:g,children:m.map(e=>(0,n.jsx)(E.MM,{onClick:o!==e?()=>{d(e),a(C.oB())}:void 0,checked:o===e,children:(0,P.QN)(e)},e))})]})})]})}function eo({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,n.jsxs)(n.Fragment,{children:[t.map(e=>(0,n.jsx)(el,{request:e},e.id)),(0,n.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--AZYYO members_list_row--pendingRequestDivider--Xr02a"})]})}function ed(e){let t,a,s,l,o,d=(0,f.Rs)((0,y.N66)({teamId:e.teamId})),c=(0,f.Rs)((0,y.yQw)({teamId:e.teamId})),m=(0,f.Rs)((0,y.Cb9)({teamId:e.teamId})),[_,p,g]=(0,v.m)([d,c,m]),h=i.useMemo(()=>_?.team?.roles.reduce((e,t)=>{var a,s;let n,i=!!_?.team?.studentTeamAt;return e[ec({id:t.id,user_id:t.userId,pending:t.pending})]=(a=i,n={id:(s=t).id,created_at:s.createdAt.toISOString(),updated_at:s.updatedAt.toISOString(),level:s.level,resource_type:j.vt.TEAM,resource_id_or_key:s.resourceId,hasValidEduGracePeriod:!!s.eduGracePeriod?.isValid,isStudent:!!s.user?.studentValidatedAt,isStudentTeam:a},s.pending?{...n,user_id:null,pending:!0,pendingEmail:s.pendingEmail,user:{id:s.user?.id??"",email:s.pendingEmail??void 0}}:{...n,user_id:s.userId,pending:!1,pendingEmail:null,user:{id:s.user?.id??"",email:s.user?.email??"",img_url:s.user?.imgUrl??"",handle:s.user?.handle??""}}),e},{})??{},[_]),x=(t={},Object.values((0,r.d4)(t=>t.teamMembersByTeamId[e.teamId]||{})).forEach(e=>{e.team_role&&(t[e.team_role.id]=e)}),t),b=(a=[],s={},l=new Set,Object.values(h).forEach(e=>{e.pending?a.push(e):(s[e.user.id]=e,l.add(e.user?.email))}),o=a.filter(e=>!l.has(e.user?.email)),Object.values(s).concat(...o).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending||e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)),I=!b.some(e=>e.level===T.e6.OWNER||e.level===T.e6.ADMIN);return 0===b.length?(0,n.jsx)("div",{children:(0,u.tx)("file_browser.team.no_members")}):(0,n.jsxs)("div",{children:[(0,n.jsx)(eo,{teamRoleRequests:g}),b.map(t=>{let a,s;return(0,n.jsx)("div",{className:"members_list--memberRowForModal--uihIq",children:(0,n.jsx)(es,{teamId:e.teamId,teamMember:x[t.id],teamRole:t,teamIsOrphaned:I,isModal:!0,team:p,isEduRestrictedLg:!!(a=h[ec(t)])&&!!a.isStudentTeam&&a.level!==T.e6.VIEWER&&!t.pending&&!a.level&&!(a.isStudent||a.hasValidEduGracePeriod),emailLg:(s=h[ec(t)],s?.user?.email??null)},`team-role-${t.id}`)},t.id)})]})}function ec(e){return e.pending?`pending-${e.id}`:e.user_id??""}var eu=a(265773),em=a(51712),e_=a(936652),ep=a(336134),eg=a(276562),eh=a(640818),ex=a(169984),eb=a(55081),ev=a(3273),ef=a(908272),ej=a(754305);function ey(e){return(0,n.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--o97b0",style:{width:e.width},children:[(0,n.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--OHjSY",children:e.tabs}),(0,n.jsx)(p.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eT=a(790645),eI=a(796182),eS=a(289886),ew=a(523454),eE=a(458983);function eN(e){let t=(0,r.d4)(e=>e.roles||{});return(0,ew.n0)(e.team)&&e.canAdmin?(0,n.jsx)("div",{className:eS.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,u.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,n.jsx)("div",{className:"team_settings_modal--membersHeader---XnW4",children:(0,n.jsxs)(A.E,{color:"secondary",fontSize:12,children:[e.team.name,(0,u.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eE.pG)(t,e.team.id).length})]})})}var eA=a(557998),eC=a(442549),ek=a(732632),eR=a(859978),eO=a(368932),eq=a(741542),eP=a(214030),eM=a(493094),eL=a(435326),eD=a(813049),eB=a(830918),eF=a(82361),eU=a(140519),eV=a(98325),eG=a(450116),eW=a(612883),e$=a(932630),eH=a(406995),ez=a(494423),eK=a(886213),eY=a(304948),eQ=a(331850),eX=a(405325),eJ=a(540653),eZ=a(573301),e0=a(376371),e1=a(308896),e4=a(266015),e5=a(489365),e6=a(377821),e8=a(175947),e2=a(902869),e9=a(756587),e3=a(973003),e7=a(921424),te=a(863825),tt=a(397383),ta=a(514538),ts=a(141294),tn=a(145334),ti=a(392255);let tr=(0,e_.Ju)(function(){let e=(0,r.wA)(),t=(0,eE.cD)(),a=(0,f.bc)((0,y.ZY7)({teamId:t})),s=a.data?.team,i=!s,l=!!s?.studentTeamAt&&!s?.isAiDataSharingEnabled,o=!!s?.aiFeaturesDisabledAt,d=async a=>{try{await tn.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let s=a?(0,u.t)("admin_settings.ai.enable_success"):(0,u.t)("admin_settings.ai.disable_success");e(te.s.flash(s))}catch{e(te.s.error((0,u.t)("file_browser.file_browser_actions.team_update_error")))}},c=async a=>{try{await tn.$.updateAiDataSharing({teamId:t,enabled:a}),(0,en.sx)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(te.s.flash((0,u.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(te.s.error((0,u.t)("admin_settings.ai.data_sharing.update_error")))}},m=null;return o&&(m=(0,n.jsx)(tt.Y,{children:(0,n.jsx)(ta.p,{onEnable:()=>d(!0),planId:t,planType:j.OL.TEAM,testId:"ai-settings-ai-enabled-button"})})),(0,n.jsx)(ti.OJ,{title:(0,n.jsx)(tt.Y,{width:"hug-contents",padding:{left:8},children:(0,n.jsx)(A.E,{fontWeight:"medium",children:(0,u.tx)("admin_settings.ai.section_title")})}),onClose:()=>{e(k.Lo())},fixedTop:!0,children:i?(0,n.jsx)(tt.Y,{padding:64,children:(0,n.jsx)(x.qc,{testId:"ai-settings-spinner"})}):(0,n.jsxs)(tt.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[m,(0,n.jsxs)(tt.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,n.jsxs)(tt.Y,{direction:"vertical",spacing:4,children:[(0,n.jsx)(A.E,{fontWeight:"medium",children:(0,u.tx)("admin_settings.ai.data_sharing.label")}),(0,n.jsx)(A.E,{color:"secondary",children:(0,u.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,n.jsx)(e7.CY,{href:ts.d.aiDataSharing,target:"_blank",trusted:!0,children:(0,n.jsx)(A.E,{children:(0,u.tx)("general.learn_more")})})})})]}),(0,n.jsx)(e3.d,{checked:s.isAiDataSharingEnabled,"data-testid":"ai-settings-ai-enabled-switch","data-tooltip":l?(0,u.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0,"data-tooltip-type":D.Ib.TEXT,disabled:l,label:(0,n.jsx)(n.Fragment,{}),onChange:c})]})]})})},"TEAM_AI_SETTINGS_MODAL");var tl=a(555355),to=a(846692);let td=(0,e_.Ju)(function(){let e=(0,r.wA)(),t=(0,eE.cD)(),a=(0,f.bc)((0,y.ZY7)({teamId:t})),s=a.data?.team,i=!s,l=s?.plan?.isMcpClientDisabled,o=l?.status==="loaded"&&l.data,d=async a=>{try{await tn.$.updateMcpClientDisabled({teamId:t,mcpClientDisabled:!a});let s=a?(0,u.t)("settings_tab.mcp_connectors_enabled"):(0,u.t)("settings_tab.mcp_connectors_disabled");e(te.s.flash(s))}catch{e(te.s.error((0,u.t)("file_browser.file_browser_actions.team_update_error")))}};return(0,n.jsx)(ti.OJ,{title:(0,n.jsx)(tt.Y,{width:"hug-contents",padding:{left:8},children:(0,n.jsx)(A.E,{fontWeight:"medium",children:(0,u.tx)("settings_tab.mcp_connectors_toggle_label")})}),onClose:()=>{e(k.Lo())},fixedTop:!0,children:i?(0,n.jsx)(tt.Y,{padding:64,children:(0,n.jsx)(x.qc,{})}):(0,n.jsx)(tt.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:(0,n.jsxs)(tt.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,n.jsxs)(tt.Y,{direction:"vertical",spacing:4,children:[(0,n.jsx)(tl.J,{htmlFor:"mcp-client-toggle",children:(0,u.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,n.jsx)(A.E,{color:"secondary",children:(0,u.tx)("figmake.mcp_clients.admin_setting_subtitle")})]}),(0,n.jsx)(to.v,{id:"mcp-client-toggle",checked:!o,onChange:d})]})})})},"TEAM_MCP_CLIENT_SETTINGS_MODAL");var tc=a(395227),tu=a(71239),tm=a(297151),t_=a(668522),tp=a(497544);let tg=(0,e_.Ju)(function(){let e=(0,r.wA)(),t=(0,eE.cD)(),a=(0,f.Rs)((0,y.ZY7)({teamId:t})),s=a.data?.team,l=!s||s.supportVisibilityDisabledAt?.status!==t_.tT.Loaded,o=s?.supportVisibilityDisabledAt?.status===t_.tT.Loaded?!s.supportVisibilityDisabledAt.data:null,[d,c]=i.useState(null),[m,_]=i.useState(!1);i.useEffect(()=>{null!==o&&null===d&&c(o)},[o,d]);let p=async a=>{_(!0);try{c(a),await tn.$.updateSupportVisibility({teamId:t,disabled:!a}),e(te.s.flash(a?(0,u.t)("admin_settings.support_visibility.enable_success"):(0,u.t)("admin_settings.support_visibility.disable_success"))),(0,en.sx)("support_visibility_disable_toggled",{team_id:t,disabled:!a})}catch(t){e(te.s.error((0,u.t)("admin_settings.support_visibility.update_error")))}_(!1)},g=tc.hS({onClose:()=>{e(k.Lo())},open:!0});return(0,n.jsx)(tu.bL,{manager:g,width:"lg",children:(0,n.jsxs)(tm.vo,{children:[(0,n.jsx)(tm.Y9,{children:(0,n.jsx)(tm.hE,{children:(0,u.t)("admin_settings.support_visibility.title")})}),(0,n.jsx)(tm.nB,{children:l?(0,n.jsx)(tt.Y,{padding:64,horizontalAlignItems:"center",verticalAlignItems:"center",children:(0,n.jsx)(tp.k,{"data-testid":"support-visibility-settings-spinner"})}):(0,n.jsx)(tt.Y,{direction:"vertical",padding:{top:8,bottom:8},spacing:16,children:(0,n.jsxs)(tt.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,n.jsxs)(tt.Y,{direction:"vertical",spacing:4,padding:{right:20},children:[(0,n.jsx)(A.E,{fontWeight:"medium",children:(0,u.tx)("admin_settings.support_visibility.label")}),(0,n.jsx)(A.E,{color:"secondary",children:(0,u.tx)("admin_settings.support_visibility.description",{learnMoreLink:(0,n.jsx)(e7.CY,{href:"#",target:"_blank",trusted:!0,children:(0,n.jsx)(A.E,{children:(0,u.tx)("general.learn_more")})})})})]}),(0,n.jsx)(e3.d,{checked:d??!1,"data-testid":"support-visibility-enabled-switch",disabled:m,label:(0,n.jsx)(n.Fragment,{}),onChange:p})]})})})]})})},"TEAM_SUPPORT_VISIBILITY_SETTINGS_MODAL"),th="settings_view--blueLink--4Ym-t blue_link--blueLink--4ER8T",tx="settings_view--redLink--jZ8r5 blue_link--blueLink--4ER8T",tb="settings_view--section--JPcLY",tv="settings_view--sectionHeader--K7YLQ text--fontPos13--5OfL8 text--_fontBase--VaHfk",tf="settings_view--upgradeBanner--BidNa",tj="settings_view--upgrageBannerIcon--Wd1pN",ty="settings_view--upgradeBannerBody--iifqn",tT="settings_view--blueLinkForBanner--AZYy- settings_view--blueLink--4Ym-t blue_link--blueLink--4ER8T",tI="settings_view--accessIcon--pzLpa";var tS=a(977030),tw=a(681205),tE=a(397805);function tN(e){let t,a,s=(0,r.wA)(),l=(0,e$.DP)(),o=e.team,d=(0,r.d4)(e=>(0,eY.getPermissionsState)(e)),c=o.org_id?d.orgById[o.org_id]:null,[m]=(0,eK.IT)((0,y.vD4)({teamId:e.team.id})),[p]=(0,eM.Ad)(m),g=(0,i.useMemo)(()=>{if("loaded"!==p.status||!p.data.team)return null;let t=p.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[p,e.teamId]),h=p?.data?.team?.plan?.tier,x=(0,i.useMemo)(()=>{if("loaded"!==p.status||!p.data.team||!p.data.team.currentPlanUser)return null;let e=p.data.team.currentPlanUser;return{isProOrStudentTeam:h===j.Ag.PRO||h===j.Ag.STUDENT,isStudentTeam:h===j.Ag.STUDENT,canAdminOrg:!!e&&(0,eQ.A8)(e,j.Xn.ADMIN),isOrgGuest:e?.key.type===j.h4.ORG_USER&&e?.permission===j.Xn.GUEST}},[p,h]),b=!x?.isOrgGuest,v=x?.canAdminOrg||g?.canAdmin&&!g?.orgId,T=!!(0,r.d4)(e=>(0,eX.p)(e)),I=(0,e2.X8)(!!p.data?.team?.canEdit,(0,eQ.zQ)(p.data?.team?.plan??null)),S=e.billing.summary.annual_subscription,w=e.billing.summary.monthly_subscription,E=!!S&&!S.canceled_at,R=!!w&&!w.canceled_at,O=!g?.orgId&&!x?.isProOrStudentTeam&&g?.canAdmin,q=O&&eC.v.getFeatureGate("support_visibility_admin_setting"),P=O&&(0,eq.getFeatureFlags)().bake_mcp_client_starter,M=O&&(0,eq.getFeatureFlags)().dt_github_app&&(0,eq.getFeatureFlags)().dt_github_app_admin_settings,L=i.useMemo(()=>{if("loaded"===p.status&&p.data)return p.data.team?.workspace},[p]),D=p.data?.team&&(0,eA.unwrap)(p.data.team)?.hasActiveProjectConnection,B=(0,f.bc)(y.WEk,{teamId:o.id}),F=B.data?.team?.pendingAssetTransferRequest,U=F&&{id:F.id,source_user_email:F.sourceUser?.email,destination_user_email:F.destinationUser?.email,is_transfer_copy:F.isTransferCopy}||void 0;if("loaded"!==p.status)return null;let V=()=>{x?.isProOrStudentTeam?s(eW.Bq({openInNewTab:!0,entryPoint:(0,ez.cH)(eH.C.PLAN_SETTINGS_ORG_UPSELL)})):s((0,k.to)({type:eL.V,data:{teamId:g?.teamId,entrypoint:eH.C.PLAN_SETTINGS_VIEW_PLANS,openCheckoutInNewTab:!0,onDone:()=>{s(k.ES({type:"TEAM_SETTINGS_MODAL"}))}}}))};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("file_browser.team_settings.team_name")}),(0,n.jsx)("div",{children:o.name}),g?.canAdmin&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:(0,eG.h)(),data:{team:o}}))},children:(0,u.tx)("file_browser.team_settings.change_name")})})]}),(g?.canAdmin||g?.description)&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("file_browser.about")}),(0,n.jsx)("div",{children:g?.description}),g?.canAdmin&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:(0,eF.r)(),data:{team:o}}))},children:g?.description?(0,u.tx)("file_browser.team.change_description"):(0,u.tx)("file_browser.team.add_a_description")})})]})]}),g?.canAdmin&&o.org_access!==j.bU.SECRET&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("file_browser.team_settings_modal.community_profile")}),(0,n.jsx)("div",{children:g?.communityProfileHandle?(0,u.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:g?.communityProfileHandle}):""}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:e1.S,data:{teamId:g?.teamId,profileId:g?.communityProfileId||"",profileHandle:g?.communityProfileHandle||""}}))},children:g?.communityProfileHandle?(0,u.t)("file_browser.team_settings.change_profile_handle"):(0,u.t)("file_browser.team_settings.set_profile_handle")})}),g?.communityProfileHandle&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{g?.communityProfileId&&g?.communityProfileHandle&&s((0,k.to)({type:e4.M,data:{dispatch:s,profileId:g?.communityProfileId,handle:g?.communityProfileHandle}}))},children:(0,u.tx)("file_browser.team_settings.delete_profile")})}),g?.communityProfileHandle&&g?.orgId&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{g?.communityProfileId&&s((0,k.to)({type:e0.J,data:{profileId:g?.communityProfileId||"",profileHandle:g?.communityProfileHandle||"",emptyStateText:(0,u.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:g?.communityProfileHandle||""})}}))},children:(0,u.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:g?.orgId?(0,u.tx)("file_browser.team_settings.shared"):(0,u.tx)("file_browser.team_settings_modal.libraries")}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:eZ.T,data:{teamId:g?.teamId,entrypoint:eJ.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,u.tx)("file_browser.team_settings.view_team_libraries")})}),T&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:eZ.lN,data:{entrypoint:eJ.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,u.tx)("file_browser.team_settings.view_team_fonts")})}),I&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:e9.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===l?"dark":"light"}}))},children:(0,u.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),g?.orgId!=null&&o.org_access&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("file_browser.settings.access")}),(0,n.jsxs)("div",{children:[(t=o.sharing_audience_control?o.sharing_audience_control:o.org_access?o.org_access===j.bU.PUBLIC&&"edit"===o.default_permission?j.PQ.ORG_EDIT:o.org_access===j.bU.PUBLIC?j.PQ.ORG_VIEW:void 0:j.PQ.INVITE_ONLY,a=(0,n.jsx)(N.B,{className:tI,svg:tw.A}),(t===j.PQ.ORG_EDIT||t===j.PQ.ORG_VIEW)&&c?a=(0,n.jsx)("div",{className:tI,children:(0,n.jsx)(N.B,{svg:tE.A})}):(t===j.PQ.WORKSPACE_EDIT||t===j.PQ.WORKSPACE_VIEW)&&(a=(0,n.jsx)("div",{className:tI,children:(0,n.jsx)(eO.t,{})})),(0,n.jsxs)("div",{className:"settings_view--accessDescription--33gk5",children:[a,(0,n.jsx)("div",{children:(0,e6.wO)(j.vt.TEAM,c,L||null,t)})]})),g?.canAdmin&&c&&(0,n.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HleHW modal--blueLink--Mcac6 blue_link--blueLink--4ER8T",onClick:()=>{s((0,k.to)({type:e8.dW,data:{team:o,goBack:()=>{s((0,k.Lo)())}}}))},children:(0,u.tx)("team_view.team_permissions_modal.change")})]}),!g?.canAdmin&&(0,n.jsx)("div",{children:(0,n.jsx)(A.E,{color:"secondary",children:(0,u.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),M&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("settings_tab.github_app_label")}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:eU.k,data:{planType:j.OL.TEAM,planParentId:e.team.id.toString()},showModalsBeneath:!0}))},children:(0,u.t)("settings_tab.github_app_manage")})})]}),P&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,n.jsx)("div",{children:(0,u.tx)("admin_settings.mcp_client.manage_settings_description")}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:td}))},children:(0,u.tx)("admin_settings.mcp_client.manage_settings_link")})})]}),O&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("admin_settings.ai.section_title")}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:tr}))},children:(0,u.tx)("admin_settings.ai.manage_settings_link")})})]}),q&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("admin_settings.support_visibility.starter_team_title")}),(0,n.jsx)("div",{children:(0,u.tx)("admin_settings.support_visibility.team_settings_manage_description",{manageSupportVisibilityLink:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:tg}))},children:(0,u.tx)("admin_settings.support_visibility.team_settings_manage_link")})})})]}),x?.isProOrStudentTeam&&!x?.isStudentTeam&&g?.canAdmin&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("settings_table.plan_and_billing")}),(0,n.jsx)("div",{children:(0,u.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,n.jsx)("button",{className:th,onClick:()=>{s(C.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:ev.Iv.BILLING})),s((0,k.Lo)())},children:(0,u.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),b&&(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("file_browser.team_settings.transfer")}),(0,n.jsxs)("div",{children:[U&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,u.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:U.source_user_email,destinationUserEmail:U.destination_user_email})}),v&&(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:tx,onClick:()=>{U&&s(k.to({type:(0,eV.d)(),data:{pending:U,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,u.tx)("file_browser.folder_settings.revoke")})})]}),!U&&v&&(D?(0,u.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,u.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,n.jsx)(ek.$n,{variant:"link",onClick:()=>{s((0,k.to)({type:(0,eD.Lg)(),data:{teamId:o.id,entryPoint:eD.Lq.ORG_TEAM_SETTINGS}}))},children:(0,u.tx)("file_browser.team_settings.transfer_team")})})),!U&&!v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,u.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:c?.name})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:th,onClick:()=>{s((0,k.to)({type:(0,eB.Y)(),data:{planId:o.org_id||o.id,planType:o.org_id?j.OL.ORG:j.OL.TEAM,planName:o.name,entryPoint:eD.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:o.id}}))},children:(0,u.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!x?.isProOrStudentTeam&&!g?.orgId&&g?.canAdmin&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:tb,children:[(0,n.jsx)("div",{className:tv,children:(0,u.tx)("team_view.settings_table.delete_team")}),(0,n.jsx)("div",{children:(0,u.tx)("team_view.settings_table.delete_team_description")}),(0,n.jsx)("div",{children:(0,n.jsx)(eR.E,{className:tx,onClick:()=>{var e;return e=E||R,void s((0,k.to)({type:e5.H,data:{team:o,subscriptionStatus:e}}))},children:(0,u.tx)("file_browser.team_settings.delete_team")})})]}),(0,n.jsxs)("div",{className:tf,children:[(0,n.jsx)(N.B,{className:tj,svg:tS.A}),(0,n.jsxs)("div",{className:ty,children:[(0,n.jsx)("strong",{children:(0,u.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,n.jsxs)("div",{children:[(0,u.tx)("upgrade.more_features"),(0,n.jsx)(_.$z,{className:tT,onClick:V,trackingProperties:{trackingDescriptor:eP.c.UPGRADE,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,u.tx)("upgrade.view_plans")})]})]})]})]}),x?.isProOrStudentTeam&&g?.canAdmin&&(0,n.jsxs)("div",{className:tf,children:[(0,n.jsx)(N.B,{className:tj,svg:tS.A}),(0,n.jsx)("div",{className:ty,children:(0,n.jsxs)("div",{children:[(0,u.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,n.jsx)(_.$z,{className:tT,onClick:V,trackingProperties:{trackingDescriptor:eP.c.UPGRADE_TO_ORGANIZATION,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,u.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var tA=a(237744);let tC=(0,eI.rw)();var tk=((s=tk||{}).SETTINGS="SETTINGS",s.MEMBERS="MEMBERS",s);let tR=(0,eu.nF)(async(e,{teamId:t,canViewTeam:a})=>{await ex.kb.promise,t&&a&&(0,eg.xN)(t,e)});function tO(e){let t={MEMBERS:(0,u.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,u.t)("file_browser.team_settings_modal.settings_tab")},a=i.useRef(null),{setToolbarWidth:s}=e;i.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&s(e)}},[s]);let r=e.team.org_id,o=r?[(0,n.jsx)("div",{className:"team_settings_modal--settingsHeader--hWwov",children:t.SETTINGS},"SETTINGS")]:(0,l.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,n.jsx)(tC,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,n.jsx)(ey,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,n.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--0eD0L",style:{minWidth:e.contentWidth},ref:a,children:[(0,n.jsx)(eT.i,{containerClassName:`${r?"team_settings_modal--toolBarSettingsOnly--SYGmm team_settings_modal--toolBarContainer--V7RIn":"team_settings_modal--toolBarContainerFullWidth--AtwZz team_settings_modal--toolBarContainer--V7RIn"} team_settings_modal--borderRadius--g1OEP`,tabs:o}),(0,n.jsx)(p.s_,{dispatch:e.dispatch,className:r?"team_settings_modal--settingsOnlyCloseButton--r5llz":"team_settings_modal--settingsCloseButton--gs2fm",onClose:()=>tM(e.dispatch,e.team,e.viewOnClose)})]})}let tq="TEAM_SETTINGS_MODAL";function tP({onRetry:e}){let t=(0,h.Hb)();return(0,n.jsxs)(o.$y,{variant:"warn",children:[(0,n.jsx)(d.Q,{title:(0,u.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,n.jsx)(c.$,{onClick:e,children:(0,u.t)("auth.try_again")})]})}let tM=(e,t,a)=>{e(C.sf(a))},tL=(0,e_.Ju)(function(e){let t=(0,r.wA)(),a=i.useRef(null),[s,l]=i.useState(-1),o=ep.h.useTrackingContext({trigger:eh.b.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:c,canView:u,entryView:p}=e,h=e.teamSettingsProps,v=(0,r.d4)(e=>e.teams[h.team.id]),f=(0,r.d4)(e=>e.avatarEditorState);if(i.useEffect(()=>{t(em.um())},[t]),i.useEffect(()=>{v&&t(tR({teamId:v.id,canViewTeam:u??!1}))},[u,t,v]),!v)return null;let j=m.A.isMobileBrowser,y=j?window.innerWidth:Math.min(.7*window.innerWidth,650),T=j?window.innerWidth:Math.max(y,s),I=d?(0,n.jsx)(ef.FL,{entity:v,entityType:eb.c.TEAM,avatarEditorState:f,size:80,dispatch:t,avatarSvg:tA.A,svgSizeRatio:.6}):(0,n.jsx)(b.nl,{team:v,size:80,avatarSvg:tA.A,svgSizeRatio:.6});return(0,n.jsx)(_.fu,{name:"Team Settings Modal",properties:{teamId:v.id,...o},children:(0,n.jsxs)(ej.d_,{popStack:!0,size:T,height:j?window.innerHeight:.8*window.innerHeight,className:j?"team_settings_modal--fullScreenModal--YlHPu team_settings_modal--modal--DykEt modal--modal--2VSSd modal--modalShadow--ucS5o modal--modalBare--Kg4QV":"team_settings_modal--modalNoPadding--S8-Re team_settings_modal--modal--DykEt modal--modal--2VSSd modal--modalShadow--ucS5o modal--modalBare--Kg4QV",modalRef:a,onHide:()=>tM(t,v,p),children:[(0,n.jsx)(tO,{selectedTab:e.tab,setTab:e=>{t(k.hm({type:tq,data:{tab:e,canAdmin:d,canEdit:c,canView:u,teamSettingsProps:h,entryView:p}}));let s="team"===p.view?{view:"team",teamId:v.id,teamViewTab:"SETTINGS"===e?ev.A$.SETTINGS:ev.A$.MEMBERS}:p;t(C.sf(s));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:j,contentWidth:y,setToolbarWidth:l,team:v,viewOnClose:p,canEditTeam:c??!1}),(0,n.jsxs)("div",{className:"team_settings_modal--modalBody--mdOlB",children:[(0,n.jsx)("div",{className:"team_settings_modal--avatarContainer--Q1Rdp",children:I}),"SETTINGS"===e.tab&&(0,n.jsx)(_.fu,{name:"Team Settings",children:(0,n.jsx)(i.Suspense,{fallback:(0,n.jsx)("div",{...{className:"x1bpp3o7"},children:(0,n.jsx)(x.kt,{})}),children:(0,n.jsx)("div",{className:"team_settings_modal--settingsContainer--o6OYj",children:(0,n.jsx)(tN,{teamId:h.team.id,team:v,billing:h.billing})})})}),"MEMBERS"===e.tab&&(0,n.jsxs)("div",{className:"team_settings_modal--membersContainer--SaAwn",children:[(0,n.jsx)(eN,{team:v,canAdmin:d}),(0,n.jsx)(g.n,{boundaryKey:"members-list",loadingFallback:(0,n.jsx)("div",{...{className:"x1bpp3o7"},children:(0,n.jsx)(x.kt,{})}),errorFallback:e=>(0,n.jsx)(tP,{onRetry:e}),children:(0,n.jsx)(ed,{teamId:v.id})})]})]})]})})},tq,e_.ZU.YES)},389137(e,t,a){"use strict";a.d(t,{S:()=>c});var s=a(239976),n=a(850159),i=a(227031),r=a(803105),l=a(710383),o=a(796893),d=a(396913);function c(e){return(0,s.jsx)(i.u9,{label:"UnavailableView",children:(0,s.jsx)(u,{...e})})}function u(e){let t=(e=>{switch(e){case l.Ft.PROJECT:return(0,n.t)("file_browser.project");case l.Ft.TEAM:return(0,n.t)("file_browser.team");case l.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace");case l.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group");default:return(0,n.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case l.Ft.PROJECT:return(0,n.t)("file_browser.project_capitalized");case l.Ft.TEAM:return(0,n.t)("file_browser.team_capitalized");case l.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace_capitalized");case l.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group_capitalized");default:return(0,n.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),i=(0,s.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--PkdUF",children:[(0,s.jsx)("div",{className:"unavailable_view--header--RP-J5 text--fontPos18--FkHj- text--_fontBase--VaHfk",children:(0,n.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,s.jsx)("div",{className:"unavailable_view--detailText--eOfm9 text--fontPos14--QJNQC text--_fontBase--VaHfk",children:(0,n.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,s.jsx)(o.B,{entryPoint:d.C5.FileBrowserUnavailableView})]});return(0,s.jsx)(r.r,{content:i})}},133304(e,t,a){"use strict";a.d(t,{D:()=>r});var s=a(239976);a(574988);var n=a(824234);if(1464==a.j)var i=a(208359);function r(){return(0,s.jsx)(n.B,{svg:i.A,...{className:"x1epfdc"}})}},442479(e,t,a){"use strict";a.d(t,{SidebarRow:()=>v,t:()=>h});var s=a(239976),n=a(105652),i=a(442549),r=a(859978),l=a(150956);a(574988);var o=a(224542),d=a.n(o),c=a(171020),u=a(82851),m=a(687497),_=a(133304),p=a(324259),g=a(483055);function h(e){let{contentId:t,icon:a,text:n,badge:i,includeBadgeInLabel:r,showGrabber:l}=e,o=(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(_.D,{}),a&&(0,s.jsx)(p.j,{children:a}),(0,s.jsx)(m.E,{truncate:!0,children:n})]});return r?(0,s.jsxs)("div",{id:t,className:g.l8,children:[(0,s.jsx)("span",{className:g.C$,children:o}),i]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:t,className:g.C$,children:o}),i]})}function x({buttonRef:e,contentId:t,scrollIfHiddenAndSelected:a,...n}){return(0,s.jsx)(r.E,{ref:e,"aria-current":n.isSelected?"page":void 0,"aria-description":n.ariaDescription,"aria-labelledby":t,className:g.eg,"data-onboarding-key":n["data-onboarding-key"],"data-testid":n.dataTestId,draggable:!!n.onDragStart,onClick:n.onClick,onContextMenu:n.onContextMenu,onDragEnd:n.onDragEnd,onDragStart:n.onDragStart,children:(0,s.jsxs)("div",{className:d()(g.HT,{[g.tr]:n.showGrabber,[g.Pv]:n.isFavoritesToMove_DEPRECATED,[g.Oh]:n.isFavoritesToMove_DEPRECATED,[g.wz]:n.isSelected}),children:[(0,s.jsx)(u.a,{onInitialLoad:a}),(0,s.jsx)(h,{contentId:t,...n})]})})}function b({isDragTarget:e,onDragEnter:t,onDragLeave:a,onDragDrop:n,onDragQuadrantUpdate:i,dragKey:r,children:l}){return(0,s.jsx)(c.Y,{isDragTarget:e,onTargetDragEnter:t,onTargetDragLeave:a,onTargetDrop:n,onTargetDragQuadrantUpdate:i,draggable:!1,children:l},r)}let v=n.forwardRef(function(e,t){let a=n.useId(),r=e.isSelected,o=n.useRef(null),d=(0,l.SV)(o,t),c=n.useCallback(e=>{r&&!e&&o.current?.scrollIntoView({block:"center"})},[o,r]),u=(0,s.jsx)(x,{buttonRef:d,contentId:a,scrollIfHiddenAndSelected:c,...e}),m=e.onDragStart&&!i.v.getFeatureGate("file_browser_drag_and_drop_revamp")?(0,s.jsx)(b,{...e,children:u}):u;return e.wrapInListItem?(0,s.jsx)(f,{children:m}):m});function f({children:e}){return(0,s.jsx)("li",{className:"x3ct3a4",children:e})}},324259(e,t,a){"use strict";a.d(t,{j:()=>n});var s=a(239976);function n({children:e}){return(0,s.jsx)("div",{className:"x78zum5 xvy4d1p xxk0z11 x6s0dn4 xl56j7k x2lah0s","aria-hidden":!0,children:e})}a(574988)},487216(e,t,a){"use strict";if(a.d(t,{j:()=>d}),1464==a.j)var s=a(745463);var n=a(567739),i=a.n(n),r=a(908889),l=a.n(r),o=a(870527);function d(e,t){if(!e.plan_canceled)return null;let a=[e.annual_subscription,e.monthly_subscription].map(e=>e?.canceled_at?e?.current_period_end:null).filter(s.Vq),n=a.filter(e=>(0,o.A)(e).isAfter(t)),r=l()(n,e=>(0,o.A)(e).valueOf());if(r)return(0,o.A)(r).toDate();let d=a.filter(e=>(0,o.A)(e).isBefore(t)),c=i()(d,e=>(0,o.A)(e).valueOf());return c?(0,o.A)(c).toDate():null}},833933(e,t,a){"use strict";a.d(t,{R:()=>o});var s=a(239976);if(1464==a.j)var n=a(878521);if(1464==a.j)var i=a(732632);var r=a(850159);a(574988);var l=a(436174);function o(){return(0,s.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xdt5ytf xl56j7k x2b8uid xh8yej3 x5yr21d x1v2ro7d"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:(0,r.t)("general.root_error_boundary_title")}),(0,r.tx)("general.root_error_boundary_description",{status_page:(0,s.jsx)(n.N,{href:"https://status.figma.com",children:(0,r.tx)("general.root_error_boundary_status_page")})})]}),(0,s.jsx)(i.$n,{variant:"primary",onClick:()=>l.Ay.reload("File browser page crash"),children:(0,r.t)("general.root_error_boundary_refresh")})]})}},803105(e,t,a){"use strict";a.d(t,{r:()=>x});var s=a(239976),n=a(105652),i=a(645186),r=a(706354),l=a(224542),o=a.n(l),d=a(181645),c=a(684325),u=a(289886),m=a(613629),_=a(833933),p=a(496172),g=a(773201);function h({isSticky:e,hasTopDivider:t,children:a}){return(0,s.jsx)("div",{className:o()("file_browser_page_view--viewBarWrapper--iWThY",{[u.s.sticky.$]:e,[u.s.bSolid.colorBorder.bt1.$]:t}),children:a})}function x(e){let{mobileToolBarSpacerStyle:t,containerStyle:a,metaContainerStyle:l}=e.collapseSidebarOnTabletView?{mobileToolBarSpacerStyle:"",containerStyle:"file_browser_page_view--tabletOptimizedContainer--2lqun file_browser_page_view--container--noG2B",metaContainerStyle:"file_browser_page_view--tabletOptimizedMetaContainer--SE2tW file_browser_page_view--metaContainer--c6pqX"}:{mobileToolBarSpacerStyle:"file_browser_page_view--mobileToolBarSpacer--NT7XZ",containerStyle:"file_browser_page_view--container--noG2B",metaContainerStyle:"file_browser_page_view--metaContainer--c6pqX"},u=(0,g._6)(),x=(0,i.wA)(),[b,v]=n.useState(!1),f=window.performance.getEntriesByType("navigation")[0];n.useEffect(()=>{let e=f?.loadEventEnd;0===e||b||((0,d.sx)("File Browser Cold Start Page Load Time",{elapsedMs:e,selectedView:u.view},{forwardToDatadog:!0,batchRequest:!0}),v(!0))},[f?.loadEventEnd,b,u.view]);let j=e.errorBoundaryConfig?.figmaTeam??r.FigmaTeam.WAYFINDING,y=e.errorBoundaryConfig?.boundaryKeySuffix?`-${e.errorBoundaryConfig.boundaryKeySuffix}`:"",T=(0,s.jsxs)(s.Fragment,{children:[!!e.banner&&(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageBanner${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:p.y4,children:e.banner}),(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageToolbar${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{x(m.F.enqueue({message:"Something went wrong.",type:"react-error"}))},hasCustomWASMBuild:p.y4,children:e.toolbar}),!!e.header&&e.header,(0,s.jsx)("div",{className:t}),e.viewbar&&(0,s.jsx)(h,{isSticky:e.viewBarSticky,children:e.viewbar}),!!e.belowToolbarBanner&&(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageBannerBelowToolbar${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:p.y4,children:e.belowToolbarBanner}),(0,s.jsx)("div",{className:o()(e.scrollableContainerClass,"file_browser_page_view--scrollableContainerClass--rJJrv"),children:(0,s.jsxs)("div",{className:`${a} ${e.containerClass||""}`,children:[e.metaContent&&(0,s.jsx)("div",{className:l,children:(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageMetaContent${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:e.metaContent})}),(0,s.jsx)("main",{className:`file_browser_page_view--contentContainer--uVZg9 ${e.contentContainerClass||""}`,children:(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageContent${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:e.content})})]})})]});return(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageHeader${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:T})}},105393(e,t,a){"use strict";a.d(t,{Y:()=>n});var s,n=1464==a.j?((s=n||{}).AdminUpgradeEmail="admin_upgrade_email",s.UnknownDeeplink="unknown_deeplink",s.AdminProvisionalAccessExpirationEmail="admin_provisional_access_expiration_email",s.AdminReminderEmail="admin_reminder_email",s):null},385624(e,t,a){"use strict";a.d(t,{Cn:()=>A,FH:()=>q,Hu:()=>N,Kq:()=>P,MP:()=>R,W9:()=>k,e_:()=>M,gu:()=>O,kx:()=>C});var s=a(105652),n=a(645186),i=a(688357),r=a(63744);a(491852);var l=a(306831),o=a(730351);if(1464==a.j)var d=a(480507);var c=a(797174),u=a.n(c),m=a(181645);if(2036!=a.j)var _=a(354991);var p=a(271044),g=a(352393),h=a(448775),x=a(703493),b=a(612719),v=a(194014),f=a(354621),j=a(225394),y=a(107015),T=a(520435),I=a(46960),S=a(865876),w=a(926441);let E="COMMENTS_ABSOLUTE_POSITIONING_UPDATER";function N(e,t){let a=s.useMemo(()=>u()(e,e=>e.clientMeta?.nodeId),[e]),r=s.useMemo(()=>Object.keys(a),[a]),l=s.useRef({}),o=(0,n.wA)(),d=(0,b.g)(),c=s.useCallback(e=>{let{nodeId:t,position:s,eventOrigins:n}=e,i=l.current[t],r=n.includes("LOCAL"),d=navigator.onLine;if(r&&d)if(null===s){let e=a[t]||[];i&&e.forEach(e=>{let t=e.clientMeta;if(t){let a=e.clientMeta?.nodeOffset||{x:0,y:0},s=_.Mi.add(i.position,a);(t.x!==s.x||t.y!==s.y)&&o(T.hY({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:s.x,y:s.y,page_id:t.pageId||void 0,node_id:t.nodeId||void 0,node_offset:t.nodeOffset||void 0,in_frame:t.inFrame||void 0,selection_box_anchor:t.selectionBoxAnchor||void 0,stable_path:t.stablePath||void 0}}))}})}else s&&s.page!==i?.position?.page&&(a[t]||[]).forEach(e=>{let t=e.clientMeta;if(t){let a=e.clientMeta?.nodeOffset||{x:0,y:0},n=_.Mi.add(s,a);o(T.hY({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:n.x,y:n.y,page_id:s.page,node_id:t.nodeId||void 0,node_offset:t.nodeOffset||void 0,in_frame:t.inFrame||void 0,selection_box_anchor:t.selectionBoxAnchor||void 0,stable_path:t.stablePath||void 0}}))}});l.current[t]=e},[a,l,o]);s.useEffect(()=>{if(t.enabled&&i.glU&&d){let{currentNodePosition:e}=(0,v.EE)(E,r,c);l.current=e}return()=>{i.glU&&d&&(0,v.lB)(E)}},[r,c,t.enabled,d])}function A(){let[e,t]=s.useState(new Date);s.useEffect(()=>{if(h.Y5){let e=()=>{t(new Date)};return(0,x.B_)(e),()=>{(0,x.mo)(e)}}},[t]);let a=s.useCallback(e=>{h.Y5?.isReady()&&(0,x.PN)(new Set(e))},[]),n=s.useCallback(e=>{h.Y5?.isReady()&&(0,x.$r)(new Set(e))},[]);return{anchorPositions:s.useMemo(()=>(0,d.xx)(t=>h.Y5?.isReady()&&e&&r.GT?r.GT.getCanvasSpaceCommentLocations(t):{}),[e]),boundingBoxPositions:s.useMemo(()=>(0,d.xx)((t,a,s)=>{if(!(0,p.y)()||!a||!e)return{};let n={},i=(0,g.j)(t,a);return s.forEach(e=>{if(e.content){let t=(0,g.N)([e]).reduce((e,t)=>i[t]?{...e,[t]:i[t]}:e,{});n[e.publicUuid]=t}}),n}),[e]),DEPRECATED_updateWatchedNodeIds:a,updateWatchedStablePaths:n}}function C(e){return s.useCallback(t=>t.reduce((t,a)=>{let s=e?.pageIdForNodeId(a)||null;return s&&(0,o.UN)().get(s)?.isInternalOnlyNode&&(s=null),t[a]=s,t},{}),[e])}function k(e,t,a,i,r,l){let o={anchorPositionById:i(s.useMemo(()=>{if("loaded"!==t.status||!t.data.file)return{commentNodeInfoById:{},commentNodeIds:new Set,commentThreads:[]};let e=t.data.file,a=Object.create(null),s=new Set,n=e.comments.filter(e=>null===e.parentId);for(let e of n)if(e.clientMeta){let{x:t,y:n,nodeId:i,nodeOffset:r,stablePath:l}=e.clientMeta;a[e.id]={canvasPosition:{x:t,y:n},nodeId:i,nodeOffset:r,stablePath:l?`[${l.join(",")}]`:void 0},null!=i&&s.add(i)}return{commentNodeInfoById:a,commentNodeIds:s,commentThreads:n}},[t]).commentNodeInfoById)},d=(0,n.d4)(e=>e.comments.savingCommentUuids),c=(0,n.d4)(e=>e.comments.lgPendingUuidToServerIdMap);s.useEffect(()=>{if("errors"===t.status){let e=JSON.stringify(t.errors.map(e=>({code:e.code,path:e.path,message:e.error?.message||""})));console.error(`Failed to load comments: ${e}`),(0,m.sx)("Livegraph Comments Errors",{errors:e})}},[t]),(0,j.t)(e=>{if("loading"!==t.status){if("errors"===t.status)return void e("comments_fetched",{status:t.status});e("comments_fetched",{count:t.data?.file?.comments?.length,status:t.status})}},[t]);let u=s.useMemo(()=>l.filter(e=>!!("nodeId"in e?e.nodeId:e.id)).reduce((e,t)=>(e["nodeId"in t?t.nodeId:t.id]=t.name,e),{}),[l]),_=s.useMemo(()=>(0,S.ro)(e,t,a,o.anchorPositionById,r,u,d,c),[e,t,a,o.anchorPositionById,r,u,d,c]);return(0,w.E)("loaded"===_.status&&_.data||[]),_}function R(){return!!(0,n.d4)(e=>e.comments).activeThread}function O(e,t,a){return s.useEffect(()=>{if(t.errors&&t.errors.length){let e=JSON.stringify(t.errors.map(e=>({code:e.code,path:e.path,message:e.error?.message||""})));console.error(`Failed to load canvas mentions: ${e}`),(0,m.sx)("Livegraph Canvas Mention Comments Errors",{errors:e})}},[t.errors]),s.useMemo(()=>(0,S.k0)(e,t,a),[a,t,e])}function q(e,t,a){let s;switch(t){case"deleted_pages":return!e.pageName;case"deleted_anchors":if(!(s=e.comments[0]?.client_meta?.node_id))return!1;return!a?.get(s);case"non_slide_anchors":if(!(s=e.comments[0]?.client_meta?.node_id))return!0;let n=(0,o.UN)().get(s);if(!n)return!0;return"-1:-1"===n.containingSlideId;default:return!1}}function P(e){let t=(0,I.s)(),a=(0,f.eY)();return!!(0,y.Qf)(a)&&q(e,t.orphanedBy,a)}function M(){let e=(0,n.Pj)();return s.useCallback(t=>{let a=e.getState().mirror.sceneGraph;return(0,l.dA)(a,t)},[e])}},515672(e,t,a){"use strict";a.d(t,{V:()=>N,q:()=>E});var s=a(105652),n=a(645186),i=a(557998),r=a(885705);if(1464==a.j)var l=a(650963);var o=a(706354),d=a(850159),c=a(181645),u=a(95382),m=a(539236);if(1464==a.j)var _=a(613629);var p=a(14686),g=a(634634);if(1464==a.j)var h=a(996596);if(1464==a.j)var x=a(383355);if(1464==a.j)var b=a(319652);if(1464==a.j)var v=a(105393);if(1464==a.j)var f=a(267925);var j=a(644350),y=a(331850),T=a(618458),I=a(948575),S=a(12358);let w=1464==a.j?{approvalRequestId:"approvalRequestId",costShown:"costShown",entryPoint:"dashEntryPoint"}:null;async function E(e,t,a){try{let s=await (0,u.Ek)(j.s7T,{requestId:e}),n=(0,i.unwrap)(s.accountTypeRequest);if(!n){a&&a("notFound"),C(t,(0,d.t)("admin_dashboard.requests.not_found"));return}if("pending"!==n.status){a&&a("alreadyHandled"),t(_.F.enqueue({message:(0,d.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:n?.status==="approved"?"requests-approved":"requests-denied"}));return}return n}catch(e){a&&a("unknownFetchError"),C(t)}}function N(){let e=(0,n.wA)(),{dispatchSuccessWithRequesterNameAndSeatName:t,dispatchSuccessWithRequesterName:a,dispatchSuccess:i,dispatchProcessingError:r}=(0,h.s)(),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(),m=(0,y.S2)(),_=m.unwrapOr({key:{type:T.OL.TEAM,parentId:""}}),j=(0,x.Q)(),N=(0,g.g)(m.unwrapOr(null)),C=!!_.key.parentId&&!!c?.requestView&&!o,{seatAvailability:k,status:R}=(0,p.k)(_,C);(0,s.useEffect)(()=>{async function t(t,a,s){let n=await E(t,e,e=>{A("deeplink_approve_request_error",{requestId:t,costShownInEmail:s,errorType:e,entryPoint:a,planParentId:_.key.parentId,planParentType:_.key.type,planId:_.key.parentId,planType:_.key.type,landingPage:"recents"})});n?(u({requestView:n,costShownInEmail:s,entryPoint:a}),A("deeplink_to_approve_request",{requestId:t,costShownInEmail:s,planParentId:n.planId,planParentType:n.planType,planId:n.planId,planType:n.planType,landingPage:"recents"})):d(!0)}let a=(0,f.QL)(w.approvalRequestId);if(a){let e=(0,f.QL)(w.entryPoint),s=(0,l.K)(v.Y,e||"")??v.Y.UnknownDeeplink,n=(0,f.QL)("costShown");(0,f.EM)(w.approvalRequestId),(0,f.EM)(w.entryPoint),(0,f.EM)(w.costShown),t(a,s,"true"===n||"false"!==n&&void 0)}},[e,_.key.parentId,_.key.type]);let O=(0,s.useCallback)(async(e,s)=>{if(o)return;d(!0);let n=e.requestView,c=e.costShownInEmail,u=e.entryPoint,m=(0,l.K)(b.ps,n.planType)||b.ps.TEAM,_=n.billableProductKey?(0,S.f2)((0,S.Zx)(n.billableProductKey)):void 0;if(!_||N&&!c&&0===k[_]){A("deeplink_request_needs_cost_approval",{requestId:n.id,entryPoint:u,planParentId:n.planId,planParentType:n.planType,planId:n.planId,planType:n.planType}),s();return}try{let e=await I.w.approveRequests({plan_id:n.planId,plan_type:m,selection_method:b.Xv.DEEPLINK,included_request_ids:[n.id],entry_point:u,is_seat_increase_authorized:c||!N,is_proration_billing_enabled:N});if(200===e.status&&0===e.data.meta.failed_attempts){let e=n.requestableOrgUser?.user?.name??n.requestableTeamUser?.user?.name??"",s=n.billableProductKey?(0,S.f2)((0,S.Zx)(n.billableProductKey)):void 0;A("deeplink_request_approved",{requestId:n.id,costShownInEmail:c,entryPoint:u,planId:n.planId,planType:n.planType,planParentId:n.planId,planParentType:n.planType,landingPage:"recents"}),s&&e?t(e,s):e?a({requesterName:e}):i({approve:!0,numRequests:1,asyncUpdate:!1})}else r({multiple:!1}),A("deeplink_approve_request_error",{requestId:n.id,costShownInEmail:c,errorType:"approveFailed",entryPoint:u,planId:n.planId,planType:n.planType,planParentId:n.planId,planParentType:n.planType,landingPage:"recents",statusCode:e.status.toString()})}catch(e){r({multiple:!1}),A("deeplink_approve_request_error",{requestId:n.id,costShownInEmail:c,errorType:"unknownApproveError",entryPoint:u,planId:n.planId,planType:n.planType,planParentId:n.planId,planParentType:n.planType,landingPage:"recents",statusCode:e?.status})}},[o,t,a,i,r,N,k]),q=(0,s.useCallback)(()=>{let{callback:e}=j.unwrapOr({callback:void 0}),t=c?.requestView,a=c?.entryPoint,s={requestId:t?.id,planParentId:t?.planId,planParentType:t?.planType,entryPoint:a},n=!!j.errors&&j.errors.length;if(n||!e){r({multiple:!1});let e=n?j.errors[0]??"Unknown":"Unknown";A("deeplink_approve_redirect_error",{...s,errorType:e});return}A("deeplink_approve_redirect_to_dashboard",{...s}),e(t?.id,a)},[j,r,c]);(0,s.useEffect)(()=>{!c?.requestView||o||"loading"===R&&N||"loading"===j.status||O(c,q)},[o,R,N,j.status,O,q,c])}let A=(e,t)=>{c.az.trackDefinedEvent(`monetization_expansion.${e}`,t),m.J.addAction(`monetization_expansion.${e}`,o.FigmaTeam.EXPANSION,r.$.INFO,t,{forceEnable:!0})},C=(e,t)=>{e(_.F.enqueue({message:t||(0,d.t)("admin_dashboard.requests.error_generic"),error:!0}))}},141294(e,t,a){"use strict";a.d(t,{d:()=>s});let s=1464==a.j?{aiFeatures:"https://help.figma.com/hc/articles/17725942479127",aiDataSharing:"https://figma.com/ai/our-approach",figmaApproachToAi:"https://figma.com/ai/our-approach"}:null},451265(e,t,a){"use strict";a.d(t,{Z:()=>g});var s=a(105652),n=a(645186);if(1464==a.j)var i=a(523924);var r=a(850159),l=a(140979),o=a(668522);if(1464==a.j)var d=a(613629);if(1464==a.j)var c=a(727439);var u=a(38900);if(1464==a.j)var m=a(487817);var _=a(644350),p=a(331850);function g(e){var t;let[a,g]=(0,s.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),h=(0,n.wA)(),x=(0,p.T5)("useOpenResourceConnectionReviewModal").unwrapOr(null),b=(0,l.bc)(_.XPZ,{resourceConnectionInviteId:a},{enabled:!!a}),v=(0,s.useMemo)(()=>{let e=(0,o.oA)(b.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[b]);return(0,s.useCallback)(()=>{if(a&&v&&x&&v?.resourceConnectionInvite.connectingPlanId===x.key.parentId){if(v?.resourceConnectionInvite.status===m.sm.PENDING)h(u.to({type:c.d,data:v}));else{let e=(e=>{switch(e){case m.sm.APPROVED:return(0,r.t)("resource_connection.visual_bell.already_approved");case m.sm.DENIED:return(0,r.t)("resource_connection.visual_bell.already_denied");case m.sm.REVOKED:return(0,r.t)("resource_connection.visual_bell.already_revoked");case m.sm.PENDING:return;default:(0,i.xb)(e)}})(v?.resourceConnectionInvite.status);e&&h(d.F.enqueue({message:e}))}g(void 0)}},[v,h,x,a])}},576080(e,t,a){"use strict";if(a.d(t,{Bk:()=>u,Pe:()=>c}),1464==a.j)var s=a(523924);var n=a(706354),i=a(462198),r=a(856201),l=a(555318),o=a(783515);let d=(0,l.x1)(r.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,i.$D)(n.FigmaTeam.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),r=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:r}}function u(e,t){e.pending&&null===e.userId||((0,i.$D)(n.FigmaTeam.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},783515(e,t,a){"use strict";a.d(t,{W:()=>n});var s=a(555318);let n=(0,s.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),debug_session_expires_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),should_show_standalone_team_tos:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()]),(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()])},590648(e,t,a){"use strict";a.d(t,{S:()=>i});var s=a(35212),n=a(116682);let i=new class{constructor(){this.AssetTransferSchemaValidator=(0,s.vh)(),this.OrgTeamTransfersSchemaValidator=(0,s.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}deleteAssetTransferRequest(e){return n.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return n.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},796893(e,t,a){"use strict";a.d(t,{B:()=>r});var s=a(239976),n=a(105652);let i=n.lazy(()=>Promise.all([a.e("826"),a.e("5830"),a.e("4395"),a.e("6934")]).then(a.bind(a,570517)).then(e=>({default:e.NuxOnboardingOverlay})));function r(e){return(0,s.jsx)(n.Suspense,{fallback:null,children:(0,s.jsx)(i,{entryPoint:e.entryPoint})})}},335359(e,t,a){"use strict";a.d(t,{MF:()=>ee,Uc:()=>et});var s=a(239976),n=a(105652),i=a(645186),r=a(594293),l=a(46449),o=a(555355),d=a(957131),c=a(298705),u=a(850159),m=a(741542),_=a(181645),p=a(865804),g=a(59762),h=a(140979),x=a(227031),b=a(921424),v=a(90550),f=a(824234),j=a(289886),y=a(601173),T=a(51712),I=a(38900),S=a(936652),w=a(36722),E=a(379323),N=a(508295),A=a(385990),C=a(552344),k=a(487817),R=a(644350),O=a(818622),q=a(798413),P=a(23843),M=a(331850),L=a(449360),D=a(341549),B=a(856201),F=a(852734),U=a(216775),V=a(685698),G=a(694151),W=a(392255),$=a(377821),H=a(882644),z=a(841301),K=a(676882);let Y="team_creation_modal--sectionHeader--jloPt text--fontPos11--rO47d text--_fontBase--VaHfk",Q="team_creation_modal--flexRow--2tqdV";var X=a(609632);function J(e){let t=(0,i.wA)(),a=(0,i.d4)(e=>e.currentUserOrgId)??"",m=(0,i.d4)(e=>e.orgById)[a],x=(0,N.iZ)(),S=(0,i.d4)(e=>e.orgDomains),[q,P]=n.useState(!0);(0,n.useEffect)(()=>{(0,_.sx)("team_creation_started",{user_id:x?.id??"",org_id:a})},[]),(0,n.useEffect)(()=>{t(T.um())},[t]);let L=(0,h.bc)((0,R.Lqr)({orgId:a})),V=(0,M.D6)("TeamCreationModal"),H=(0,M.j_)(V).unwrapOr(!1),K=(0,n.useMemo)(()=>{if("loaded"===L.status){let e=L.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,r.KQ)(e,"name"),e}return[]},[L]),J=(0,n.useMemo)(()=>{if("loaded"===L.status){let e=L.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:D.O}return null},[L]),et=e.workspaceId,ea=K.find(e=>e.id===et),es=ea&&ea.orgAccess===k.bU.SECRET?k.bU.PRIVATE:k.bU.PUBLIC,en=ea&&ea.orgAccess===k.bU.SECRET?$._9.INVITE_ONLY:$._9.ORG,ei=(0,n.useMemo)(()=>("loading"!==L.status&&P(!1),"loaded"===L.status)?L.data.currentUser.baseOrgUser:null,[L]),[er,el]=n.useState(0),[eo,ed]=n.useState(es);(0,n.useEffect)(()=>{ed(es)},[es]);let ec=k.sC.EDIT,[eu,em]=n.useState(B.e6.EDITOR),[e_,ep]=n.useState(e?.workspaceId??J),eg=(0,M.S2)(),eh=eg.transform(e=>e.planRecordId).unwrapOr(null),ex=(0,A.y)(eh),eb=(0,C._)(eh),ev=n.useCallback(e=>{let t=K.find(t=>t.id===e);if(eb&&t)return{id:t.id,name:t.name,canView:t.canView}},[K,eb]),[ef,ej]=n.useState(ev(e_));(0,n.useEffect)(()=>{ep(e=>e??J),ej(ev(e_))},[J,e_,ev]);let ey=(0,i.d4)(e=>e.autocomplete),eT=!!ey.errorMessage,eI=(0,w.Xj)(ey.tokens,ey,t),[eS,ew]=n.useState($.J4.VIEW),[eE,eN]=n.useState(F.Fb.ORG_BROWSABLE),[eA,eC]=n.useState(en);(0,n.useEffect)(()=>{eC(en)},[en]);let[ek,eR]=n.useState(""),[eO,eq]=n.useState(""),eP=eg.transform(e=>e.tier===k.Ag.ENTERPRISE).unwrapOr(!1)&&K.length>0;(H||J===D.O)&&K.length>0&&(K=K.concat({id:D.O,name:(0,u.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:k.bU.PUBLIC,imgUrl:null,canView:!0}));let eM=(0,n.useId)(),eL=e=>(0,s.jsx)("div",{className:"team_creation_modal--workspaceIcon--ij9I-",children:e&&e.id!==D.O?(0,s.jsx)(G.z6,{entity:e,size:16}):(0,s.jsx)(f.B,{svg:X.A})}),eD=(0,s.jsxs)(l.Root,{value:e_??D.O,onChange:e=>ep(e??D.O),children:[(0,s.jsx)(l.Trigger,{label:(0,s.jsx)(o.h,{children:(0,u.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,s.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--diQOG",id:"create-team-modal-workspace-selector",children:(0,s.jsxs)("div",{className:Q,children:[(0,s.jsx)("div",{children:eL(K.find(e=>e.id===e_))}),(0,s.jsx)("div",{children:K.find(e=>e.id===e_)?.name??""})]})})}),(0,s.jsx)(l.Container,{children:K.map(e=>(0,s.jsx)(l.Option,{value:e.id,children:(0,s.jsxs)("div",{className:Q,children:[eL(e),e.name]})},e.id))})]}),eB=(0,n.useId)(),eF=(0,s.jsx)(b.ks,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--6TjIX","data-testid":"team_creation_modal_title",id:eB,maxLength:F.qg,minLength:1,onChange:e=>eR(e.target.value),placeholder:(0,u.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:ek});function eU(){let{onSubmitReturnToPrevView:a=!0}=e,s=eu??B.e6.EDITOR,{emails:n,userGroupsData:i}=(0,U.Zw)(ey),r=i.map(e=>e.id);t((0,E.KQ)({teamName:ek,orgAccess:eo,workspaceId:e_??void 0,dontRedirect:!a,inviteEmails:n,userGroupIds:ex?r:[],userGroupsData:ex?i:[],defaultPermission:ec,description:eO,sharingAudienceControl:ee(eA,eS),orgBrowsable:eA===$._9.INVITE_ONLY&&eE===F.Fb.ORG_BROWSABLE,hidden:eA===$._9.INVITE_ONLY&&eE===F.Fb.HIDDEN,inviteLevel:s})),e.afterSubmit&&e.afterSubmit(),t(I.Lo())}function eV(){t(I.Lo()),t(y.cL())}return(0,s.jsx)(p.fu,{name:"Team Creation",children:(0,s.jsx)(W.OJ,{title:1===er?(0,u.t)("team_creation.add_people_to_team_name",{teamName:ek}):(0,u.t)("team_creation.org_modal_title_sc"),onClose:eV,maxWidth:480,children:(0,s.jsxs)("div",{className:j.s.m16.$,children:[0===er?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ay,{className:Y,htmlFor:eB,children:(0,u.t)("team_creation.name")}),eF,(0,s.jsx)(d.Ay,{className:Y,htmlFor:eM,children:(0,u.t)("team_creation.team_description")}),(0,s.jsx)(c.T,{onChange:eq,value:eO,placeholder:(0,u.t)("team_creation.optional"),id:eM}),eP&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:Y,children:(0,u.t)("team_creation.workspace")}),eD]}),(0,s.jsx)("div",{className:Y,children:(0,u.t)("team_creation.who_has_access")}),(0,s.jsx)($.YU,{resourceType:k.vt.TEAM,value:eA,onChange:eC,org:m,audienceAccessLevel:eS,workspace:ef,workspaceAudienceEnabled:eb}),(0,s.jsx)("div",{className:Y,children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:eA===$._9.INVITE_ONLY?(0,u.t)("team_creation.visibility"):null}),eA===$._9.INVITE_ONLY?(0,s.jsx)($.Kd,{selectedDiscoverability:eE,setSelectedDiscoverability:eN}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.Iz,{label:(0,u.t)("team_creation.what_they_can_do"),selectedPermissionsLevel:eS,setSelectedPermissionsLevel:ew}),(0,s.jsx)("div",{className:"team_creation_modal--subtitle--7B6wl text--fontPos11--rO47d text--_fontBase--VaHfk",children:eS===$.J4.VIEW?(0,u.t)("team_creation.can_view_and_comment"):(0,u.t)("team_creation.can_create_and_edit_files")})]})]})})]}):q?(0,s.jsx)("div",{className:"team_creation_modal--modalSecondStep--rM1iU",children:(0,s.jsx)("div",{className:"team_creation_modal--loadingState--DcOCg",children:(0,s.jsx)(v.qc,{})})}):(0,s.jsx)("div",{children:(0,s.jsx)(Z,{permissionLevel:ec,currentOrgId:a,currentOrgUser:ei,inviteLevel:eu,onInviteLevelChange:em,planRecordId:eh,userGroupsEnabled:ex,userGroupByIdFromTokens:eI})}),(0,s.jsxs)("div",{className:"team_creation_modal--bottomRow--oi76A",children:[(0,s.jsx)("div",{className:"team_creation_modal--footer--E9aS5 team_creation_modal--subtitle--7B6wl text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,u.tx)("team_creation.step_number_of_max_steps",{currentStep:er+1,maxSteps:2})}),(0,s.jsxs)("div",{className:"team_creation_modal--buttons--8WHkN",children:[(0,s.jsx)(b.tM,{onClick:eV,children:(0,u.tx)("project_creation.cancel")}),(0,s.jsx)(b.vd,{onClick:function(){if(0===er)el(1);else{var e;let a=m&&m.domain_capture&&S.domains.length>0?(0,U.Zw)(ey).emails.filter(e=>(0,g.xf)(e)&&!(0,O.H_)(S.domains,e)):[];a.length>0?(e=a,m?.invite_whitelist_guest_invite_setting==null&&e.length>0&&t(I.to({type:z.F,data:{emails:e,onConfirm:()=>{eU()},popStack:!0,orgName:m.name}}))):eU()}},disabled:0===er&&0===ek.trim().length||1===er&&eT,children:0===er?(0,u.tx)("general.continue"):(0,u.tx)("team_creation.create_team")})]})]})]})})})}function Z(e){let t=(0,i.wA)(),a=(0,i.d4)(e=>e.contacts),n=(0,i.d4)(e=>e.orgDomains),r=(0,i.d4)(e=>e.orgById),l=(0,i.d4)(e=>e.dropdownShown),o=(0,i.d4)(e=>e.autocomplete),d=(0,N.iZ)(),c=e.currentOrgId?r[e.currentOrgId]:null,_=(0,K.uv)(c||null),p=t=>{let a=e.currentOrgId?r[e.currentOrgId]:null;return(0,P.t9)(t,a,n)},g=e=>{let t=(0,m.getFeatureFlags)().team_creation_restricted_guests_err_ui&&c?.invite_whitelist_guest_invite_setting!=null;return(0,P.yI)(e,a.usersByEmail[e]||e,c,n,d.email,t?(0,u.t)("team_creation.restricted_against_adding_external_users"):null)},h=[B.e6.ADMIN,B.e6.EDITOR,B.e6.VIEWER],x=t=>(0,L.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),b=t=>(0,L._N)(t,a.usersByEmail,d,[],e.planRecordId,{inviteLevel:e.inviteLevel,source:"team-invite-bar"},{resourceType:k.vt.TEAM,resourceIdOrKey:void 0});return e.inviteLevel&&e.onInviteLevelChange?(0,s.jsx)(V.e,{SearchResultComponent:e.userGroupsEnabled?H.VO:H.o6,TokenComponent:e.userGroupsEnabled?H.Vh:H.gy,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:e.userGroupsEnabled?b:x,getSelectText:q.C1,getTokenIdentifier:H.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,H.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:h,placeholderText:e.userGroupsEnabled?(0,u.t)("user_groups.add_emails_names_or_user_groups"):(0,u.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?H.qq:void 0,searchResultToken:e.userGroupsEnabled?_:p,shouldAutoFocus:!0,validateToken:g,validateTokensAsEmail:!0}):(0,s.jsx)(V.e,{SearchResultComponent:e.userGroupsEnabled?H.VO:H.o6,TokenComponent:e.userGroupsEnabled?H.Vh:H.gy,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:e.userGroupsEnabled?b:x,getTokenIdentifier:H.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,H.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.permissionLevel,joinLinkShown:!1,placeholderText:e.userGroupsEnabled?(0,u.t)("user_groups.add_emails_names_or_user_groups"):(0,u.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?H.qq:void 0,searchResultToken:e.userGroupsEnabled?_:p,shouldAutoFocus:!0,validateToken:g})}function ee(e,t){if(e===$._9.ORG)if(t===$.J4.EDIT)return k.PQ.ORG_EDIT;else return k.PQ.ORG_VIEW;if(e===$._9.WORKSPACE)if(t===$.J4.EDIT)return k.PQ.WORKSPACE_EDIT;else return k.PQ.WORKSPACE_VIEW;return k.PQ.INVITE_ONLY}let et=(0,S.Ju)(function(e){return(0,s.jsx)(x.u9,{label:"TeamCreationModal",children:(0,s.jsx)(J,{...e})})},"TEAM_CREATION_MODAL",S.ZU.YES)},128894(e,t,a){"use strict";a.d(t,{Ig:()=>r,J9:()=>u,Pp:()=>c,XL:()=>m,nH:()=>i,pu:()=>n,td:()=>o,ug:()=>l,zH:()=>d});var s,n=2036!=a.j?((s=n||{}).NAME_SELF="Name Step",s.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",s.WHAT_DO_YOU_DO="What Do You Do Step",s.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",s.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",s.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",s.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",s.INVITE_COLLABORATORS="Invite Collaborators Step",s.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",s.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",s.CHOOSE_PLAN="Choose Plan Step",s.CHOOSE_PRODUCT="Choose Product Step",s.WHAT_DO_YOU_WANT_TO_MAKE_FIRST="What Do You Want To Make First Step",s.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",s):null;let i=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],r=2036!=a.j?["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"]:null,l=2036!=a.j?["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"]:null,o=i.filter(e=>"Choose Product Step"!==e),d=i.filter(e=>"Choose Plan Step"!==e),c=2036!=a.j?["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"]:null,u=2036!=a.j?["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"]:null,m=2036!=a.j?["What Do You Do Step"]:null},175947(e,t,a){"use strict";a.d(t,{dW:()=>N,nH:()=>A});var s=a(239976),n=a(105652),i=a(645186),r=a(297151),l=a(395227),o=a(71239),d=a(850159),c=a(865804),u=a(227031),m=a(921424),_=a(90550),p=a(601173),g=a(38900),h=a(936652),x=a(379323),b=a(391090),v=a(552344),f=a(487817),j=a(331850),y=a(852734),T=a(335359),I=a(377821),S=a(943944),w=a(782391);function E(e){let t=(0,i.wA)(),a=(0,b.dr)(e.team.id).data,n=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,canView:a.workspace.canView}:void 0,u=()=>{t(g.Ce()),t(p.cL())},m=l.hS({...e,onClose:u});return(0,s.jsx)(c.fu,{name:"Team Access Modal",properties:{resourceType:f.vt.TEAM,resourceId:e.team.id},children:(0,s.jsx)(o.bL,{manager:m,width:"lg",children:(0,s.jsxs)(r.vo,{children:[(0,s.jsx)(r.Y9,{children:e.goBack?(0,s.jsx)(S.w,{title:(0,d.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,s.jsx)(r.hE,{children:(0,d.tx)("team_view.team_permissions_modal.access_settings")})}),(0,s.jsx)(r.nB,{children:a?a.org&&(0,s.jsx)(A,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:u,workspace:n}):(0,s.jsx)(_.qc,{className:w.Lq})})]})})})}let N=(0,h.Ju)(function(e){return(0,s.jsx)(u.u9,{label:"TeamAccessModal",children:(0,s.jsx)(E,{...e})})},"TeamAccessModal");function A(e){let t=(0,j.S2)().transform(e=>e.planRecordId).unwrapOr(null),a=(0,v._)(t),r=(0,i.wA)(),l=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.ORG_VIEW?I._9.ORG:t===f.PQ.WORKSPACE_EDIT||t===f.PQ.WORKSPACE_VIEW?I._9.WORKSPACE:I._9.INVITE_ONLY},[e.teamSharingSettings]),o=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return y.Fb.HIDDEN;return y.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),c=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.WORKSPACE_EDIT?I.J4.EDIT:(t===f.PQ.ORG_VIEW||f.PQ.WORKSPACE_VIEW,I.J4.VIEW)},[e.teamSharingSettings]),[u,_]=n.useState(l()),[p,g]=n.useState(o()),[h,b]=n.useState(c()),S=u===I._9.INVITE_ONLY?p&&(0,s.jsx)("div",{children:(0,s.jsx)(I.Kd,{selectedDiscoverability:p,setSelectedDiscoverability:g})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Iz,{selectedPermissionsLevel:h,setSelectedPermissionsLevel:b}),(0,s.jsx)("div",{className:w.VA,children:h===I.J4.VIEW?(0,d.t)("team_creation.can_view_and_comment"):(0,d.t)("team_creation.can_create_and_edit_files")})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:w.bV,children:(0,d.t)("team_creation.who_has_access")}),(0,s.jsx)(I.YU,{resourceType:f.vt.TEAM,value:u,onChange:_,org:e.org,audienceAccessLevel:h,workspace:a?e.workspace:void 0,workspaceAudienceEnabled:a}),(0,s.jsx)("div",{className:w.bV,children:u===I._9.INVITE_ONLY?(0,d.t)("team_creation.visibility"):(0,d.t)("team_creation.what_they_can_do")}),S,(0,s.jsxs)("div",{className:w.E_,children:[(0,s.jsx)(m.tM,{onClick:e.goBack||e.hideModal,children:(0,d.tx)("project_creation.cancel")}),(0,s.jsx)(m.vd,{onClick:()=>{let t=u===I._9.INVITE_ONLY&&p===y.Fb.ORG_BROWSABLE,a=u===I._9.INVITE_ONLY&&p===y.Fb.HIDDEN,s=(0,T.MF)(u,h);(r((0,x.zK)({team:e.team,sharingAudienceControl:s,orgBrowsable:t,hidden:a})),e.goBack)?e.goBack():e.hideModal()},children:(0,d.tx)("team_view.team_permissions_modal.save")})]})]})}},138193(e,t,a){"use strict";a.d(t,{c:()=>g});var s=a(239976),n=a(105652),i=a(645186),r=a(395227),l=a(71239),o=a(297151),d=a(732632),c=a(850159),u=a(490753),m=a(921424),_=a(687497),p=a(38900);function g(e){let t=(0,i.wA)();return(0,s.jsx)(h,{...e,open:!0,onClose:()=>t(p.Lo())})}function h(e){let{title:t,subtitle:a,initialName:g,maxLength:h,onRename:x,placeholder:b,submitText:v,allowEmptyString:f}=e,j=(0,i.wA)(),[y,T]=n.useState(g),I=t??(0,c.t)("resource_rename_modal.title",{initialName:g}),S=r.hS({open:e.open,onClose:e.onClose}),w=()=>{j(p.Lo())},E=()=>!f&&""===y.trim()||y.trim()===g.trim(),N=()=>{E()||(x(y),w())};return(0,s.jsx)(l.bL,{manager:S,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:I})}),(0,s.jsxs)(o.nB,{scrolling:"manual",children:[a,(0,s.jsx)(m.ks,{autoFocus:!0,className:"resource_rename_modal--input--ov5oE",maxLength:h,placeholder:b,onChange:e=>T(e.currentTarget.value),value:y,onKeyDown:e=>{e.keyCode===u.Uz.ENTER&&(e.preventDefault(),N())},"aria-label":I}),h&&(0,s.jsx)("div",{className:"resource_rename_modal--lengthCount--GJVWI",children:(0,s.jsx)(_.E,{color:"secondary",children:(0,c.tx)("resource_rename_modal.lengthCount",{currentLength:y.length,maxLength:h})})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(d.$n,{onClick:w,variant:"secondary",children:(0,c.tx)("resource_rename_modal.cancel")}),(0,s.jsx)(d.$n,{variant:"primary",disabled:E(),onClick:N,children:v})]})})]})})}},834305(e,t,a){"use strict";a.d(t,{i:()=>_});var s=a(239976),n=a(645186),i=a(555235),r=a(412955),l=a(585933),o=a(15369),d=a(850159),c=a(2894),u=a(928814),m=a(328151);function _(e){let t=(0,n.wA)(),a=(0,n.d4)(({mobileNavShown:e})=>e),_=e.tabs&&e.tabs.length||0,p=(()=>{for(let t of e.tabs||[]){let e=t.props;if(e.tab===e.selectedTab&&!e.hideInMobileNav)return t}return null})(),g=p?p.props.tab:null,h=e.hideToolBarOnMobile?"mobile_tool_bar--mobileActionsContainerWithoutBoxShadow--p4f1d mobile_tool_bar--mobileActionsContainer--rzaqm":"mobile_tool_bar--mobileActionsContainer--rzaqm";return(0,s.jsxs)("div",{className:h,children:[(0,s.jsxs)("div",{className:"mobile_tool_bar--toolBarMobileLeftSide--NfdJK",children:[(0,s.jsx)(i.K,{onClick:()=>{a?t(c._I()):t(c.PY())},"aria-label":a?(0,d.t)("mobile_tool_bar.hide_navigation"):(0,d.t)("mobile_tool_bar.show_navigation"),"data-tooltip-type":m.Ib.TEXT,"data-tooltip":a?(0,d.t)("mobile_tool_bar.hide_navigation"):(0,d.t)("mobile_tool_bar.show_navigation"),children:a?(0,s.jsx)(r.f,{}):(0,s.jsx)(l.H,{})}),_>0&&!e.hideToolBarOnMobile&&(0,s.jsx)("div",{className:"mobile_tool_bar--toolBarTabTitle--eKFD4 ellipsis--ellipsis--70pHK",children:p})]}),e.center&&(0,s.jsx)("div",{className:"mobile_tool_bar--toolBarMobileCenter--TlGo5",children:e.center}),_>1&&!e.hideToolBarOnMobile&&(0,s.jsxs)("div",{className:"mobile_tool_bar--toolBarRightSideMobile--wk8VT",children:[(0,s.jsx)(i.K,{onClick:u.wo,"aria-label":(0,d.t)("mobile_tool_bar.more_options"),"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,d.t)("mobile_tool_bar.more_options"),children:(0,s.jsx)(o.J,{})}),(0,s.jsx)("select",{onChange:t=>{let a=t.target.value;for(let t of e.tabs||[]){let e=t.props;if(e.tab===a){e.onClick&&e.onClick(a);return}}},value:g,className:"mobile_tool_bar--toolBarSelector--M0XdW",children:(e.tabs||[]).map(e=>{let t=e.props;return t.hideInMobileNav?null:(0,s.jsx)("option",{value:t.tab,children:t.mobileNavTabTitle},t.tab)})})]})]})}(0,a(796182).rw)()},790645(e,t,a){"use strict";a.d(t,{W:()=>m,i:()=>_});var s=a(239976),n=a(195784),i=a(865804),r=a(289886),l=a(827579),o=a(813377);function d(e){let t,a,d=(e.rightSideActions&&e.rightSideActions.length||0)>0,c=!d&&!e.center,u=o.vL,m=e.tabs&&void 0!==e.showDividerBeforeTabIndex?(t=e.tabs,a=e.showDividerBeforeTabIndex,[...t.slice(0,a),(0,s.jsx)("div",{className:r.s.colorBorder.bl1.bSolid.h24.mx12.$},"toolbar-divider"),...t.slice(a)]):e.tabs;return(0,s.jsx)("div",{className:o.h3,children:(0,s.jsxs)("div",{className:e.containerClassName||o.Lm,children:[!e.centerFullWidth&&(0,s.jsxs)("div",{className:o.i1,style:{maxWidth:c?"100%":void 0,paddingRight:c?0:"32px"},children:[e.left,m]}),e.center&&(0,s.jsx)("div",{className:e.centerFullWidth?o.um:u,children:e.center}),d&&(0,s.jsx)("div",{className:o.li,children:(0,s.jsx)(i.fu,{name:"Toolbar",trackingTargets:n.K7.RCS,children:e.rightSideActions&&(0,s.jsx)("div",{className:r.s.flex.flexRow.gap8.$,children:e.rightSideActions.map(e=>(0,s.jsx)(l.K,{action:e},e.key))})})})]})})}var c=a(834305),u=a(796182);function m(e){return(0,s.jsx)(_,{tabs:e.tabs,left:e.left,center:e.center,hideToolBarOnMobile:e.hideToolBarOnMobile,centerFullWidth:e.centerFullWidth,containerClassName:e.containerClassName||o.Jw,showDividerBeforeTabIndex:e.showDividerBeforeTabIndex})}function _(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.i,{tabs:e.tabs,center:e.center,hideToolBarOnMobile:e.hideToolBarOnMobile}),(0,s.jsx)(d,{tabs:e.tabs,left:e.left,center:e.center,centerFullWidth:e.centerFullWidth,containerClassName:e.containerClassName,showDividerBeforeTabIndex:e.showDividerBeforeTabIndex})]})}_.propTypes={tabs:(e,t,a)=>{let s=e[t];if(!s)return null;if(s.some(e=>e.type.WrappedComponent.name!==u.pG))throw Error(`${t} of ${a} must be a list of elements created from calling ToolBarTabContainer`);return null}}},169250(e,t,a){"use strict";a.d(t,{EK:()=>x,Fd:()=>h,aN:()=>g,wT:()=>u});var s=a(350923),n=a(779757),i=a(571959),r=a(812921),l=a(219567),o=a(304948),d=a(702531);let c=(0,r.bt)(e=>{if("loaded"!==e.orgTeams.status)return n.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return n.Qw.loaded(t)}),u=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.dispatch(i.Jt({})),()=>{t.dispatch(i.MT())}}),m=(0,r.bt)(e=>(0,o.getPermissionsStateMemoized)(e)),_=(0,s.eU)(e=>{let t=e(u),a=e(m);return t.transform(e=>e.filter(e=>(0,l.ox)(e,a)))}),p=(0,s.eU)(e=>e(_).transform(e=>(0,d.ZM)(e))),g=(0,s.Iz)(e=>(0,s.eU)(t=>t(p).transform(t=>t[e]??0))),h=(0,s.eU)(e=>e(_).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),x=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.dispatch(i.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(i.MT())}})},695421(e,t,a){"use strict";a.d(t,{u:()=>o});var s=a(239976),n=a(412427),i=a(328151),r=a(27561);let l=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,s.jsxs)("div",{className:"avatars_pile--viewersList--nTprK",children:[e.totalNum-t.length>0&&(0,s.jsx)("div",{className:"avatars_pile--horizontalPileNumber--GSn9C avatars_pile--baseNumber--r5ge-","data-tooltip-type":i.Ib.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,s.jsx)("div",{className:"avatars_pile--avatar--xeS4e",children:(0,s.jsx)(r.WB,{user:t,children:(0,s.jsx)(n.H8,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}},827579(e,t,a){"use strict";a.d(t,{K:()=>x,A:()=>g});var s,n=a(239976),i=a(145906),r=a(224542),l=a.n(r),o=a(824234),d=a(289886),c=a(113116),u=a(497544),m=a(933544);let _="toolbar_action--hideOnMobile--vc-yE",p="toolbar_action--hideOnDesktop--issZD";var g=((s=g||{})[s.BUTTON=0]="BUTTON",s[s.ICON_BUTTON=1]="ICON_BUTTON",s[s.ICON_TEXT_BUTTON=2]="ICON_TEXT_BUTTON",s[s.CUSTOM=3]="CUSTOM",s[s.CUSTOM_BUTTON=4]="CUSTOM_BUTTON",s);function h(e){switch(e.action.kind){case 0:return(0,n.jsx)(n.Fragment,{children:e.action.displayText});case 1:return(0,n.jsx)(o.B,{svg:e.action.icon});case 2:return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.B,{svg:e.action.icon,className:e.action.svgStyleClass,style:{alignSelf:"center",paddingRight:"5px"}}),(0,n.jsx)("div",{children:e.action.displayText})]});default:return null}}function x(e){if(3===e.action.kind)return(0,n.jsx)("div",{className:l()(e.action.showOnMobile?null:_,e.action.hideOnDesktop?p:null),children:e.action.element},e.action.key);let t="isLoading"in e.action&&!0===e.action.isLoading,a=(0,n.jsx)(c.e6,{className:l()(d.s.flex.itemsCenter.justifyCenter.$,e.action.showOnMobile?null:_,e.action.hideOnDesktop?p:null,"styleClass"in e.action?e.action.styleClass:null,m.HM),"data-test-id":"dataTestId"in e.action?e.action.dataTestId:void 0,"data-onboarding-key":"data-onboarding-key"in e.action?e.action["data-onboarding-key"]:void 0,"data-tooltip":"data-tooltip"in e.action?e.action["data-tooltip"]:void 0,"data-tooltip-type":"data-tooltip-type"in e.action?e.action["data-tooltip-type"]:void 0,innerText:"displayText"in e.action?e.action.displayText:void 0,onClick:"onClick"in e.action?e.action.onClick:void 0,"aria-label":"ariaLabel"in e.action?e.action.ariaLabel:void 0,children:t?(0,n.jsx)("span",{className:d.s.px4.$,children:(0,n.jsx)(u.k,{})}):(0,n.jsx)(h,{action:e.action})},e.action.key);return e.action.editorThemeMode?(0,n.jsx)(i.J,{brand:e.action.editorThemeMode,children:a}):a}}}]);

//# debugId=093a4f87-31bc-5316-9304-e8694a4548fe

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/974545652620aa169f16f40daa29b2536ab55d24/6467-52383674c66845ae.min.js.map