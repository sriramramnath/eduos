"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d1f045cc-47fd-57a8-aceb-e5098e4f2b7a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["5654"],{251122(e,t,r){r.d(t,{p:()=>a});let a="org_plugins_view--emptyState--zToHQ tiles_view_empty_state--emptyState--Vxcwv text--fontPos11--rO47d text--_fontBase--VaHfk"},795755(e,t,r){r.d(t,{Hh:()=>l,Ys:()=>s,_U:()=>i,p$:()=>n,rP:()=>a,wD:()=>o});let a="team_tile--teamIcon--pPOqj",n="team_tile--emptyState--C43dH tiles_view_empty_state--emptyState--Vxcwv text--fontPos11--rO47d text--_fontBase--VaHfk",i="team_tile--emptyTitle--hfICf tiles_view_empty_state--emptyTitle--wPxoW",s="team_tile--joinSpinner--G56Xm",l="team_tile--guestCardDescription--b-W6- text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",o="team_tile--guestCardDescriptionColor--kTwGh"},20203(e,t,r){r.d(t,{d:()=>a,s:()=>n});let a="teams_items_view--emptyContainer--p3oxd text--fontPos11--rO47d text--_fontBase--VaHfk",n="teams_items_view--listName--xHsy7 search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK"},6979(e,t,r){r.d(t,{EA:()=>j,ES:()=>N,Et:()=>A,Iu:()=>E,LX:()=>x,NL:()=>s,QD:()=>n,R2:()=>m,TP:()=>_,Vg:()=>v,Vs:()=>i,Wi:()=>F,XM:()=>y,_h:()=>d,_j:()=>c,aP:()=>g,cu:()=>P,fg:()=>C,iA:()=>a,iT:()=>u,jV:()=>w,kO:()=>p,kT:()=>o,oK:()=>M,pQ:()=>O,qW:()=>f,qd:()=>R,qn:()=>T,sn:()=>l,uS:()=>b,uw:()=>k,vR:()=>S,z3:()=>h,zS:()=>I,zX:()=>D});let a="cooper_template_ui--tileContainer--rIySK",n="cooper_template_ui--detailTilePlaceholderContainer--gi635",i="cooper_template_ui--tile--5Q2oe",s="cooper_template_ui--detailTileContainer--x1frx",l="cooper_template_ui--detailTile--7EB-N",o="cooper_template_ui--detailTileGridFocus--vKG9R",d="cooper_template_ui--templateDetailTileGridFocus--JbTet",c="cooper_template_ui--compactTileGridFocus--iMIii",u="cooper_template_ui--thumbnailContainer--1M5DK",_="cooper_template_ui--templateAssetTile--bw-N0",m="cooper_template_ui--templateTileHoverOverlay--9bZXB",p="cooper_template_ui--hoverOverlayTarget--uadYO",h="cooper_template_ui--templateTileHoverOverlayGrid--oPYfj",f="cooper_template_ui--hoverOverlayWhiteButton--eXeH-",x="cooper_template_ui--startFromScratchAsset--KNfu0",g="cooper_template_ui--verticalAspectRatio--LimbY",b="cooper_template_ui--horizontalAspectRatio--vNr1X",v="cooper_template_ui--grid--k55-0 cooper_template_ui--gridBase--V-7cb",y="cooper_template_ui--templateListGrid--nGoXC cooper_template_ui--gridBase--V-7cb",j="cooper_template_ui--teamTemplateGrid--EP9v8 cooper_template_ui--gridBase--V-7cb",w="cooper_template_ui--firstPartyAssetGrid--pJEPA cooper_template_ui--gridBase--V-7cb",C="cooper_template_ui--tileMetadataContainer--YqY41",T="cooper_template_ui--tileMetadataTitle--2orFu",k="cooper_template_ui--tileMetadataSubTitle--3-Tb0",E="cooper_template_ui--tilePlaceholderMetadataContainer--CS0KL",I="cooper_template_ui--tilePlaceholderImage--cokJ-",A="cooper_template_ui--tilePlaceholderTitle--UjZtP",N="cooper_template_ui--tilePlaceholderSubtitle--HEVNr",S="cooper_template_ui--rowMargin--nDKSn",R="cooper_template_ui--rowContainer--gMSFC",O="cooper_template_ui--rowIconContainer--hdv20",D="cooper_template_ui--rowMetadataContainer--4pF3t",F="cooper_template_ui--rowMetadataTitle--DMXJt",M="cooper_template_ui--rowMetadataSubtitle--b-0c0",P="cooper_template_ui--templatePreviewSeeDetails--FPlW5"},117645(e,t,r){let a;r.d(t,{w:()=>s});let n=new(r(380683)).b({name:"billing_remodel_terms",description:"Code related to informing customers about the billing remodel and new terms that they may need to accept",dependencies:[],exports:{"./components":"./components.ts","./hooks":"./hooks.ts","./modals":"./modals.ts","./overlays":"./overlays.ts"},sideEffects:!1,routeHints:["file_browser"]});var i=r(936652);function s(){return a??=(0,i.Ju)(n.createLazyComponent(()=>Promise.resolve().then(r.bind(r,67561)).then(e=>e.SeatBillingTermsModal),(0,i.Ij)("SeatBillingTermsModal")))}},635862(e,t,r){let a;r.d(t,{y:()=>s});var n=r(499422),i=r(936652);function s(){return a??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([r.e("8331"),r.e("7606"),r.e("8916"),r.e("1904"),r.e("9387"),r.e("8778"),r.e("907"),r.e("7630"),r.e("177"),r.e("9931"),r.e("6467"),r.e("5304"),r.e("7420"),r.e("153")]).then(r.bind(r,246137)).then(e=>e.FolderRenameModal),(0,i.Ij)("FolderRenameModal")))}},689738(e,t,r){r.d(t,{L:()=>i,Mc:()=>d,RQ:()=>a,cm:()=>o,uZ:()=>n}),r(639475),r(875604);let a="team-link-context-menu",n="DRAFT_FOLDER_LINK_ONBOARDING_KEY",i=25;var s,l,o=1464==r.j?((s=o||{}).PENDING_ASSET_TRANSFER="pending_asset_transfer",s.PENDING_RESOURCE_CONNECTION="pending_resource_connection",s.ACTIVE_RESOURCE_CONNECTION="active_resource_connection",s):null,d=1464==r.j?((l=d||{})[l.Up=-1]="Up",l[l.Down=1]="Down",l):null},860920(e,t,r){r.d(t,{o:()=>o,s:()=>d});var a=r(239976);if(1464==r.j)var n=r(147911);var i=r(574988),s=r(865804);if(1464==r.j)var l=r(142599);function o(e){return e.flatMap(e=>[...e.items.map(e=>({displayText:e.displayText,callback:()=>e.onClick(),disabled:e.disabled,trackingEventName:e.trackingEventName,trackingProperties:e.trackingProperties})),l.w])}function d({groups:e,minItemContentWidth:t=168,trackedContext:r,onTrackedItemClick:l}){return(0,a.jsx)(n.mc,{children:(0,a.jsx)(s.fu,{name:r,children:e.map(e=>(0,a.jsx)(n.YJ,{children:e.items.map(e=>(0,a.jsx)(n.q7,{disabled:e.disabled,onClick:()=>{e.onClick(),e.trackingProperties&&l(e)},children:(0,a.jsx)("span",{...i.Ay.props(c.menuItemContent(t)),children:e.displayText})},e.displayText))},e.key))})})}let c=1464==r.j?{menuItemContent:e=>[{k7Eaqz:null!=e?"xkj4a21":e,$$css:!0},{"--x-minWidth":"number"==typeof e?e+"px":null!=e?e:void 0}]}:null},911289(e,t,r){r.d(t,{Q:()=>o});var a=r(645186),n=r(338883),i=r(697608),s=r(597849),l=r(458914);function o({newFileFrom:e,folderId:t,folderData:r,contextClicked:o,forceOpenNewTab:d}){let c=(0,a.wA)(),{data:u,status:_}=(0,n.nt)(t),m=(0,i.h)(u),p=(0,l.E)({newFileFrom:e,forceOpenNewTab:d,folderData:r}),h="loading"===_;return{newFiles:m.map(({editorType:e,canCreate:t})=>(0,s.p)({editorType:e,isDisabled:!t,isLoading:h,onClick:p({editorType:e,triggerElement:"omnicreate",contextClicked:o})})),import:(0,s.u)({isLoading:h,dispatch:c,targetFolderId:t,importToFolderData:r})}}},620228(e,t,r){r.d(t,{t:()=>h,v:()=>p});var a=r(105652),n=r(645186),i=r(850159);if(1464==r.j)var s=r(741542);var l=r(79303),o=r(741405),d=r(582036),c=r(198788);if(1464==r.j)var u=r(863825);if(1464==r.j)var _=r(434144);var m=r(286185);function p({selectedTiles:e}){let t=(0,n.wA)(),{Sprig:r}=(0,c.A)(),{filePermissions:l,repoPermissions:o}=(0,d.xD)(e);return a.useCallback(e=>{let{fileTiles:a,repoTiles:n,offlineFileTiles:d}=(0,_.P)(e);if((0,s.getFeatureFlags)().file_browser_sentiment_survey&&r("setAttribute","fb_file_organized",!0),a.length+n.length+d.length===0||"loaded"!==l.status||"loaded"!==o.status)return;let{filesByKey:c,reposById:p,offlineFilesByKey:h,allDrafts:f,deletableCount:x,selectedCount:g}=m.Mw(e,l.data,o.data);x<g?t(u.s.error((0,i.t)("tile.error.permission_error_trash_file",{selectedCount:e.length}))):t(m.U1({filesByKey:c,reposById:p,offlineFilesByKey:h,allDrafts:f}))},[l.status,l.data,o.status,o.data,t,r])}function h({selectedTiles:e}){let t=(0,n.wA)(),{Sprig:r}=(0,c.A)(),{filePermissions:p,repoPermissions:h}=(0,d.xD)(e);return a.useCallback(e=>{(0,s.getFeatureFlags)().file_browser_sentiment_survey&&r("setAttribute","fb_file_organized",!0);let{fileTiles:a,repoTiles:n}=(0,_.P)(e),d=a.map(e=>e.file.key),c=n.map(e=>e.repo.id),f=d.length+c.length;if(!f||"loaded"!==p.status||"loaded"!==h.status)return;let x=(0,l.m8)(d,p.data),g=(0,o.gX)(c,h.data);x.length+g.length<f?t(u.s.error((0,i.t)("flash.dont_have_permission_permanently_delete_files"))):t(m.Fh({fileKeys:x,repoIds:g}))},[p.status,p.data,h.status,h.data,t,r])}},434144(e,t,r){if(r.d(t,{P:()=>i}),1464==r.j)var a=r(523924);var n=r(832763);function i(e){let t=[],r=[],i=[],s=[];return e.forEach(e=>{switch(e.type){case n.nb.FILE:r.push(e);break;case n.nb.PROTOTYPE:i.push(e);break;case n.nb.REPO:t.push(e);break;case n.nb.PINNED_FILE:(0,a.KF)(!0,"Do not expect to be rendering project or pinned tiles here");break;case n.nb.OFFLINE_FILE:s.push(e);break;default:(0,a.xb)(e)}}),{repoTiles:t,fileTiles:r,prototypeTiles:i,offlineFileTiles:s}}},470902(e,t,r){r.d(t,{e:()=>a});let a=(0,r(350923).eU)(null)},115625(e,t,r){r.d(t,{W:()=>n,a:()=>a});let a="PENDING_PROMO_CODE_REDEMPTION_PLAN_PROMO",n="PENDING_PROMO_CODE_REDEMPTION_TEAM"},96973(e,t,r){let a,n;r.d(t,{Q:()=>Q,L:()=>q,default:()=>rW});var i=r(239976),s=r(3752),l=r(105652),o=r(645186),d=r(442549),c=r(843489),u=r(350923),_=r(90242),m=r(38900),p=r(890817),h=r(267925),f=r(601198),x=r(476219),g=r(393106),b=r(850159);r(574988);var v=r(214030),y=r(865804),j=r(870527),w=r(113116),C=r(487817),T=r(18526),k=r(331850),E=r(113641),I=r(35212);let A=new class{redeemPromoCode(e){return I._5.validate(async({xr:t})=>await t.post(`/api/plan_promo/${e.promoCode}/redeem`,{plan_id:e.planId,tos_acceptance_terms_key:e.tosAcceptanceTermsKey}))}};function N({plan:e,planPromo:t,onBack:r,onRedemptionSuccess:a}){let n=(0,T.LN)(),s=new T.vr(n),[o,d]=l.useState(!1),[c,u]=l.useState(null),_=l.useMemo(()=>({parentId:e.plan_id,type:"org"===e.plan_type?C.OL.ORG:C.OL.TEAM}),[e.plan_id,e.plan_type]),m=(0,k.Il)(_),p="loading"===m.status||o,h=l.useCallback(async()=>{let e=m.unwrapOr(null),r=e?.planRecordId;if(!r)return void u((0,b.t)("file_browser.ai_promo_code_confirm_redemption.error"));d(!0),u(null);try{await A.redeemPromoCode({promoCode:t.code,planId:r,tosAcceptanceTermsKey:"ai_promo_code_terms_v1"}),a()}catch(e){u((0,g.J)(e,(0,b.t)("file_browser.ai_promo_code_confirm_redemption.error"))),d(!1)}},[m,t.code,a]);return(0,i.jsx)(y.fu,{name:E.e0.AI_PROMO_CODE_CONFIRM_REDEMPTION_VIEW,children:(0,i.jsxs)("div",{...{className:"xixxii4 x13vifvy xu96u03 x3m8u43 x1ey2m1c x1yjdb4r x3uc4y2 x78zum5 xdt5ytf"},children:[(0,i.jsx)("div",{...{className:"x78zum5 x6s0dn4 xi4r6k5 xso031l x1q0q8m5 xertd99"},children:(0,i.jsx)(w.$z,{variant:"ghost",size:"md",onClick:r,trackingProperties:{trackingDescriptor:v.c.CLOSE},children:(0,i.jsx)("span",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l"},children:(0,b.tx)("general.cancel")})})}),(0,i.jsx)("div",{...{className:"x1iyjqo2 xs83m0k xdl72j9 xysyzu8"},children:(0,i.jsxs)("div",{...{className:"x78zum5 xdt5ytf x7a106z xlqzeqv x1492z4c x1ou3mml x8x9d4c xack27t"},children:[(0,i.jsx)("div",{...{className:"xjz7g13 xuo4v2q xjnky0o xn4joj7 x1ul8uiu xzxcnsb"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.title")}),(0,i.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1excjyp"},children:[(0,i.jsxs)("div",{...{className:"xrvj5dj x1pmbctz x1332m70"},children:[(0,i.jsxs)("div",{...{className:"xrvj5dj x4w6khx x1osaytk x1dipnxa xxm1mi1 x83jbdn x1mxnbhz xmkeg23 x1y0btm7 x7z60cl x9f619"},children:[(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.plan_label")}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o xeuugli xb3r6kr xlyipyv xuxw1ft"},children:e.plan_name}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.credits_label")}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o xeuugli xb3r6kr xlyipyv xuxw1ft"},children:t.value.toLocaleString()}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.expiration_label")}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o xeuugli xb3r6kr xlyipyv xuxw1ft"},children:(0,j.A)(t.creditsEndAt).format("LL")})]}),(0,i.jsxs)("div",{...{className:"xrvj5dj x4w6khx x1osaytk x1dipnxa xxm1mi1 x83jbdn x1mxnbhz xmkeg23 x1y0btm7 x7z60cl x9f619"},children:[(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.cost_label")}),(0,i.jsx)("div",{...{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o xeuugli xb3r6kr xlyipyv xuxw1ft"},children:s.formatMoney(0,{showCents:!0})})]})]}),(0,i.jsx)("p",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.terms_text")}),c&&(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x172n1ly",children:c}),(0,i.jsx)(w.$z,{"data-testid":"ai-promo-code-confirm-redeem-button",variant:"primary",width:"fill",size:"lg",onClick:h,loading:p,disabled:p,trackingProperties:{trackingDescriptor:v.c.CONFIRM_REDEEM_AI_CREDITS},children:(0,b.tx)("file_browser.ai_promo_code_confirm_redemption.redeem_button_label")})]})]})})]})})}var S=r(765326),R=r(936652);function O(){return n??=(0,R.Ju)(S.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("7360"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("5654"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("177"),r.e("5693"),r.e("9931"),r.e("5869"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,63961)).then(e=>e.AiPromoCodeSelectPlanModal),(0,R.Ij)("AiPromoCodeSelectPlanModal")))}var D=r(470902),F=r(115625);let M="ai_promo_code";function P(){let e=(0,o.wA)(),t=(0,u.Xr)(D.e),[n,s]=l.useState(!1),[g,b]=l.useState(null),{show:v,complete:y,isShowing:j}=(0,p.e)({overlay:x.w6S,priority:f.N.OVERRIDING_MODAL}),w=l.useCallback((e,t)=>{b({plan:e,planPromo:t})},[]),C=l.useCallback(()=>{g&&e((0,m.to)({type:a??=(0,R.Ju)(S.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("7360"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("5654"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("177"),r.e("5693"),r.e("9931"),r.e("5869"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,91338)).then(e=>e.AiPromoCodeRedemptionSuccessfulModal),(0,R.Ij)("AiPromoCodeRedemptionSuccessfulModal"))),data:{onClose:y,onMount:()=>b(null),planPromo:g.planPromo}}))},[y,e,g]),T=l.useCallback(()=>{b(null),e((0,m.to)({type:O(),data:{onOverlayComplete:y,onRedeem:w}}))},[y,e,w]),k=l.useCallback(()=>{v({onShow:()=>{e((0,m.to)({type:O(),data:{onOverlayComplete:y,onRedeem:w}})),s(!1)}})},[y,e,w,s,v]);(0,c.h)(()=>{let e=(0,h.QL)(M),r=d.v.getFeatureGate("ai_promo_code_redemption");e&&r&&((0,h.EM)(M),t(e),k())}),l.useEffect(()=>{let e=d.v.getFeatureGate("ai_promo_code_redemption");n&&e&&k()},[n,k]);let E=(0,o.d4)(e=>e.plans);return(l.useEffect(()=>{if(E.length>0){let e=_.Co?.getItem(F.a),r=_.Co?.getItem(F.W);if(e&&r){let a=JSON.parse(r),n=JSON.parse(e),i=E.find(e=>e.plan_id===a.id);i&&(v({onShow:()=>{b({plan:i,planPromo:n}),t(n.code)}}),_.Co?.removeItem(F.a),_.Co?.removeItem(F.W))}}},[E,t,v]),j&&g)?(0,i.jsx)(N,{plan:g.plan,planPromo:g.planPromo,onBack:T,onRedemptionSuccess:C}):null}var L=r(921424),B=r(375391),U=r(209535);function H(e){return(0,i.jsx)("div",{className:"custom_sections_onboarding_modal--overlay--r85kl",children:(0,i.jsxs)(U.CR,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:B.F_.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)",children:[(0,i.jsx)("h1",{className:"custom_sections_onboarding_modal--header--TcTZF",children:(0,b.tx)("favorited_resources.custom_sections_nudge_header")}),(0,i.jsx)("p",{children:(0,b.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:(0,i.jsx)("strong",{children:(0,b.tx)("favorited_resources.ellipses")}),plus:(0,i.jsx)("strong",{children:(0,b.tx)("favorited_resources.plus")})})}),(0,i.jsx)("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--sXYiG custom_sections_onboarding_modal--footerContainer--vdkZ9",children:(0,i.jsx)(L.vd,{onClick:e.onClickPrimaryCta,children:(0,b.tx)("rcs.file_browser.got_it")})})]})})}var W=r(701921),z=r(419586),V=r(975516);let G="seen_custom_sections_nudge",q="favorites-count-crossed-threshold",K=(0,z.r1)(G);function $(){let e=(0,u.md)(K),t=(0,p.e)({overlay:x.LB2,priority:f.N.OVERRIDING_MODAL},[e]);return(0,W.E)(t.uniqueId,q,()=>{t.show({canShow:e=>!e})}),(0,i.jsx)(V.M,{isShowing:t.isShowing,userFlagOnShow:G,children:(0,i.jsx)(y.fu,{name:"Custom Sections Nudge",children:(0,i.jsx)(H,{onClickPrimaryCta:t.complete})})})}var Y=r(171310),J=r(721635),X=r(325517);let Q="seen_whats_new_v2_modal",Z=(0,z.r1)(Q),ee=(0,Y.tH)("last_figjam_at");function et(){let e=(0,u.md)(z.GW),t=(0,u.md)(Y.mp),r=(0,u.md)(ee),a=(0,u.md)(Z),n=(0,u.md)(Y.Ot),{show:s,isShowing:l,complete:o}=(0,p.e)({overlay:x.I3H,priority:f.N.DEFAULT_MODAL},[e,t,a,n]);return(0,c.h)(()=>{s({canShow:(e,t,a,n)=>e&&!n&&(0,J.f)({lastUsedFigjamDate:r,userCreatedAt:t,hasSeenOverlayV2:a})})}),(0,i.jsx)(X.xZ,{context:"file_browser",isShowing:l,onClose:o})}var er=r(916290),ea=r(335127),en=r(838719),ei=r(869460),es=r(317507),el=r(899545),eo=r(53603),ed=r(220807),ec=r(128003),eu=r(351784),e_=r(416145),em=r(807546),ep=r(198548),eh=r(54352),ef=r(192941),ex=r(838585),eg=r(533937);let eb="File Browser Onboarding -";function ev(e){return(0,i.jsx)(ex.X,{description:(0,b.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more"),emphasized:!0,isShowing:e.isShowing,onClose:e.onManualDismiss,position:eg.Q.BOTTOM_RIGHT,primaryCta:{label:(0,b.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:v.c.LETS_GO},secondaryCta:{label:(0,b.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e.onManualDismiss,ctaTrackingDescriptor:v.c.NO_THANKS},testId:"TakeTourOfFileBrowserOverlay",title:(0,b.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser"),trackingContextName:`${eb} Take tour`})}function ey(e){let{close:t}=(0,ef.S)(),r=()=>{t(),e.onClickPrimaryCta()};return(0,i.jsx)(em.h,{testId:"AccountSettingsOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Account settings`,element:e=>(0,i.jsx)(ep.Rx,{dismissModal:e.dismissModal,onClickPrimaryCta:r,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:r,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ej=r(739565),ew=r(364810),eC=r(739002);function eT(e){let t=(0,o.wA)(),r=(0,o.d4)(e=>e.user?.drafts_folder_id),a=l.useRef(!1);l.useEffect(()=>((0,ew.pP)(),a.current=!1,()=>{a.current||(0,ew.nz)()}),[t,r]);let{onClickPrimaryCta:n}=e,s=l.useCallback(()=>{a.current=!0,(0,ew.nz)(),requestAnimationFrame(()=>n())},[n]);return(0,i.jsx)(ej.o,{eventListeners:["onMouseDown"],children:(0,i.jsxs)(U.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eC.l,topPadding:12,alignPointerToLeft:!0,children:[(0,b.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),(0,i.jsx)(ep.IY,{onClick:s,step:1,totalSteps:6})]})})}function ek(e){return(0,i.jsx)(em.h,{testId:"CreateFilesOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Create files`,element:eT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eE=r(689738);function eI(e){return(0,i.jsxs)(U.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eE.uZ,topPadding:8,alignPointerToLeft:!0,children:[(0,b.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),(0,i.jsx)(ep.IY,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6})]})}function eA(e){return(0,i.jsx)(em.h,{testId:"DraftsOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Drafts`,element:eI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eN=r(539554);function eS(e){let{open:t}=(0,ef.S)();return(0,i.jsxs)(U.NJ,{dismissModal:e.dismissModal,width:247,targetKey:eN.Pm,alignPointerToLeft:!0,topPadding:12,children:[(0,b.tx)("rcs.account_switching.explore_community"),(0,i.jsx)(ep.IY,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function eR(e){return(0,i.jsx)(em.h,{testId:"ExploreCommunityOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Community Hub`,element:eS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eO=r(544133);function eD(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(eO.Gv,{src:(0,en.staticAssetWithPath)("app/onboarding/page-4.gif")}),(0,i.jsxs)(eO.ak,{children:[(0,b.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,b.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")]})]})}function eF(e){return(0,i.jsx)(em.h,{currentStepIndex:e.currentStepIndex,element:eD,isShowing:e.isShowing,modalType:eh.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,onboardingKey:"import",testId:"ImportOverlay",title:()=>(0,b.t)("rcs.import.import_sketch_files"),totalNumSteps:e.totalNumSteps,trackingContextName:"Import Sketch File Onboarding Modal",userFlagOnShow:"import_file_onboarded"})}function eM(e){return(0,i.jsx)(em.h,{testId:"NotificationsOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Notifications`,element:e=>(0,i.jsx)(ep.q9,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eP=r(151524),eL=r(942496),eB=r(360226),eU=r(309295);function eH(e){return(0,i.jsx)(em.h,{ctaText:(0,b.tx)("rcs.open_file.create_file"),currentStepIndex:e.currentStepIndex,element:()=>(0,i.jsx)(eO.ak,{children:(0,b.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")}),isShowing:e.isShowing,modalType:eh.q3.DRAGGABLE,onClickPrimaryCta:()=>{let t;e.onClickPrimaryCta(),t=eP.D.getState(),eP.D.dispatch(eL.uM((0,eB.xA)({state:t,openNewFileIn:eU.ai.SAME_TAB,folderData:"DRAFTS_FOLDER"})))},onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OpenFileOverlay",title:()=>(0,b.t)("rcs.open_file.edit_a_file"),totalNumSteps:e.totalNumSteps,trackingContextName:"Edit a File Onboarding Modal"})}var eW=r(16936);function ez(){let e=(0,o.d4)(e=>e.currentUserOrgId),t=(0,eW.c4)(e).data??!1,r=(0,b.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join");return t&&(r=(0,b.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join")),(0,i.jsxs)("div",{children:[(0,i.jsx)(eO.Gv,{src:(0,en.staticAssetWithUploadsPath)("6f3307f82aeddf6f609eaf97ee9e66e788d485c1"),width:215,margin:"14px 0px 14px 27px"}),(0,i.jsxs)(eO.ak,{children:[(0,i.jsx)("p",{children:(0,b.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),r]})]})}function eV(e){return(0,i.jsx)(em.h,{currentStepIndex:e.currentStepIndex,element:ez,highlightOnlyKey:"new-team-icon",isShowing:e.isShowing,modalType:eh.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OrgWelcomeOverlay",title:()=>(0,b.t)("rcs.org_welcome.welcome_to_your_figma_organization"),totalNumSteps:e.totalNumSteps,trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:"orgs_onboarded",width:376})}var eG=r(125316),eq=r(803925);function eK(e){let{open:t,close:r}=(0,eq.O)();return l.useEffect(()=>{t()},[t]),(0,i.jsxs)(U.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eG.K,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--8EIjP pointer_modal--pointerModalBlue--8BCUs pointer_modal--pointerModal--VrJy4",children:[(0,b.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),(0,i.jsx)(ep.IY,{onClick:()=>{r(),e.onClickPrimaryCta()},step:3,totalSteps:6})]})}function e$(e){return(0,i.jsx)(em.h,{testId:"PlanSpacesOverlay",modalType:eh.q3.SELF_CONTAINED,trackingContextName:`${eb} Plan Spaces`,element:eK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function eY(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.ak,{children:[(0,b.tx)("rcs.welcome_step.welcome_to_figma"),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,b.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")]}),(0,i.jsx)(eO.iy,{children:(0,i.jsx)(w.$z,{onClick:e.onClickPrimaryCta,variant:"primary",autoFocus:!0,children:(0,b.tx)("rcs.welcome_step_view.next")})})]})}function eJ(e){let t=(0,o.d4)(e=>e.user?.name),r=t?(0,b.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,b.t)("rcs.welcome_step.welcome");return(0,i.jsx)(em.h,{currentStepIndex:e.currentStepIndex,disableFooter:!0,element:eY,isShowing:e.isShowing,modalType:eh.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"WelcomeOnboardingOverlay",title:()=>r,totalNumSteps:e.totalNumSteps,trackingContextName:"Welcome Onboarding Modal",userFlagOnShow:"welcome_onboarded"})}let eX=(0,z.r1)("file_browser_onboarded"),eQ=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"];function eZ(){let e=(0,o.wA)(),t=(0,u.md)(z.qG),r=(0,u.md)(eX),a=(0,ea.ZC)(r),n=(0,u.md)(Y.d2),s=(0,o.d4)(e=>e.currentUserOrgId),m=(0,eo.UC)(s),h=(0,u.md)(m),g=(0,u.md)(Y.Ot),b=(0,ec.f)("not_gen_0"),v=(0,p.e)({overlay:x.Ob5,priority:f.N.OVERRIDING_MODAL},[t,n,h,g]),[y,j]=(0,l.useState)([]),[w,C]=(0,l.useState)([]),T=(0,l.useCallback)(e=>{v.show({canShow:(t,r,a,n)=>{let i=(function({userFlags:e,userSpace:t,isReset:r,isOrgUserExternallyRestricted:a}){let n=t===E.qo.ORG,i=(0,ed.of)(e),s=(0,en.default)().is_limited_team_plan,l=(0,ed.mW)(e,"not_gen_0"),o=(0,ed.mW)(e,"welcome_onboarded"),d=(0,ed.mW)(e,"file_browser_onboarded"),c=[eV,eF,(0,eu._q)(e)||a?null:eH],u=[...a?[]:[ek,eA],e$,eR,ey,eM],m=[ev,...u];return s?[]:r||l||n?!r&&(n||l)&&d?[]:n?c:i?m:l?(()=>{let e=(0,_.DN)();try{return!!e.get(ei.zl)}catch(e){}return!1})()||o?[ev,...u]:[eJ,...u]:m:d?[]:m})({userFlags:t,userSpace:r,isReset:e,isOrgUserExternallyRestricted:n}).filter(e=>!!e);return!!i.length&&(j(i),C(["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded",...r===E.qo.ORG&&a?eQ:[]]),!0)}})},[v]);(0,c.h)(()=>(d.v.getFeatureGate("domesticated_gazelle_nux")&&!b&&window.startAdora?.(),T(!1),()=>{window.stopAdora?.()})),(0,W.E)(v.uniqueId,"Reset Onboarding",()=>T(!0)),l.useEffect(()=>{v.isShowing&&a?.status==="loaded"&&a?.data===!1&&r?.status==="loaded"&&r?.data===!0&&v.complete()},[v,r,a]);let k=l.useCallback(()=>{let t={};for(let e of w)t[e]=!0;e(es.b(t)),v.complete()},[e,v,w]);return v.isShowing&&0!==y.length?(0,i.jsx)(e0,{steps:y,onComplete:k}):null}function e0(e){let{steps:t,onComplete:r}=e,a=(0,el.A)({numSteps:t.length,onComplete:r});return(0,i.jsx)(e_.U,{currentStep:a.currentStep,isShowing:!0,children:l.useMemo(()=>t.map((e,n)=>l.createElement(e,{onClickPrimaryCta:a.next,onClose:er.lQ,onManualDismiss:r,isShowing:!0,currentStepIndex:n,totalNumSteps:t.length})),[t,a,r])})}var e1=r(812451),e4=r(289886),e5=r(571916),e6=r(597681),e3=r(498253);function e9(){let e=(0,o.d4)(e=>e.currentUserOrgId),t=(0,u.md)(e6.Z),r=(0,e3.RG)(),a=(0,b.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,e5.D6)(e)?a=r?(0,b.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,b.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(a=(0,b.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:(0,i.jsx)("span",{className:e4.s.fontBold.$,children:t.name})})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:e4.s.pb8.$,children:(0,b.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),a]})}let e2="orgs_onboarded",e8=(0,z.r1)(e2);function e7(){let e=(0,u.md)(Y.d2),t=(0,u.md)(e8),r=(0,p.e)({overlay:x.X5_,priority:f.N.OVERRIDING_MODAL},[e,t]);return(0,c.h)(()=>{r.show({canShow:(e,t)=>e===E.qo.ORG&&!t})}),(0,i.jsx)(ex.X,{description:(0,i.jsx)(e9,{}),isShowing:r.isShowing,media:(0,i.jsx)(e1.y,{src:(0,en.staticAssetWithUploadsPath)("87621fc5a99a1d24beb515288cf764febb8f01e9.png"),alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),onClose:r.complete,position:eg.Q.CENTER,primaryCta:{label:(0,b.tx)("rcs.rcs_shared.done"),type:"button",onClick:r.complete,ctaTrackingDescriptor:v.c.DONE},title:(0,b.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:e2,width:350})}var te=r(594293),tt=r(706354),tr=r(462198),ta=r(431860),tn=r(123441),ti=r(865780),ts=r(644350),tl=r(717638),to=r(224542),td=r.n(to),tc=r(181645),tu=r(523340),t_=r(705828),tm=r(86057),tp=r(830283),th=r(694151),tf=r(754305);let tx="workspace_selector";function tg({workspaces:e,onModalClose:t}){let[r,a]=l.useState(null),n=(0,o.wA)(),s=(0,o.d4)(({selectedView:e})=>e),d=(0,ti.sZ)();if(!d)throw Error("org is not defined");("fullscreen"===s.view||"prototype"===s.view)&&t();let c=(0,i.jsxs)("div",{className:e4.s.flexShrink0.flex.flexColumn.itemsCenter.gap8.$,children:[(0,i.jsx)("img",{className:e4.s.w100.h100.$,src:(0,en.staticAssetWithUploadsPath)("b907892c6132bbea2173d8e95c096187288f54f9"),alt:"",width:100,height:100}),(0,i.jsx)("span",{className:e4.s.textHeadingLarge.colorText.$,children:(0,b.tx)("onboarding.workspace_step.title")}),(0,i.jsx)("span",{className:e4.s.textBodyLarge.colorText.$,children:(0,i.jsx)("div",{className:"workspace_selector--descriptionContainer--lmit4",children:(0,b.tx)("onboarding.workspace_step.subtitle_v2",{orgName:d.name,tipText:(0,i.jsx)("span",{className:e4.s.textBodyLargeStrong.$,children:(0,b.tx)("onboarding.workspace_step.tip")})})})})]}),u=(0,i.jsx)(tm.P,{className:e4.s.flexShrink1.minH200.mt24.$,innerClassName:e4.s.flex.flexColumn.gap12.p16.pt2.$,children:e.map(e=>(0,i.jsx)(tb,{workspace:e,onClick:()=>a(e),isSelected:r?.id===e.id},e.id))}),_=(0,i.jsx)("div",{className:e4.s.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$,children:(0,i.jsxs)("div",{className:e4.s.flex.gap10.$,children:[(0,i.jsx)(tu.tM,{onClick:t,trackingProperties:{trackingDescriptor:v.c.SKIP},children:(0,b.tx)("onboarding.skip")}),(0,i.jsx)(tu.vd,{onClick:()=>{r&&(n(tp.x({workspace:r})),t())},disabled:null===r,trackingProperties:{trackingDescriptor:v.c.JOIN},children:(0,b.tx)("onboarding.workspace_step.join")})]})});return(0,i.jsx)(y.fu,{name:tx,children:(0,i.jsxs)(tf.ey,{className:e4.s.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,tc.sx)("Modal Close",{source:e,trackingContext:tx}),t()},disableClickOutsideToHide:!0,children:[(0,i.jsxs)("div",{className:e4.s.flex.flexColumn.hFull.$,children:[(0,i.jsxs)(tm.P,{className:e4.s.flexGrow1.$,innerClassName:e4.s.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$,children:[c,u]}),_]}),(0,i.jsx)(t_.Jn,{className:e4.s.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:v.c.CLOSE_BUTTON}})]})})}function tb({workspace:e,isSelected:t,onClick:r}){return(0,i.jsxs)("button",{className:td()("workspace_selector--workspaceOptionButton--TSBPy",{"workspace_selector--workspaceOptionButtonSelected--oMlyq":t}),onClick:r,type:"button",children:[(0,i.jsx)(th.z6,{entity:e,size:32}),(0,i.jsx)("span",{className:e4.s.flexGrow1.truncate.textBodyLarge.colorText.ml16.$,children:e.name}),(0,i.jsx)("div",{className:td()("workspace_selector--radioButton--nvy9a",{"workspace_selector--radioButtonSelected--MndgM":t})})]})}let tv="workspace_selector_seen",ty=(0,tn.g)(tv),tj=(0,u.Iz)(e=>(0,ta.Z1)(ts.saW.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,te.KQ)(t,"name"),t}));function tw(){let e=(0,ti.dq)(),t=(0,k.D6)("OrgSelectWorkspaceOverlay"),r="loaded"===t.status?t?.data?.key.parentId??void 0:void 0,a=(0,l.useRef)(void 0);a.current=r;let n=(0,u.md)(Y.d2),s=(0,u.md)(eo.uA),o=(0,eW.Au)(e),d=(0,u.md)(tj(e)),_=(0,u.md)(ty),{show:m,complete:h,isShowing:g}=(0,p.e)({overlay:x.USq,priority:f.N.HIGH_PRIORITY_MODAL},[n,s,o,d,_,t]);return((0,c.h)(()=>{m({canShow:(e,t,r,a,n,i)=>e===E.qo.ORG&&!!t&&!r&&!!a&&0!==a.length&&!n&&!!i&&!0,onShow:()=>{tl.G.postOrgUserFlags({orgUserId:a.current,flags:{[tv]:!0}})}})}),g&&"loaded"===d.status)?d.data?(0,i.jsx)(V.M,{isShowing:!0,testId:"org-select-workspace-overlay",children:(0,i.jsx)(tg,{onModalClose:h,workspaces:d.data})}):((0,tr.$D)(tt.FigmaTeam.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),h(),null):null}var tC=r(227031),tT=r(578064),tk=r(932630),tE=r(925091),tI=r(153645),tA=r(393218),tN=r(579959),tS=r(436174),tR=r(687497);let tO=l.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:r,hasOnlyOneStarterPlan:a})=>(0,i.jsx)(tD,{onClickPrimaryCTA:r,titleText:a?(0,i.jsx)(tR.E,{fontSize:20,fontWeight:"medium",children:(0,b.tx)("rcs.plan_spaces.drafts_have_a_new_home")}):e?(0,i.jsx)(tR.E,{fontSize:20,fontWeight:"medium",children:(0,b.tx)("rcs.plan_spaces.a_simpler_switcher_menu")}):(0,i.jsx)(tR.E,{fontSize:20,fontWeight:"medium",children:(0,b.tx)("rcs.plan_spaces.changes_to_your_drafts")}),descriptionText:a?(0,i.jsx)(tR.E,{fontSize:14,children:(0,b.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")}):e?(0,i.jsx)(tR.E,{fontSize:14,children:(0,b.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")}):(0,i.jsx)(tR.E,{fontSize:14,children:(0,b.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")}),secondaryDescriptionText:a?(0,i.jsx)(tR.E,{fontSize:14,children:(0,b.tx)("rcs.plan_spaces.nothing_else_has_changed")}):e?(0,i.jsx)(tR.E,{fontSize:14,color:"secondary",children:(0,b.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")}):(0,i.jsx)(tR.E,{fontSize:14,children:(0,b.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")}),primaryButtonText:(0,i.jsx)(tR.E,{fontSize:13,children:(0,b.tx)(e||a?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")}),assetSrc:t,hasOnlyOneStarterPlan:a})),tD=l.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:r,secondaryDescriptionText:a,primaryButtonText:n,assetSrc:s,hasOnlyOneStarterPlan:o})=>{let d=l.useCallback(()=>{tS.Ay.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return(0,i.jsxs)("div",{className:"plan_spaces_launch_modal_components--container--0UK5W",children:[(0,i.jsxs)("div",{className:"plan_spaces_launch_modal_components--textContainer--HG1gG",children:[(0,i.jsx)("p",{className:"plan_spaces_launch_modal_components--titleProperties--kVsSn",children:e}),(0,i.jsx)("div",{className:e4.s.pb16.$,children:t}),(0,i.jsx)("div",{children:a}),(0,i.jsxs)("div",{className:"plan_spaces_launch_modal_components--ctaRow--8aRzU",children:[(0,i.jsx)(L.nD,{onClick:r,children:n}),(0,i.jsx)(L.$9,{onClick:d,children:(0,i.jsx)(tR.E,{fontSize:13,children:(0,b.tx)("rcs.plan_spaces.learn_more")})})]})]}),o?(0,i.jsx)("img",{src:s,alt:"An illustration of the Figma sidebar",width:364}):(0,i.jsx)(eO.GV,{width:364,src:s})]})}),tF=new Date("2024-05-15T20:00:00.000Z").getTime();function tM(){return(0,i.jsx)(tC.u9,{label:"PlanSpacesFileBrowserOverlays",children:(0,i.jsx)(tP,{})})}function tP(){var e,t,r;let a,n,s=(0,o.d4)(e=>e.plans),d=(0,o.d4)(e=>e.teams),c=s.filter(e=>e.plan_type===tI.O.TEAM).map(e=>d[e.plan_id]).filter(e=>!!e),_=(0,tk.DP)(),m=(0,u.md)(Y.mp),h=s.some(e=>e.plan_type===tI.O.ORG),g=1===c.length&&c[0].starter_team&&!h,v=(e="dark"===_,t=h,r=g,a={darkMode:{org:(0,en.staticAssetWithUploadsPath)("35339bd6f100fd7c2dca24546e4ded3f7397d137"),teams:(0,en.staticAssetWithUploadsPath)("055e7f20c52382bdb565fbe89f04d9673952663a"),starter:(0,en.staticAssetWithUploadsPath)("6327332cd808163a39e7093c9c388f6e16927cc4")},lightMode:{org:(0,en.staticAssetWithUploadsPath)("d26daa4a5677426d2b01aa43677bf4c65f50b0bd"),teams:(0,en.staticAssetWithUploadsPath)("1c1ca856971dff41eff57240862cf81437cb4dce"),starter:(0,en.staticAssetWithUploadsPath)("b425061637a5821d58f2ce45dee702f544ea52d6")}},n=e?"darkMode":"lightMode",r?a[n].starter:t?a[n].org:a[n].teams),y=(0,tE.d)(),{currentStep:j,next:w}=(0,el.A)({numSteps:2,onComplete:er.lQ}),C=[{title:(0,b.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,b.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:eE.uZ,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,b.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,b.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:tT.U,emphasized:!0,shouldCenterArrow:tN.EL.BEST_EFFORT,disableHighlight:!0}],{show:T,isShowing:k,complete:E}=(0,p.e)({overlay:x.sqw,priority:f.N.DEFAULT_MODAL+1},[m]);(0,l.useEffect)(()=>{y||T({canShow:e=>!!e&&e.getTime()<=tF})},[y,T]);let I=(0,l.useCallback)(e=>(0,i.jsx)(tO,{hasOrgPlan:h,hasOnlyOneStarterPlan:g,assetSrc:v,onClickPrimaryCTA:e.onClickPrimaryCta}),[h,v,g]);return s.length?(0,i.jsxs)(e_.U,{currentStep:j,isShowing:k,children:[(0,i.jsx)(em.h,{closeButtonStyle:eh.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:I,isShowing:k,modalType:eh.q3.FEATURE_UPDATE,onClickPrimaryCta:h?E:w,onClose:er.lQ,onManualDismiss:E,trackingContextName:"plan_spaces_launch_modal",userFlagOnShow:"seen_limited_spaces_onboarding"}),(0,i.jsx)(tA.WZ,{steps:C,isShowing:k,onComplete:E})]}):null}var tL=r(220007);let tB="saw_recreated_starter_team_onboarding",tU=(0,z.r1)(tB),tH=(0,z.r1)("had_recreated_starter_team");function tW(){let e=(0,u.md)(tU),t=(0,tE.d)(),r=(0,u.md)(tH),{show:a,isShowing:n,complete:s}=(0,p.e)({overlay:x.yjU,priority:f.N.DEFAULT_MODAL},[e,r]);return(0,c.h)(()=>{t||a({canShow:(e,t)=>!e&&t})}),(0,i.jsx)(tL.rq,{arrowPosition:tN.F_.LEFT_TITLE,description:(0,i.jsx)("p",{children:(0,b.tx)("rcs.plan_spaces_new_starter_team.text")}),emphasized:!0,isShowing:n,onClose:s,targetKey:tT.U,testId:"PlanSpacesRecreatedStarterTeamOverlay",title:(0,b.tx)("rcs.plan_spaces_new_starter_team.title"),trackingContextName:"plan_spaces_recreated_starter_team_modal",userFlagOnShow:tB})}var tz=r(587212),tV=r(458983),tG=r(681636);function tq(){let e=(0,o.wA)(),t=(0,ec.f)(tz.p),r=(0,tV.ol)(),a=r?.id||null,{show:n,isShowing:i,complete:s}=(0,p.e)({overlay:x.xf0,priority:f.N.OVERRIDING_MODAL});return(0,c.h)(()=>{t&&a&&n()}),l.useEffect(()=>{i&&a&&(e(es.b({[tz.p]:!1})),e(m.to({type:tG.C,data:{teamId:a}})),s())},[i,a,e,s]),null}var tK=r(869884),t$=r(374950),tY=r(812921);let tJ=(0,u.eU)(()=>{let e=(0,tK.UG)();try{return e.get(t$.Bq)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),tX=(0,tY.bt)(e=>null!=e.payment.promo);var tQ=r(523454);let tZ=(0,ta.Z1)(Y.Vm,e=>(e??[]).some(e=>null!=e&&!(0,tQ.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit));var t0=r(427122);function t1({dismissModal:e}){let t=(0,o.d4)(({payment:e})=>e.promo);return((0,c.h)(()=>{(0,t$.lc)()}),(0,l.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:(0,i.jsxs)(U.NJ,{targetKey:tT.U,dismissModal:e,width:301,shouldScrollTargetIntoView:!0,children:[(0,i.jsx)("div",{className:t0.Hj,children:(0,b.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")}),(0,b.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)})]})}function t4(){let e=(0,u.md)(tZ),t=(0,u.md)(tJ),r=(0,u.md)(tX),a=(0,p.e)({overlay:x.Qlc,priority:f.N.OVERRIDING_MODAL},[e]),n=(0,l.useCallback)(()=>{t&&r&&a.show({canShow:e=>!e})},[t,r,a]);return(0,c.h)(()=>{n()}),(0,i.jsx)(em.h,{element:t1,isShowing:a.isShowing,modalType:eh.q3.SELF_CONTAINED,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var t5=r(140979),t6=r(926808),t3=r(475712),t9=r(110638),t2=r(304948);function t8(e){let t=(0,o.wA)(),r=e.promo,a="",n=parseInt(r.promo_value);if(r.claims_end_at){let e=new Date(Date.parse(r.claims_end_at));a=r.is_multi_redeemable?(0,b.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:n,date:e}):(0,b.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:n,date:e})}else a=r.is_multi_redeemable?(0,b.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:n}):(0,b.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:n});return(0,i.jsxs)(tf.ey,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--KySTj",children:[(0,i.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamTitle---Mz2l text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,b.tx)("promo.select_team.choose_teams_to_upgrade")}),(0,i.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--D0r5- text--fontPos11--rO47d text--_fontBase--VaHfk",children:a}),(0,i.jsx)(t_.Jn,{className:"promo_code_select_team_content--closeButton--bEkPe",onClick:e.dismissModal,innerText:"close"}),(0,i.jsx)(L.Kz,{multiple:2}),(0,i.jsx)(t6.I,{eligibleTeams:e.starterTeams,selectTeam:r=>{t(t3.g_({teamId:r.id,teamName:r.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam})]})}function t7({dismissModal:e}){let t=(0,o.d4)(({payment:e})=>e.promo),r=(0,o.d4)(({selectedView:e})=>e),a=(0,o.d4)(e=>e.teams),n=(0,t9.FC)(),s=l.useMemo(()=>Object.values(a).filter(e=>!(0,tQ.w5)(e)&&(0,t2.canEditTeam)(e.id,n)),[a,n]),d=[],u=l.useMemo(()=>s.map(e=>({teamId:e.id})),[s]);return((0,t5.p)(ts.bel,u).forEach(e=>{d.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,c.h)(()=>{(0,t$.lc)()}),(0,l.useEffect)(()=>{(null==t||0===s.length)&&e()},[e,t,s]),null==t||0===s.length)?null:(0,i.jsx)(t8,{starterTeams:s,promo:t,filesPerStarterTeam:d,dismissModal:e,previousView:r})}function re(){let e=(0,u.md)(tZ),t=(0,u.md)(tJ),r=(0,u.md)(tX),a=(0,p.e)({overlay:x.I$z,priority:f.N.OVERRIDING_MODAL},[e]),n=(0,l.useCallback)(()=>{t&&r&&a.show({canShow:e=>e})},[t,r,a]);return(0,c.h)(()=>{n()}),(0,i.jsx)(em.h,{element:t7,isShowing:a.isShowing,modalType:eh.q3.WELCOME,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var rt=r(876299),rr=r(378291),ra=r(506256),rn=r(93268);function ri(){let e=(0,u.md)((0,z.r1)(ra.a4)),t=(0,u.md)(Y.Fy),r=(0,rr.mj)(),a=(0,rr.eH)(),n=r&&!a,{show:s,isShowing:l,complete:o}=(0,p.e)({overlay:x.utg,priority:f.N.DEFAULT_MODAL},[e,t]);(0,c.h)(()=>{s({canShow:(e,t)=>(r||a)&&!e&&t})});let d={arrowPosition:tN.F_.LEFT_TITLE,description:(0,b.tx)("community.resource_hub.get_inspired_by_community"),emphasized:!0,primaryCta:n?{ctaTrackingDescriptor:v.c.GOT_IT,label:(0,b.tx)("community.resource_hub.got_it"),onClick:o,type:"button"}:void 0,targetKey:eN.Pm,title:(0,b.tx)("community.resource_hub.reconnect_with_community"),trackingContextName:rn.HH.COMMUNITY_IA_CHANGE_OVERLAY,whenTargetLost:"complete"},_={arrowPosition:tN.F_.LEFT_TITLE,description:(0,b.tx)("community.resource_hub.see_your_teammates_resources"),emphasized:!0,primaryCtaLabel:(0,b.tx)("community.resource_hub.got_it"),targetKey:eN.d6,title:(0,b.tx)("community.resource_hub.created_by_your_teammates"),trackingContextName:rn.HH.INTERNAL_IA_CHANGE_OVERLAY,whenTargetLost:"complete"};return n?(0,i.jsx)(tL.rq,{arrowPosition:tN.F_.LEFT_TITLE,isShowing:l,...d,onClose:o,userFlagOnShow:ra.a4}):(0,i.jsx)(tA.WZ,{isShowing:l,onComplete:o,steps:[d,_],userFlagOnShow:ra.a4})}var rs=r(686870),rl=r(534973),ro=r(741542),rd=r(834116),rc=r(373332),ru=r(746354),r_=r(380760);let rm=(e,t)=>{let r=(0,en.default)()?.iso_code,a=(0,en.default)()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<Date.now()-864e5)&&!!("de"===a||navigator.languages.some(e=>rc.BF.includes(e))||r&&rc._H.includes(r))};function rp(e){let t=(0,o.wA)(),r=(0,tk.DP)();return(0,i.jsx)(ru._l,{isShowing:e.isShowing,trackingContextName:"de_de_launch_announcement",onClose:e.onClose,title:(0,i.jsx)(i.Fragment,{children:(0,b.tx)("de_de_announcement.title")}),description:(0,b.tx)("de_de_announcement.description"),primaryCta:{label:(0,b.tx)("de_de_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.to)({type:r_.kA,data:{source:r_.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:v.c.UPDATE_LANGUAGE_SETTINGS},media:(0,i.jsx)(rd.oW,{width:332,height:404,src:(0,en.staticAssetWithUploadsPath)("dark"===r?"0f90e908025398bf24b7a986d6d31629f5e80233":"e590fc8927a503d1e7d403cc9b96b6aee7da7344"),alt:(0,b.t)("de_de_announcement.image_alt_text")})})}let rh=(0,z.r1)("has_tried_de_de");function rf(){let e=(0,o.wA)(),t=(0,u.md)(rh),r=(0,u.md)(Y.mp),a="loaded"===t.status&&"loaded"===r.status,{show:n,isShowing:s,complete:d}=(0,p.e)({overlay:x._1l,priority:f.N.SECONDARY_MODAL},[r,t]);return((0,l.useEffect)(()=>{(0,en.default)().user_data?.locale===rl.Locale.DE&&"loaded"===t.status&&!1===t.data&&e(es.b({has_tried_de_de:!0}))},[e,t]),(0,l.useEffect)(()=>{!a||(0,ro.getFeatureFlags)().i18n_de&&(0,ro.getFeatureFlags)().i18n_de_full_launch&&(0,en.default)().user_data?.locale!==rl.Locale.DE&&rm(r.data,t.data)&&n()},[e,n,a,t,r]),a&&(0,ro.getFeatureFlags)().i18n_de&&(0,ro.getFeatureFlags)().i18n_de_full_launch&&rm(r.data,t.data))?(0,i.jsx)(rp,{isShowing:s,onClose:d}):null}var rx=r(892655),rg=r(877550);let rb=(e,t)=>{let r=(0,en.default)()?.iso_code,a=(0,en.default)()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<Date.now()-864e5)&&!!("fr"===a||navigator.languages.some(e=>rc.FI.includes(e))||r&&rc.Q9.includes(r))};function rv(e){let t=(0,o.wA)(),r=(0,tk.DP)();return(0,i.jsx)(ru._l,{isShowing:e.isShowing,trackingContextName:"fr_fr_launch_announcement",onClose:e.onClose,title:(0,i.jsx)(i.Fragment,{children:(0,b.tx)("fr_fr_announcement.title")}),description:(0,b.tx)("fr_fr_announcement.description"),primaryCta:{label:(0,b.tx)("fr_fr_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.to)({type:r_.kA,data:{source:r_.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:v.c.UPDATE_LANGUAGE_SETTINGS},media:(0,i.jsx)(rd.oW,{width:332,height:404,src:(0,en.staticAssetWithUploadsPath)("dark"===r?"ce746ed0388befd7e209f4dcefa0dd30d46ea816":"00de2888337422748db3f69e4919f9f784ba7c0c"),alt:(0,b.t)("fr_fr_announcement.image_alt_text")})})}let ry=(0,z.r1)("has_tried_fr_fr");function rj(){let e=(0,o.wA)(),t=(0,u.md)(ry),r=(0,u.md)(Y.mp),a="loaded"===t.status&&"loaded"===r.status,{show:n,isShowing:s,complete:d}=(0,p.e)({overlay:x.ciq,priority:f.N.SECONDARY_MODAL},[r,t]);return((0,l.useEffect)(()=>{(0,en.default)().user_data?.locale===rl.Locale.FR&&"loaded"===t.status&&!1===t.data&&e(es.b({has_tried_fr_fr:!0}))},[e,t]),(0,l.useEffect)(()=>{!a||(0,ro.getFeatureFlags)().i18n_fr&&(0,ro.getFeatureFlags)().i18n_fr_full_launch&&(0,en.default)().user_data?.locale!==rl.Locale.FR&&rb(r.data,t.data)&&n()},[e,n,a,t,r]),a&&(0,ro.getFeatureFlags)().i18n_fr&&(0,ro.getFeatureFlags)().i18n_fr_full_launch&&rb(r.data,t.data))?(0,i.jsx)(rv,{isShowing:s,onClose:d}):null}var rw=r(320153),rC=r(617223),rT=r(657092),rk=r(570517),rE=r(458127),rI=r(396913),rA=r(438754),rN=r(828205),rS=r(242661);function rR(){let e=(0,u.md)(z.qG),t=(0,u.md)(Y.Qm),r=(0,u.md)(Y.zN),a=(0,tV.ol)(),n=(0,o.wA)(),i=(0,p.e)({overlay:x.Ult,priority:f.N.HIGH_PRIORITY_MODAL},[e,t,r]);return(0,c.h)(()=>{i.show({canShow:(e,t,r)=>{let n=!!a?.restrictions_list?.includes(C.P4.LOCKED),i=(0,rN.oM)(t,r,a?.student_team_state,n);return!(0,ed.mW)(e,"seen_edu_offboarding_modal")&&(i.showExpiringSoon||i.showExpired)},onShow:()=>{n((0,m.to)({type:rS.Z})),n(es.b({seen_edu_offboarding_modal:!0})),i.complete()}})}),null}var rO=r(898312),rD=r(901805),rF=r(614743);function rM(){let e=(0,p.e)({overlay:x.kmq,priority:f.N.HIGH_PRIORITY_MODAL}),t=(0,o.wA)();return(0,c.h)(()=>{let r=(0,h.QL)(rD.ND.key),a=(0,h.QL)(rD.pC.key);r===rD.ND.value?e.show({onShow:()=>{t(rO.Dw({isEduTeam:!0})),(0,h.EM)(rD.ND.key)}}):a===rD.pC.value&&e.show({onShow:()=>{t((0,m.to)({type:rF.q})),(0,h.EM)(rD.pC.key)}})}),null}let rP=(0,z.Fu)("seen_plan_spaces_launch_modal"),rL=(0,z.Fu)("seen_limited_spaces_onboarding"),rB=new Date("2024-10-30T20:00:00.000Z").getTime();function rU(){let e=(0,o.d4)(e=>e.plans),t=(0,u.md)(Y.mp),r=(0,u.md)(rP),a=(0,u.md)(rL),n=e.some(e=>e.plan_type===tI.O.TEAM&&e.is_guest),{show:s,isShowing:d,complete:c}=(0,p.e)({overlay:x.Sgd,priority:f.N.HIGH_PRIORITY_MODAL},[t,r,a]);return(l.useEffect(()=>{n&&s({canShow:(e,t,r)=>!!t&&!r&&e.getTime()<=rB})},[n,s]),e.length)?(0,i.jsx)(tL.rq,{arrowPosition:tN.F_.RIGHT_TITLE,description:(0,b.tx)("rcs.limited_spaces.external_projects"),disableHighlight:!0,emphasized:!0,isShowing:d,onClose:c,primaryCta:{label:(0,b.tx)("rcs.got_it"),type:"button",onClick:c,ctaTrackingDescriptor:v.c.GOT_IT},targetKey:tT.U,testId:"limited_plan_spaces_onboarding_test_id",title:(0,b.tx)("rcs.limited_spaces.find_shared_projects"),trackingContextName:"Limited Spaces Onboarding Overlay"}):null}var rH=r(274263);function rW(){let e=!!(0,ti.dq)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rs.p,{children:(0,i.jsx)(rA.$,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rH.A,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rM,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rR,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rk.NuxOnboardingOverlay,{entryPoint:rI.C5.FileBrowser})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(tq,{})}),(s.A.isIpad||!s.A.isMobileBrowser)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rs.p,{children:(0,i.jsx)(eZ,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rw.P,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rx.A,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rg.Ay,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rE.A,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rC.A,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rj,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rf,{})})]}),(0,i.jsxs)(rs.p,{children:[(0,i.jsx)(tM,{}),(0,i.jsx)(rU,{})]}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(tW,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(P,{})}),(0,i.jsxs)(rs.p,{children:[(0,i.jsx)(t4,{}),(0,i.jsx)(re,{})]}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(et,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)($,{})}),e&&(0,i.jsx)(rs.p,{children:(0,i.jsx)(tw,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(e7,{})}),(0,i.jsx)(rs.p,{featureFlag:"scrub_file_browser_search_results",children:(0,i.jsx)(rt.b0,{})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(rT.C,{source:"file_browser"})}),(0,i.jsx)(rs.p,{children:(0,i.jsx)(ri,{})})]})}},739002(e,t,r){r.d(t,{l:()=>a});let a="CREATE_FILES_ONBOARDING_KEY"},422205(e,t,r){let a;r.d(t,{U:()=>s});var n=r(765326),i=r(936652);function s(){return a??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("7360"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("5654"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("177"),r.e("5693"),r.e("9931"),r.e("5869"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,951206)).then(e=>e.FolderPermanentlyDeleteConfirmModal),(0,i.Ij)("FolderPermanentlyDeleteConfirmModal")))}},975756(e,t,r){let a;r.d(t,{V:()=>s});var n=r(765326),i=r(936652);function s(){return a??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([r.e("905"),r.e("7360"),r.e("1617"),r.e("826"),r.e("7205"),r.e("7840"),r.e("7606"),r.e("5830"),r.e("8916"),r.e("5639"),r.e("8701"),r.e("5654"),r.e("8783"),r.e("1904"),r.e("9387"),r.e("907"),r.e("177"),r.e("5693"),r.e("9931"),r.e("5869"),r.e("3416"),r.e("6467"),r.e("3582"),r.e("4395"),r.e("3278")]).then(r.bind(r,65305)).then(e=>e.FolderTrashConfirmModal),(0,i.Ij)("FolderTrashConfirmModal")))}},583888(e,t,r){r.d(t,{r:()=>u});var a=r(239976),n=r(105652);if(1464==r.j)var i=r(497817);if(1464==r.j)var s=r(15369);var l=r(850159),o=r(289886);if(1464==r.j)var d=r(328151);var c=r(100087);function u(e){let t=n.useRef(null),{toggle:r,showing:u,data:_}=(0,c.Di)();return(0,c.j_)().unwrapOr(!1)?(0,a.jsxs)("div",{className:o.s.ml4.$,children:[(0,a.jsx)(i.d,{ref:t,"aria-expanded":u,onClick:a=>{a.stopPropagation();let n=t.current?.getBoundingClientRect();r({data:{publishedResource:e.resource,targetRect:n}})},"aria-label":(0,l.t)("universal_insert.more_options"),"data-tooltip-type":d.Ib.TEXT,"data-tooltip":(0,l.t)("universal_insert.more_options"),children:(0,a.jsx)(s.J,{})}),u&&_&&(0,a.jsx)(c.ii,{dropdownData:_,isFromDropdownButton:!0})]}):null}},63138(e,t,r){r.d(t,{C:()=>T,y:()=>k});var a=r(239976),n=r(105652),i=r(645186);if(1464==r.j)var s=r(459457);var l=r(850159),o=r(843489);r(574988);var d=r(195784),c=r(865804),u=r(432348);if(1464==r.j)var _=r(224282);if(1464==r.j)var m=r(194757);var p=r(128491),h=r(38900),f=r(865780),x=r(279117);if(1464==r.j)var g=r(262900);var b=r(362354),v=r(942514),y=r(583888),j=r(100087),w=r(874208),C=r(251122);function T(){let e=(0,i.d4)(e=>e.publishedPlugins),t=(0,f.dq)(),r=(0,w.S)(e,t||void 0),n=(0,i.wA)();return((0,o.h)(()=>{n(p.Xt())}),t&&0!==r.length)?(0,a.jsx)(k,{plugins:r,renderPluginDropdownButton:!0}):(0,a.jsx)("div",{className:C.p,children:(0,l.tx)("org_view.private_plugins_will_appear_here")})}function k({plugins:e,renderPluginDropdownButton:t}){return(0,a.jsx)(c.QE.Consumer,{children:r=>(0,a.jsx)(E,{plugins:e,trackingContext:r.name,renderPluginDropdownButton:t})})}function E({plugins:e,trackingContext:t,renderPluginDropdownButton:r}){let s=(0,i.wA)(),l=(0,j.j_)(),o=(0,_.B)(),{showing:c,show:u,data:f}=(0,j.Di)();n.useEffect(()=>{s(p.Xt())},[s]);let v=n.useMemo(()=>e.map(e=>({plugin:e,version:(0,x.uF)(e)})),[e]),y=n.useCallback(({version:e})=>e.name??"",[]),w=n.useCallback(({plugin:e},r)=>{(0,d.Cu)({context:t,text:"Plugin Tile",pluginId:e.id}),o(e,r)},[o,t]),C=n.useCallback(e=>{if(1!==e.length)return;let t=e[0].plugin;s((0,h.to)({type:b.H,data:{plugin:t},showModalsBeneath:!0}))},[s]),T=n.useCallback((e,t,r)=>{1!==e.length||u({data:{publishedResource:e[0].plugin,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[u]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{items:v,getAriaLabel:y,viewType:g.XU.GRID,handleOpenItem:w,handleContextMenu:T,handleDeleteKey:l.unwrapOr(!1)?C:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:N.grid,renderCard:({ref:e,item:t,isSelected:n,role:i,onFocus:s,onClick:l,onBlur:o})=>(0,a.jsx)(I,{buttonRef:e,isSelected:n,plugin:t.plugin,cardRole:i,onFocus:s,onClick:l,onBlur:o,renderPluginDropdownButton:r})}}),c&&f&&(0,a.jsx)(j.ii,{dropdownData:f})]})}function I({plugin:e,buttonRef:t,cardRole:r,isSelected:i,renderPluginDropdownButton:s,onFocus:l,onClick:o,onBlur:d}){let[c,_]=n.useState(!1),m=n.useCallback(()=>{_(!0)},[]),p=n.useCallback(()=>{_(!1)},[]),h=(0,x.Ar)(e)?.name??"";return(0,a.jsx)("div",{onMouseEnter:m,onMouseLeave:p,children:(0,a.jsx)(u.R.Root,{ref:t,cardLabel:h,mainButtonLabel:h,cardRole:r,footer:(0,a.jsx)(A,{plugin:e,renderPluginDropdownButton:s,forceHover:c}),isSelected:i,onBlur:d,onClick:o,onFocus:l,children:(0,a.jsx)(v.Ce,{plugin:e,isPublishing:!1,showNewBadge:!1,isPublicOverride:!1})})})}function A({plugin:e,renderPluginDropdownButton:t,forceHover:r}){return(0,a.jsx)(v.Xg,{showInstallCount:!0,plugin:e,isPublicOverride:!1,forceHover:r,dropdown:t?(0,a.jsx)(s.HG,{...{className:"xjp7ctv"},children:(0,a.jsx)(y.r,{resource:e})}):void 0})}let N=1464==r.j?{grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}:null},100087(e,t,r){r.d(t,{Di:()=>k,ii:()=>E,j_:()=>T});var a=r(239976),n=r(105652),i=r(645186),s=r(850159),l=r(436174);if(1464==r.j)var o=r(367291);if(1464==r.j)var d=r(224282);var c=r(74241),u=r(904511),_=r(38900),m=r(762426),p=r(636773),h=r(865780),f=r(508295);if(1464==r.j)var x=r(487817);var g=r(331850);if(1464==r.j)var b=r(142599);var v=r(990639),y=r(349402),j=r(765496),w=r(362354),C=r(165617);function T(){let e=(0,f.TA)(),t=(0,h.sZ)(),r=(0,g.D6)("useCanAdminOrgQuery");return n.useMemo(()=>r.transform(r=>!!t&&!!e&&(0,g.A8)(r,x.Xn.ADMIN)),[r,t,e])}function k(){let e=n.useId();return(0,p.BK)(`ORG_ADMIN_RESOURCE_DROPDOWN_${e}`)}function E(e){let{publishedResource:t,targetRect:r}=e.dropdownData,n=(0,i.wA)(),p=(0,f.TA)(),h=T(),x=(0,o.s)(),g=(0,d.B)();if(!r)return null;let k=[y.KM.PERMISSIONS],E=[];e.isFromDropdownButton||(E.push({displayText:(0,s.t)("general.open"),callback:(e,r,a,n)=>{t.is_widget?x(t,n):g(t,n)}}),E.push({displayText:(0,s.t)("file_browser.open_in_new_tab"),callback:(e,r,a,n)=>{t.is_widget?l.Ay.redirect((0,j.YW)(t.id),"_blank"):l.Ay.redirect((0,j.ho)(t.id),"_blank")}}),E.push(b.w)),h.unwrapOr(!1)&&(((0,m.Ro)(t,p??"")||t.creator.id===p)&&(k.push(y.KM.PUBLISH),E.push({displayText:t.is_widget?(0,s.t)("community.plugins.edit_resource_details.widget"):(0,s.t)("community.plugins.edit_resource_details.plugin"),callback:(e,t,r,a)=>I(y.KM.PUBLISH,a)})),E.push({displayText:(0,s.t)("universal_insert.manage_permissions"),callback:(e,t,r,a)=>{I(y.KM.PERMISSIONS,a)}}),e.isFromDropdownButton&&E.push(b.w),E.push({displayText:(0,s.t)("community.resource.unpublish"),callback:(e,r,a,i)=>{i?.stopPropagation(),n((0,_.to)({type:w.H,data:{plugin:t},showModalsBeneath:!0}))}})),e.isFromDropdownButton||E.push(b.w,{displayText:(0,s.t)("file_browser.copy_link"),callback:(e,r,a,i)=>{t.is_widget?n(u.le({view:"communityHub",subView:"widget",widgetId:t.id})):n(u.le({view:"communityHub",subView:"plugin",publishedPluginId:t.id}))}});let I=(e,r)=>{r?.stopPropagation(),n((0,c.r)({publishedPluginId:t?.id,initialTab:e,entryPoint:v.k2.ADMIN,initialAllowedTabs:k}))};return(0,a.jsx)(C.j,{autofocusPrevOnDismount:!0,dispatch:n,hidePointWhenContentOffScreen:!0,items:E,lean:e.isFromDropdownButton?"left":"right",onSelectItem:(e,t)=>e.callback?.("",{},n,t),parentRect:r,rootAndSubmenuMaxWidth:190,rootAndSubmenuMinWidth:120,shouldUsePortal:!0,showPoint:!!e.isFromDropdownButton})}},136852(e,t,r){r.d(t,{x:()=>G,N:()=>q});var a=r(239976),n=r(105652),i=r(645186),s=r(850159);r(574988);var l=r(432348),o=r(367291),d=r(194757),c=r(128491),u=r(38900),_=r(865780),m=r(279117),p=r(262900),h=r(523924),f=r(567019),x=r(459457),g=r(859978),b=r(227031),v=r(824234),y=r(583888),j=r(181005),w=r(439036),C=r(3752),T=r(472277),k=r(840669),E=r(508295),I=r(357661),A=r(249020),N=r(269864),S=r(306575),R=r(900930),O=r(573682),D=r(367544);function F(e){let t=(0,i.wA)(),r=(0,E.iZ)(),{dropdownIsShown:s,toggleSwitchEditorDropdown:l,PluginTrySwitchEditorDropdown:o}=(0,N.WW)(e.resource,"left",e.viewContext),d=n.useRef(null),c=(0,I.xQ)(e.resource),_=(0,m.uF)(e.resource),p=_.manifest.editorType?.[0]??A.FW.FIGMA;return e.isDisabled?(0,a.jsx)(R.x8,{icon:D.A,metric:e.resource.unique_run_count}):(0,a.jsxs)("div",{onMouseLeave:()=>l(d,!1),children:[(0,a.jsx)("div",{ref:d,onMouseEnter:()=>l(d,!0),children:(0,a.jsx)(R.vE,{icon:D.A,hoverIcon:D.A,activeIcon:D.A,metric:e.resource.unique_run_count,classNameOverride:s?p===A.FW.FIGMA?O.Qe:O._y:void 0,onClick:a=>{if(a.preventDefault(),a.stopPropagation(),r){if(C.A.mobile)return void t((0,u.to)({type:S.x,data:{dispatch:t}}));l(d)}else{let r=(0,k.k)(e.resource);t(T.cx({isWidget:c,redirectPath:r}))}}})}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:O.MJ}),(0,a.jsx)(o,{})]})]})}var M=r(942514),P=r(441697),L=r(144735);function B({version:e,widget:t,lastViewedAtForNewBadge:r,forceHover:n}){let i=f.iv({placement:"bottom"}),l=(0,w.y1)({editorType:e.manifest.editorType});return(0,a.jsxs)(j.WM,{removeBorder:!0,children:[(0,a.jsx)("div",{...{0:{className:"x1y2wqyl xg01cxk x1o7uuvo x1euntei x10l6tqk xn0vg7t xpnmzw7"},1:{className:"x1y2wqyl x10l6tqk xn0vg7t xpnmzw7 x1hc1fzr"}}[0|!!(n||i.isOpen)],children:l?(0,a.jsxs)(x.HG,{...{className:"xjp7ctv"},children:[(0,a.jsx)(g.E,{...i.getTriggerProps(),...{className:"x12oqio5 xb3r6kr x5hs570"},"aria-label":(0,s.t)("community.detail_view.compatibility_tooltip_trigger"),"data-testid":l.testId,children:"single-editor"===l.type?(0,a.jsx)(l.Icon,{}):"multi-editor"===l.type?(0,a.jsx)(v.B,{svg:l.svg,useOriginalSrcFills_DEPRECATED:!0}):(0,h.xb)(l)}),(0,a.jsx)(f.mc,{manager:i,children:(0,a.jsx)(f.UC,{children:l.label})})]}):null}),!!(r&&Date.parse(t.created_at)>Date.parse(r))&&(0,a.jsx)(M.Q7,{}),(0,a.jsx)(P.z,{src:e.redirect_snapshot_url||e.redirect_icon_url,context:"community"})]})}let U=(0,b._d)(function({version:e,widget:t,viewContext:r}){let n=!!t.org_id,l=(0,i.d4)(e=>e.orgById),o="search"===(0,i.d4)(({selectedView:e})=>e).view,d=t.org_id&&l[t.org_id];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j.dY.MetadataContainer,{children:[n?(0,a.jsx)(j.dY.PublisherAvatar,{publishers:t.community_publishers?.accepted}):(0,a.jsx)(j.dY.PublisherAvatarWithDropdown,{publishers:t.community_publishers?.accepted}),(0,a.jsx)(j.dY.TextMetadataLayout,{primaryText:(0,a.jsx)("h2",{...{className:"xt0psk2"},children:e.name}),secondaryText:n?(0,a.jsx)(j.dY.MetadataAuthor,{publishers:t.community_publishers?.accepted}):(0,a.jsx)(j.dY.MetadataAuthorWithDropdown,{publishers:t.community_publishers?.accepted}),planIconEntity:o?d:null})]}),(0,a.jsx)(j.dY.ResourceActionContainer,{children:n?(0,a.jsx)(j.dY.ButtonWrapper,{children:(0,a.jsxs)("div",{className:"widget_card--privateWidget--yUNjV text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,a.jsx)(v.B,{className:"widget_card--lockIcon--1Kheg",svg:L.A,ariaHidden:!0}),(0,s.tx)("community.cards.private"),"OrgWidgetsView"===r&&(0,a.jsx)(x.HG,{...{className:"xjp7ctv"},children:(0,a.jsx)(y.r,{resource:t})})]})}):(0,a.jsx)(j.dY.ButtonWrapper,{children:(0,a.jsx)(F,{resource:t,viewContext:r})})})]})},"WidgetCardBottomRow");var H=r(362354),W=r(100087),z=r(874208),V=r(251122);function G(){let e=(0,i.wA)(),t=(0,_.dq)(),r=(0,i.d4)(e=>e.publishedWidgets);n.useEffect(()=>{e(c.gI())},[e]);let l=(0,z.S)(r,t||void 0);return t&&0!==l.length?(0,a.jsx)(q,{widgets:l}):(0,a.jsx)("div",{className:V.p,children:(0,s.tx)("org_view.private_widgets_will_appear_here")})}function q({widgets:e}){let t=(0,i.wA)(),r=(0,W.j_)();n.useEffect(()=>{t(c.gI())},[t]);let s=(0,o.s)(),{showing:l,show:_,data:h}=(0,W.Di)(),f=n.useMemo(()=>e.map(e=>({widget:e,version:(0,m.uF)(e)})),[e]),x=n.useCallback(({version:e})=>e.name??"",[]),g=n.useCallback(({widget:e},t)=>s(e,t),[s]),b=n.useCallback(e=>{if(1!==e.length)return;let r=e[0].widget;t((0,u.to)({type:H.H,data:{plugin:r},showModalsBeneath:!0}))},[t]),v=n.useCallback((e,t,r)=>{1!==e.length||_({data:{publishedResource:e[0].widget,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[_]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{items:f,getAriaLabel:x,viewType:p.XU.GRID,handleOpenItem:g,handleContextMenu:v,handleDeleteKey:r.unwrapOr(!1)?b:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:Y.grid,renderCard:({ref:e,isSelected:t,onClick:r,onFocus:n,onBlur:i,role:s,item:l})=>(0,a.jsx)(K,{buttonRef:e,isSelected:t,onClick:r,onFocus:n,onBlur:i,cardRole:s,widget:l.widget,version:l.version})}}),l&&h&&(0,a.jsx)(W.ii,{dropdownData:h})]})}function K({buttonRef:e,isSelected:t,widget:r,version:i,onClick:s,onFocus:o,onBlur:d,cardRole:c}){let[u,_]=n.useState(!1),m=u||t,p=n.useCallback(()=>{_(!0)},[]),h=n.useCallback(()=>{_(!1)},[]);return(0,a.jsx)("div",{onMouseEnter:p,onMouseLeave:h,children:(0,a.jsx)(l.R.Root,{ref:e,cardLabel:i.name,mainButtonLabel:i.name,cardRole:c,footer:(0,a.jsx)($,{widget:r,version:i}),isSelected:t,onBlur:d,onClick:s,onFocus:o,children:(0,a.jsx)(B,{widget:r,version:i,forceHover:m})})})}function $({widget:e,version:t}){return(0,a.jsx)("div",{...{className:"x78zum5 x1q0g3np xsdox4t x87ps6o"},children:(0,a.jsx)(U,{widget:e,version:t,viewContext:"OrgWidgetsView"})})}let Y={grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}},874208(e,t,r){r.d(t,{S:()=>i});var a=r(105652),n=r(279117);function i(e,t){return a.useMemo(()=>t?Object.values((0,n.Qt)((0,n.i8)(Object.values(e)),t)):[],[t,e])}},597849(e,t,r){r.d(t,{p:()=>b,u:()=>v});var a=r(239976),n=r(594293);if(1464==r.j)var i=r(962346);if(1464==r.j)var s=r(514558);if(1464==r.j)var l=r(683550);if(1464==r.j)var o=r(919906);if(1464==r.j)var d=r(282841);if(1464==r.j)var c=r(706122);if(1464==r.j)var u=r(709781);var _=r(850159);if(1464==r.j)var m=r(898312);var p=r(575425),h=r(308040);if(1464==r.j)var f=r(487817);if(1464==r.j)var x=r(96277);var g=r(341234);function b({editorType:e,isDisabled:t,isLoading:r,onClick:u,showRequestLabel:m,showRequestSentLabel:h}){let b={[f._Y.DESIGN]:{title:(0,_.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,a.jsx)(i.a,{})},[f._Y.WHITEBOARD]:{title:(0,_.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,a.jsx)(s.A,{})},[f._Y.SLIDES]:{title:(0,_.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,a.jsx)(l.o,{})},[f._Y.SITES]:{title:(0,_.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${p.oQ}-file-button`,icon:(0,a.jsx)(o.a,{}),badge:"BETA"===(0,x.z)()?g._.BETA:void 0},[f._Y.COOPER]:{title:(0,_.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:`new-${p.sq}-file-button`,icon:(0,a.jsx)(d.h,{}),badge:g._.BETA},[f._Y.FIGMAKE]:{title:(0,_.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:`new-${p.GJ}-file-button`,icon:(0,a.jsx)(c.s,{}),badge:void 0}}[e],v=(0,n.WI)([m?g._.REQUEST_UPGRADE:null,h?g._.REQUEST_SENT:null,b.badge]);return{key:e,isDisabled:t,isLoading:r,onClick:u,title:b.title,dataTestId:b.dataTestId,brand:b.brand,icon:b.icon,badges:v}}function v({isLoading:e,dispatch:t,targetFolderId:r,importToFolderData:n}){return{key:"import-file",isLoading:e,onClick:()=>{r&&t((0,m.gN)(r)),t((0,h.L)({importToFolderData:n}))},title:(0,_.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:(0,a.jsx)(u.R,{})}}},364810(e,t,r){r.d(t,{iM:()=>b,nz:()=>g,pP:()=>x});var a=r(239976),n=r(105652);if(1464==r.j)var i=r(147911);if(1464==r.j)var s=r(555235);if(1464==r.j)var l=r(181714);var o=r(850159);if(1464==r.j)var d=r(741542);r(574988);var c=r(260957),u=r(911289);if(1464==r.j)var _=r(739002);var m=r(875604),p=r(309295);let h=(0,c.o)(),f=(0,c.o)();function x(){h.emit()}function g(){f.emit()}function b({folderId:e,isContainerHovered:t}){let{getTriggerProps:r,manager:x}=i.b({config2025CuratorHacks:(0,d.getFeatureFlags)().fpl_menu_under_curator});(0,c.p)(h,n.useCallback(()=>x.setOpen(!0),[x])),(0,c.p)(f,n.useCallback(()=>x.setOpen(!1),[x]));let g=(0,u.Q)({newFileFrom:p.f6.FILE_BROWSER_SIDEBAR_DRAFTS,folderId:e,folderData:"DRAFTS_FOLDER",contextClicked:"file_browser_sidebar_drafts_new_file_created"});return(0,a.jsx)("div",{...{0:{},1:{className:"xg01cxk x1o7uuvo x1uxbtfk x4gyw5p x1euntei"}}[0|!t],children:(0,a.jsxs)(i.bL,{manager:x,children:[(0,a.jsx)(s.K,{"data-tooltip":(0,o.t)("sidebar.new_file"),"data-onboarding-key":"new-file-icon","aria-label":(0,o.t)("sidebar.new_file"),...r(),children:(0,a.jsx)(l.$,{})}),(0,a.jsx)(m.f,{menuItems:g,"data-onboarding-key":_.l})]})})}},578064(e,t,r){r.d(t,{U:()=>N,b:()=>S});var a=r(239976),n=r(105652),i=r(645186),s=r(557998);if(1464==r.j)var l=r(147911);if(1464==r.j)var o=r(859978);if(1464==r.j)var d=r(68278);if(1464==r.j)var c=r(145738);if(1464==r.j)var u=r(53620);var _=r(850159);if(1464==r.j)var m=r(741542);var p=r(194535);r(574988);var h=r(985820),f=r(687497),x=r(387012),g=r(317507),b=r(26197),v=r(714405),y=r(452336),j=r(304948),w=r(331850),C=r(236849),T=r(631028),k=r(125316),E=r(803925);if(1464==r.j)var I=r(969580);if(1464==r.j)var A=r(464207);let N="PLAN_SWITCHER_ONBOARDING_KEY";function S(){let e=(0,i.wA)(),t=(0,i.d4)(e=>(0,j.getPermissionsStateMemoized)(e)),r=(0,p.R)(e=>(0,v.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),s=(0,i.d4)(e=>e.user),l=(0,i.d4)(e=>e.plans),o=(0,w.S2)();if(n.useEffect(()=>{e((0,b.hr)({loadedPlans:l}))},[]),!r||!s)return null;let d=(0,v.HE)(t,r);return(0,a.jsx)(R,{teamName:d,currentWorkspace:r,currentUser:s,planResult:o})}function R({teamName:e,currentWorkspace:t,currentUser:r,planResult:n}){let p=(0,i.wA)(),{manager:g,getTriggerProps:b}=l.b({config2025CuratorHacks:!0}),{menuGroups:v,onChange:j,onCreateTeam:S}=(0,k.g)({currentUser:r}),R=v.flatMap(e=>e.items).find(e=>e.isSelected)?.planId,M={...g,getFloatingProps:e=>{let t=g.getFloatingProps(e);return{...t,style:{...t?.style,minWidth:T.g-8}}}};(0,E.T)(g);let P=(0,w.S2)(),{isDraftsToMovePlan:L,dtmMigrationCompleted:B,starterTeamCreated:U,dtmMigrationPlanName:H,dtmPlanParentId:W,dtmPlanParentType:z}=(0,y.V)((0,s.unwrap)(P.data)||void 0),V=!L&&B&&(0,m.getFeatureFlags)().dtm_deprecation_post_migration_onboarding;return(0,a.jsxs)(l.bL,{manager:M,children:[(0,a.jsxs)(O,{children:[(0,a.jsxs)(o.E,{...{0:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570"},1:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr x5hs570 x30nh5c"}}[0|!!g.isOpen],...b(),"aria-label":(0,_.t)("navbar.navbar.plan_label",{name:e}),children:[(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 xb3r6kr"},children:[(0,a.jsx)(h.n,{size:16,userId:t.userId,orgId:t.orgId,teamId:t.teamId,personalSpaceIcon:I.A,personalSpaceIcon1x:A.A}),(0,a.jsx)("div",{...{className:"x78zum5 x1q0g3np xet2fuk xb3r6kr"},children:(0,a.jsx)(f.E,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0,children:e})})]}),(0,a.jsx)(c.r,{className:"x2lah0s"})]}),"loaded"===n.status&&(0,a.jsx)("div",{...{className:"x78zum5 xozqiw3 xj3b58b x1yf7rl7"},children:(0,a.jsx)(x.A,{workspace:t,planTier:n.data.tier})})]}),(0,a.jsxs)(l.mc,{"data-onboarding-key":k.K,children:[(0,a.jsx)(d.z6,{title:null,onChange:e=>{j(e)},value:R,children:v.map(e=>(0,a.jsx)(l.YJ,{title:e.title?(0,a.jsx)(l.hE,{children:e.title}):null,children:e.items.map(e=>(0,a.jsxs)(d.CU,{value:e.planId,children:[(0,a.jsx)(l.Q$,{children:e.icon}),F(e.displayText),e.badge?(0,a.jsx)(l.Ov,{children:e.badge}):null]},e.planId))},e.key))}),S?(0,a.jsxs)(l.q7,{onClick:()=>S(),children:[(0,a.jsx)(l.Q$,{children:(0,a.jsx)(u.e,{})}),(0,_.t)("navbar.navbar.create_new")]}):null]}),V&&(0,a.jsx)(C.a,{entryPoint:"plan_nav",planName:H,targetKey:N,starterTeamCreated:U??!1,isOrg:"org"===z,navigateToPlan:()=>{W&&D(W,p,j)}})]})}function O({children:e}){return(0,a.jsx)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x163pfp","data-onboarding-key":N,children:e})}let D=(e,t,r)=>{e&&r(e,!0),t(g.b({switched_to_new_plan_from_dtm_deprecation_onboarding:!0}))},F=e=>(0,a.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft xenbecp",children:e})},125316(e,t,r){r.d(t,{K:()=>ee,g:()=>et});var a=r(239976),n=r(105652),i=r(645186),s=r(557998),l=r(706354),o=r(850159),d=r(741542),c=r(689637),u=r.n(c),_=r(838719),m=r(140979),p=r(710127),h=r(462198),f=r(985820),x=r(898312),g=r(387012),b=r(317507),v=r(572543),y=r(38900),j=r(473397),w=r(508295),C=r(128003),T=r(458983),k=r(865804),E=r(59762),I=r(705828),A=r(921424),N=r(824234),S=r(906130),R=r(512670),O=r(936652),D=r(336134),F=r(104727),M=r(406995),P=r(640818),L=r(982175),B=r(224542),U=r.n(B);function H(e){let{text:t,hoverText:r}=e,[i,s]=n.useState(!1),[l,o]=n.useState(!0),[d,c]=n.useState(null);return n.useEffect(()=>{if(d)return()=>clearTimeout(d)},[d]),(0,a.jsx)("div",{onMouseLeave:()=>{r&&(s(!1),d&&clearTimeout(d),c(setTimeout(()=>{o(!0)},200)))},className:"hover_tooltip--tooltipParent--c6Bwe",children:(0,a.jsxs)("span",{children:[!!r&&(0,a.jsxs)("span",{className:U()("hover_tooltip--tooltip--NzZAg",{"hover_tooltip--tooltipHoverStateVisible--75kyZ":i,"hover_tooltip--tooltipHoverStateHidden--gLQrw":l}),children:[r,(0,a.jsx)("div",{className:"hover_tooltip--tooltipHoverTriangle--pRUD8"})]}),(0,a.jsx)("span",{className:"hover_tooltip--tooltipMarker--skBoQ",children:"\u2713"}),(0,a.jsx)("span",{onMouseOver:()=>{r&&(o(!1),d&&clearTimeout(d),s(!1),setTimeout(()=>{s(!0)},20))},className:U()({"hover_tooltip--tooltipHoverable--w7r-1":!!r}),children:t})]})})}var W=r(754305),z=r(844060),V=r(170163);function G({user:e}){let t=(0,E.qe)(e.email)?null:(0,E.zN)(e.email)?.split(".")[0];return t=t?t.charAt(0).toUpperCase()+t.slice(1):(0,o.t)("team_creation_speed_bump.placeholder.team_name",{userName:e.name}),(0,a.jsxs)("div",{className:"team_creation_speed_bump--placeholderVisual--K8CdL",children:[(0,a.jsxs)("div",{className:"team_creation_speed_bump--placeholderHeader--fK-p5 text--fontPos11--rO47d text--_fontBase--VaHfk",children:[(0,a.jsx)(S.n,{team:{name:t}}),(0,a.jsx)("div",{"aria-hidden":!0,children:t})]}),(0,a.jsxs)("div",{className:"team_creation_speed_bump--placeholderContent--3cBBI",children:[(0,a.jsx)(q,{pxTextWidth:66}),(0,a.jsx)(q,{pxTextWidth:39}),(0,a.jsx)(q,{pxTextWidth:82})]})]})}function q({pxTextWidth:e}){return(0,a.jsxs)("div",{className:"team_creation_speed_bump--placeholderDirectory--s2tBO",children:[(0,a.jsx)("div",{className:"team_creation_speed_bump--placeholderLine--1oL2I"}),(0,a.jsx)(N.B,{svg:V.A}),(0,a.jsx)("div",{className:"team_creation_speed_bump--placeholderText--uWFiS",style:{width:`${e}px`}})]})}let K=(0,O.Ju)(function(e){let t=(0,i.wA)(),r=(0,n.useRef)(null),[s,l]=(0,n.useState)(550),d=D.h.useTrackingContext({trigger:P.b.TEAM_CREATION_SPEED_BUMP}),c=()=>{t(y.Lo())},[u,_]=(0,n.useState)(!1),m=()=>{u&&t(b.b({team_creation_speed_bump_dismissed:!0}))};return(0,n.useLayoutEffect)(()=>{let e=r?.current?.offsetWidth;e&&e>167&&l(550+(e-167))},[]),(0,a.jsx)(k.fu,{name:"Team creation speed bump",properties:d,children:(0,a.jsxs)(W.d_,{title:(0,o.t)("team_creation_speed_bump.title"),titleClassName:"team_creation_speed_bump--modalTitle--l4pup",className:"team_creation_speed_bump--modal--zAVka",size:s,children:[(0,a.jsx)(I.Jn,{className:"team_creation_speed_bump--closeButton--evzaN close_button--modalUpperRightCorner--yA7zL",onClick:()=>{m(),c()},innerText:"Close"}),(0,a.jsxs)("div",{className:"team_creation_speed_bump--modalContent--rVRwW text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,a.jsxs)("div",{className:"team_creation_speed_bump--modalText--21CjP",children:[(0,a.jsx)("p",{children:(0,o.tx)("team_creation_speed_bump.body.best_way_to_organize_team_projects")}),(0,a.jsx)("p",{className:"team_creation_speed_bump--modalBold--cIZTg",children:(0,o.t)("team_creation_speed_bump.body.upgrade_a_team")}),(0,a.jsx)(H,{text:(0,o.t)("team_creation_speed_bump.body.unlimited_files")}),(0,a.jsx)(H,{text:(0,o.t)("team_creation_speed_bump.body.viewers_and_commenters"),hoverText:(0,o.t)("team_creation_speed_bump.tooltip.viewers_and_commenters")}),(0,a.jsx)(H,{text:(0,o.t)("team_creation_speed_bump.body.set_permissions"),hoverText:(0,o.t)("team_creation_speed_bump.tooltip.set_permissions")})]}),(0,a.jsx)(G,{user:e.user})]}),(0,a.jsx)("div",{className:"team_creation_speed_bump--separator--ipzL3"}),(0,a.jsxs)("div",{className:"team_creation_speed_bump--footer--LC3Bp",children:[(0,a.jsx)(R.S,{checked:u,onChange:e=>_(e.currentTarget.checked),label:(0,o.t)("team_creation_speed_bump.footer.checkbox_text")}),(0,a.jsxs)("div",{className:"team_creation_speed_bump--footerButtons--MLGwD",children:[(0,a.jsx)("div",{ref:r,children:(0,a.jsxs)(A.tM,{className:"team_creation_speed_bump--upgradeButton--2ZjP0",onClick:()=>{m(),c(),c(),t((0,y.to)({type:z.DV,data:{resource:L.Pj.TEAM_CREATION_SPEED_BUMP,currentPlan:F.F.Plan.STARTER,upsellPlan:F.F.Plan.PRO,editorType:e.editorType,entryPoint:M.C.PLAN_CREATION_SPEED_BUMP}}))},innerText:(0,o.t)("team_creation_speed_bump.footer.upgrade_button.text"),children:[(0,o.t)("team_creation_speed_bump.footer.upgrade_button.text"),(0,a.jsx)("div",{className:"team_creation_speed_bump--proLabel--ODfxq text--fontPos9--SO7cN text--_fontBase--VaHfk",children:(0,o.t)("team_creation_speed_bump.footer.upgrade_button.label")})]})}),(0,a.jsx)(A.vd,{className:"team_creation_speed_bump--createTeamButton--99BL8",onClick:()=>{m(),t(y.Ce()),e.startTeamCreation()},children:(0,o.t)("team_creation_speed_bump.footer.create_team_button.text")})]})]})]})})},"TeamCreationSpeedBump");var $=r(714405),Y=r(644350),J=r(798413),X=r(304948),Q=r(695734),Z=r(153645);let ee="PLAN_SPACES_ONBOARDING_KEY";function et({currentUser:e}){let t,r,a,c,f,g,k,E=(0,i.wA)(),I=(0,i.d4)(e=>e.plans),A=(0,i.d4)(e=>(0,X.getPermissionsStateMemoized)(e)),N=(t=(0,w.TA)(),r=(0,i.wA)(),a=(0,C.f)("team_creation_speed_bump_dismissed"),c=(0,i.d4)(e=>e.teams),f=(0,i.d4)(e=>e.roles.byTeamId),g=(0,i.d4)(e=>e.user),k=()=>{t&&r(x.Dw({ignoreCurrentPlan:!0}))},t&&!a&&(0,T.Ct)(t,Object.values(c),f)&&!(0,j.e5)({userId:t,teams:Object.values(c),rolesByTeamId:f})?()=>r(y.to({type:K,data:{user:g,startTeamCreation:k,editorType:null}})):k),S=(0,m.bc)(Y.InN,{},{enabled:(0,d.getFeatureFlags)().dtm_deprecation_post_migration_onboarding}),R=(0,s.unwrap)(S.data?.personalDraftToPlanDraftLocation),O=(0,s.unwrap)(R?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,D=R?.status==="complete",F=(0,m.bc)((0,Y.sMZ)({name:"seen_dtm_post_migration_badge"})),M=!!F?.data?.currentUser?.userFlagByName,P=(0,J.nx)(e),L=P&&I.length>1,B=!P&&!(0,_.isGovEnvironment)();return{menuGroups:(0,n.useMemo)(()=>{let t=I.some(e=>e.is_guest),{full:r,limited:a}=function({userPlans:e,currentUser:t,hasRestrictedTeams:r}){let a=[],n=[];return e.forEach(e=>{r?e.plan_type===Z.O.ORG&&e.plan_id===t.external_restricted_org_id?a.push(e):n.push(e):e.is_guest?n.push(e):a.push(e)}),r&&0===a.length&&(0,h.$D)(l.FigmaTeam.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t.id}`),{extra:{...e}}),{full:a,limited:n}}({currentUser:e,userPlans:I,hasRestrictedTeams:L}),n=r.map(t=>er(t,e,A,{isDraftsToMovePlan:O&&R?.planParentId===t.plan_id,dtmMigrationCompleted:O&&D,starterTeamCreated:O,seenDtmPostMigrationBadge:M})).sort((e,t)=>e.displayText.localeCompare(t.displayText)),i=a.map(t=>er(t,e,A,{isDraftsToMovePlan:O&&R?.planParentId===t.plan_id,dtmMigrationCompleted:O&&D,starterTeamCreated:O,seenDtmPostMigrationBadge:M})).sort((e,t)=>e.displayText.localeCompare(t.displayText));return u()([n.length>0&&{key:"full",title:t?(0,o.t)("navbar.navbar.full_team_member_access"):void 0,items:n},i.length>0&&{key:"limited",title:L||!t?(0,o.t)("navbar.navbar.view_only_plans_disabled_by_admins"):(0,o.t)("navbar.navbar.limited_team_member_access"),items:i}])},[I,L,e,A,O,D,M,R?.planParentId]),onChange:(t,r)=>{let a,n=I.find(e=>e.plan_id===t);if(!n)return;let i=(0,p.O)(n,e.id),s=A.currentUserOrgId,l=A.currentTeamId,o=i.orgId,c=i.teamId,u=!!(0,_.initialOptions)().is_limited_team_plan,m=!!c&&n.is_guest,h=n.draft_folder_id;a=r&&(0,d.getFeatureFlags)().dtm_deprecation_post_migration_onboarding&&h?{view:"folder",folderId:h}:i.teamId&&!n.is_guest?{view:"team",teamId:i.teamId}:i.teamId&&n.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:i.orgId,orgViewTab:Q.X.HOME},D&&O&&R?.planParentId===n.plan_id&&E(b.b({seen_dtm_post_migration_badge:!0})),(0,v.u)("Plan Switcher Plan Clicked",e,{currentOrgId:s,currentTeamId:l,newOrgId:o,newTeamId:c,isCurrentPlanLimitedTeamPlan:u,isNextPlanLimitedTeamPlan:m}),E(x._l({workspace:i,view:a}))},onCreateTeam:B?N:null}}function er(e,t,r,n){let i=(0,p.O)(e,t.id),s=(0,$.HE)(r,i),l=(0,$.O_)(r,i),o=(0,d.getFeatureFlags)().dtm_deprecation_post_migration_onboarding&&n?.starterTeamCreated&&n?.isDraftsToMovePlan&&n?.dtmMigrationCompleted&&!n?.seenDtmPostMigrationBadge;return{planId:e.plan_id,isSelected:l,displayText:s,badge:(0,a.jsx)(g.A,{planTier:e.tier,workspace:i,isInDropdown:!0,isGuest:e.is_guest,shouldShowDtmPostMigrationBadge:o}),icon:(0,a.jsx)(f.n,{userId:i.userId,orgId:i.orgId,teamId:i.teamId,size:16})}}},803925(e,t,r){r.d(t,{O:()=>l,T:()=>o});let{open:a,close:n,useRegisterMenu:i}=(0,r(108370).K)(),s=1464==r.j?{open:a,close:n}:null;function l(){return s}let o=1464==r.j?i:null},387012(e,t,r){r.d(t,{A:()=>I});var a=r(239976),n=r(208650),i=r(850159),s=r(838719),l=r(487817);function o(e){let t=e.planTier===l.Ag.ENTERPRISE,r=(0,s.isGovEnvironment)()?(0,i.t)("navbar.navbar.government"):e.isGuest?(0,i.t)("navbar.navbar.guest"):t?(0,i.t)("navbar.navbar.enterprise"):(0,i.t)("navbar.navbar.org");return(0,a.jsx)(n.E,{variant:"defaultFilled",children:r})}var d=r(105652),c=r(645186);r(574988);var u=r(181645),_=r(214030),m=r(865804),p=r(140979),h=r(623620),f=r(289886),x=r(435326),g=r(898312),b=r(38900),v=r(336134),y=r(406995),j=r(644350),w=r(523454),C=r(304948),T=r(640818),k=r(856201);function E(e){let t=(0,c.wA)(),r=(0,c.d4)(e=>e.user),s=(0,c.d4)(e=>e.teams)[e.teamId],o=(0,c.d4)(e=>(0,C.getPermissionsStateMemoized)(e)),E=e.planTier===l.Ag.PRO,I=e.planTier===l.Ag.STUDENT,A=e.planTier===l.Ag.STARTER,N=(0,p.bc)((0,j.yQw)({teamId:e.teamId})),S=N.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=k.e6.EDITOR)).unwrapOr(!1),R=N.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=k.e6.ADMIN)).unwrapOr(!1),O=(0,c.d4)(e=>e.plans),D=(0,c.d4)(e=>e.modalShown?.type===x.y),F=O.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type),M=!!F?.is_guest,[P,L]=(0,d.useState)(!1),B=(0,d.useRef)(void 0);if(!r||!s)return null;let U=e=>{t((0,b.to)({type:x.V,data:{teamId:s.id,entrypoint:e}}))};if(M&&e.isInDropdown)return(0,a.jsx)(a.Fragment,{});if(I){if(e.isInDropdown)return(0,a.jsx)(n.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.edu")})}else if((0,w.oc)(s.id,o)){if(s.student_team_at)return null;let t=(0,a.jsx)(n.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.locked")});return e.isInDropdown?t:S?(0,a.jsx)(m.fu,{name:h._Y.LOCKED,properties:{userId:r.id,teamId:s.id,trackingDescriptor:_.c.LOCKED},children:(0,a.jsx)(m.$z,{"aria-label":(0,i.t)("navbar.navbar.locked_label",{teamName:s.name}),"aria-expanded":D,onClick:()=>U(y.C.SIDEBAR_LOCKED_BADGE),...{className:"xctca69"},children:t})}):t}else if(E)if(e.isInDropdown)return(0,a.jsx)(n.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro")});else{let e=(0,a.jsx)(h.Ex,{size:h.vj.LARGE,color:h.zE.DEFAULT,text:(0,i.t)("navbar.navbar.professional"),...{className:"x1fgql6j xj3b58b x1yf7rl7 xyk4uir xdkpnqj xuxw1ft x78zum5"}});return R?(0,a.jsx)(m.fu,{name:h._Y.PROFESSIONAL,properties:{userId:r.id,teamId:s.id,trackingDescriptor:_.c.PROFESSIONAL},children:(0,a.jsx)(m.$z,{"aria-label":(0,i.t)("navbar.navbar.professional_label",{teamName:s.name}),"aria-expanded":D,onClick:()=>U(y.C.SIDEBAR_PROFESSIONAL_BADGE),...{className:"xctca69"},children:e})}):e}else if(A){let l=(0,a.jsx)(n.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.free")});if(e.isInDropdown)return l;if(S){let e={monetization_surface:v.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:T.b.STARTER_TEAM_BADGE};return(0,a.jsx)("button",{"aria-label":(0,i.t)("navbar.navbar.free_label",{teamName:s.name}),"aria-expanded":D,onClick:a=>{a.stopPropagation(),t(g.dm(s.id)),U(y.C.SIDEBAR_TEAM_FREE_BADGE),(0,u.sx)("Starter Team Badge Clicked",{userId:r.id,teamId:s.id,...e})},onMouseEnter:()=>{P||(B.current=setTimeout(()=>{(0,u.sx)("Starter Team Badge Viewed",{userId:r.id,teamId:s.id,...e}),L(!0)},1e3))},onMouseLeave:()=>{clearTimeout(B.current)},className:f.s.bgTransparent.$,...{className:"xctca69"},children:(0,a.jsx)(h.Ex,{size:h.vj.LARGE,color:h.zE.DEFAULT,text:(0,i.t)("navbar.navbar.free"),className:`${f.s.noWrap.flex.$} plan_switcher_team_badges--freeBadgeHover--Y8BVx`})})}}return null}function I({workspace:e,isInDropdown:t,planTier:r,isGuest:s,shouldShowDtmPostMigrationBadge:l}){if(l)return(0,a.jsx)(n.E,{variant:"brandFilled",children:(0,i.t)("file_browser.drafts_to_move.new")});if(e.orgId){if(t)return(0,a.jsx)(o,{orgId:e.orgId,planTier:r,isGuest:!!s})}else if(e.teamId)return(0,a.jsx)(E,{teamId:e.teamId,isInDropdown:t,planTier:r});return null}},674470(e,t,r){r.d(t,{P:()=>d});var a=r(239976),n=r(105652),i=r(459457),s=r(484209),l=r(574988),o=r(432348);let d=n.forwardRef(function({title:e,subtitle:t,cardLabel:r,topRightContent:n,iconImage:d,backgroundColor:u,isSelected:_,onClick:m,onFocus:p,onBlur:h,cardRole:f,draggable:x,ariaCurrent:g,isHoverContentVisibleOverride:b},v){return(0,a.jsx)(o.R.Root,{ref:v,ariaCurrent:g,cardLabel:r,cardRole:f,draggable:x,isHoverContentVisibleOverride:b,isSelected:!!_,onBlur:h,onClick:m,onFocus:p,children:(0,a.jsxs)("div",{...{className:"x1n2onr6"},children:[n&&(0,a.jsx)(i.HG,{children:(0,a.jsx)("span",{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:n})}),(0,a.jsxs)("div",{...l.xk(c.content,c.contentWithBackgroundColor(u??s.Tj.bg)),children:[(0,a.jsx)("div",{className:"x78zum5 xh8yej3 x1qughib xb3r6kr x5yr21d",children:d}),(0,a.jsxs)("div",{...{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr"},children:[(0,a.jsx)(o.R.Title,{children:e}),(0,a.jsx)(o.R.Subtitle,{children:t})]})]})]})})}),c={content:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",kmVPX3:"x1dipnxa",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kOIVth:"x1excjyp",khm7nJ:null,k1C7PZ:null,$$css:!0},contentWithBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}]}},336609(e,t,r){r.d(t,{g:()=>n});var a,n,i=r(239976),s=r(850159),l=r(3752),o=r(262900),d=r(942514);(a=n||(n={})).SearchResult=e=>a.renderSearchResult(e.searchResult,o.XU.LIST),(a.SortKeys||(a.SortKeys={})).NAME="name",a.viewBarConfig={viewId:"search-public_profiles",sortKeys:["name"],sortKeyDescriptions:{[o.XU.GRID]:{name:(0,s.tx)("search.sort_option.name")},[o.XU.LIST]:{name:(0,s.tx)("search.sort_option.name")}},defaultOptions:{viewMode:o.XU.LIST,sortMode:{sortKey:"name",sortDesc:!1}},includeSortDirection:e=>!1,settingsSpacer:l.A.tablet||l.A.mobile},a.renderSearchResult=function(e,t){return(0,i.jsx)(d.TL,{publicProfile:e.model,resources:e.resources,notTabletSidebarOptimized:!0},e.model.id)},a.getValidOptions=function(){return a.viewBarConfig.defaultOptions}},526267(e,t,r){let a;r.d(t,{g:()=>e3,_:()=>e9});var n,i=r(239976),s=r(105652),l=r(645186),o=r(523924),d=r(859978),c=r(850159),u=r(140979),_=r(559055),m=r(585255),p=r(824234),h=r(928397),f=r(644350),x=r(140390),g=r(262900),b=r(784195),v=r(47550),y=r(741542),j=r(3752),w=r(181645),C=r(838719),T=r(242562),k=r(354504),E=r(571959),I=r(458983),A=r(613549),N=r(138107),S=r(903760),R=r(336609),O=r(706354),D=r(757253),F=r(158514),M=r(490753),P=r(462198),L=r(883652),B=r(888214);function U(e){return e.showSettingsIcon?(0,i.jsx)(p.B,{svg:B.A,className:"settings_button--settings--ozW06",onClick:e.onFileSettingsClick||T.j}):null}var H=r(316656),W=r(821673),z=r(402713),V=r(773201),G=r(694151);function q(e){let{href:t,onClickWithDefaults:r,children:a}=e;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(D._,{onClick:r,href:t,children:a}),!t&&a]})}let K=s.memo(function(e){let{searchResult:t}=e,r=t.files_last_touched_at,a=t.model,n=t.model.created_at,{onClick:l,onJoin:o,onLeave:d}=(0,H.A)(a.id,e.canUserViewTeam),c=(0,V._6)(),u=s.useId(),_=(0,M.Gc)(t=>{t.preventDefault(),(0,z._)("file_browser_team_click",e.searchResult.model,{selectedView:"recentsAndSharing"===c.view?c.tab:c.view,viewMode:"list"}),l()});return(0,i.jsx)(q,{onClickWithDefaults:_,href:e.canUserViewTeam?`/files/team/${a.id}`:void 0,children:(0,i.jsxs)("div",{className:"teams--row--9hD7Q teams--rowTemplate--cfcHq search_list_row--row--qb8Am text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,i.jsx)("div",{className:e.canUserViewTeam?"teams--name--ucfma search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK":"teams--nameDisabled--QC366 search_list_row--nameDisabled--Jek4j search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK",id:u,children:(0,i.jsx)(G.rE,{entity:a,size:10,hideFallbackInitial:!0,onClick:void 0},a.id)}),(0,i.jsx)("div",{className:"teams--touchedAt--scYZu",children:r?(0,i.jsx)(L.h1,{date:r}):"\u2013"}),(0,i.jsx)("div",{className:"teams--createdAt--4IdXi",children:(0,i.jsx)(L.h1,{date:n})}),(0,i.jsx)("div",{className:"teams--memberCount--cUzuR",children:t.member_count}),(0,i.jsx)("div",{className:"teams--join--TeGYZ",children:(0,i.jsx)(W.W,{titleId:u,team:a,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:_,onJoin:o,onLeave:d,spinnerClassName:"teams--joinSpinner--Mrqiu",isCardActive:!1})}),(0,i.jsx)(U,{...e.settingsButtonProps})]})})}),$=(a={[g.XU.GRID]:function(e){return s.useEffect(()=>{(0,P.$D)(O.FigmaTeam.SEARCH,Error("Unexpectedly received grid view mode in teams SearchResult"))},[]),null},[g.XU.LIST]:function(e){let t=e.searchResult.model,r=(0,u.bc)(f.y_L,{teamId:t.id}),a=!1,n=!1;if("loaded"===r.status&&r.data?.team){let e=(0,F.ci)(r.data.team);a=e.canView,n=e.isInTeam}return(0,i.jsx)(K,{...e,isLoading:"loaded"!==r.status,canUserViewTeam:a,isCurrentUserInTeam:n})}},function(e){let t=a[e.viewMode];return(0,i.jsx)(t,{...e})});var Y=r(865804),J=r(582036),X=r(198788),Q=r(620228),Z=r(30223),ee=r(738109),et=r(363214),er=r(643300),ea=r(121267),en=r(19981),ei=r(177025),es=r(876299),el=r(927243),eo=r(832763),ed=r(735594),ec=r(113641),eu=r(686870);let e_={showInFolder:!0,open:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,createBranch:!0,moveFile:!0};function em(e){let t,r,a,n=(0,l.wA)(),d=(0,l.d4)(e=>e.search.parameters.sortState),c=(0,Z.db)(),{Sprig:u}=(0,X.A)(),[m,p]=s.useState(null);(0,J.Cm)(m??[]);let{showing:f,show:b,data:v}=(0,er.L)(),j=(0,ee.v)(),w=s.useCallback((t,r,a)=>{t.type===eo.nb.FILE&&(n(el.yJ({file:ed.F.toSinatra(t.file)})),c(a,"key"in r&&"Enter"===r.key||0===r.detail?_.vj.Query.ClickAction.ENTER:_.vj.Query.ClickAction.CLICK,e.results.find(e=>e.model.key===t.file.key))),(0,y.getFeatureFlags)().file_browser_sentiment_survey&&u("setAttribute","fb_file_opened",!0),j(t,r)},[n,e.results,c,u,j]),C=s.useCallback(e=>{let t=(e=>{switch(e){case g.C0.NAME:return x.Lk.NAME;case g.C0.CREATED_AT:return x.Lk.CREATED_AT;case g.C0.TOUCHED_AT:return x.Lk.TOUCHED_AT;case g.C0.SEARCH_RELEVANCE:return x.Lk.RELEVANCY;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),x.Lk.NAME}})(e);if(!t)return;let r={...d,[x.uH.FILES]:{sortKey:t,sortDesc:d.files.sortKey!==t||!d.files.sortDesc}};n(h.qv({sortState:r}))},[n,d]),T=s.useMemo(()=>e.results.map(({model:e})=>(0,eo.fA)(e)),[e.results]),[k,E]=s.useState([]),I=(0,et.p)(T,k),A=(0,Q.v)({selectedTiles:I}),N=s.useCallback((e,t,r)=>{b({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[b]),S=(0,ee.v)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(en.d,{checksForViewOnlyLabels:e.checksForViewOnlyLabels,doNotFocusOnLoad:!0,handleDeleteKey:A,handleOpenDropdown:N,handleOpenTile:w,interactiveThumbnailsEnabled:!!(0,y.getFeatureFlags)().scrub_file_browser_search_results,items:T,listViewColumnsConfig:(0,ei.X_)(e.checksForViewOnlyLabels),selectedTiles:I,setSelectedTiles:E,sortBy:C,sortConfig:{key:(e=>{switch(e){case x.Lk.NAME:return g.C0.NAME;case x.Lk.CREATED_AT:return g.C0.CREATED_AT;case x.Lk.TOUCHED_AT:return g.C0.TOUCHED_AT;case x.Lk.RELEVANCY:return g.C0.SEARCH_RELEVANCE}})(d.files.sortKey),dir:d.files.sortDesc?g.ue.DESC:g.ue.ASC},updateVisibleItems:p,viewType:e.viewMode}),(0,i.jsx)(eu.p,{featureFlag:"scrub_file_browser_search_results",children:(0,i.jsx)(es.b0,{})}),(t=v?.tile??null,r=t?.type===eo.nb.FILE?T.findIndex(e=>e.file.key===t?.file.key):void 0,a=()=>{if(t&&void 0!==r){if(t.type===eo.nb.FILE){let a=e.results.find(e=>e.model.key===t.file.key);c(r,_.vj.Query.ClickAction.CONTEXT_CLICK,a)}(0,y.getFeatureFlags)().file_browser_sentiment_survey&&u("setAttribute","fb_file_opened",!0)}},(0,i.jsx)(Y.fu,{name:ec.e0.TILES_VIEW_DROP_DOWN,enabled:f,properties:{tileType:t?.type,tileFileId:t?.type===eo.nb.FILE?t?.file.key:void 0},children:(0,i.jsx)(ea.i,{tileActions:e_,tile:t,selectedTiles:I,openTile:e=>{t&&(S(t,e),a())},dropdownVisible:f,trackSearchFn:a})}))]})}var ep=r(63138);function eh(e){let t=(0,l.d4)(e=>e.publishedPlugins),r=s.useMemo(()=>e.results.map(e=>t[e.model.id]??e.model),[e.results,t]);return(0,i.jsx)(ep.y,{plugins:r})}var ef=r(916290),ex=r(107783),eg=r(591861),eb=r(971703),ev=r(590281);function ey(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.search.parameters.sortState),a=(0,l.d4)(e=>(0,ex.H)(e.dropdownShown)),n=e=>{let a=(e=>{switch(e){case ev.Dq.NAME:return x.mp.NAME;case ev.Dq.CREATED_AT:return x.mp.CREATED_AT;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),x.mp.NAME}})(e.sortKey);if(!a)return;let n={...r,[x.uH.PROJECTS]:{sortKey:a,sortDesc:r.projects.sortKey!==a||!r.projects.sortDesc}};t(h.qv({sortState:n}))},d=e.results.map(e=>({...e.model,files_last_touched_at:e.files_last_touched_at})),c=(0,Z.hA)(),u=s.useCallback((t,r)=>{let a=r?"key"in r&&"Enter"===r.key?_.vj.Query.ClickAction.ENTER:_.vj.Query.ClickAction.CLICK:_.vj.Query.ClickAction.CONTEXT_CLICK,n=e.results.find(e=>e.model.id===t);c(d.findIndex(e=>e.id===t),a,n)},[d,e.results,c]),m=s.useCallback(()=>{a&&u(a.id,null)},[a,u]);return(0,i.jsx)(b.kq.Consumer,{children:t=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eg.m,{onOpenFolder:(0,y.getFeatureFlags)().merge_project_context_menus?u:ef.lQ,folderList:d,onContextMenuOverride:e.viewMode===g.XU.GRID||(0,y.getFeatureFlags)().merge_project_context_menus?void 0:(r,a,n)=>{t.onContextMenuClick({data:e.results[n],index:n},a)},currentSortOverride:{field:(e=>{switch(e){case x.mp.NAME:return ev.Dq.NAME;case x.mp.CREATED_AT:return ev.Dq.CREATED_AT;case x.mp.RELEVANCY:return ev.Dq.RELEVANCY;default:return(0,o.d_)("Should not try to sort by any other key in search list view"),ev.Dq.NAME}})(r.projects.sortKey),isDescending:r.projects.sortDesc},onChangeSortOptions:n,checksForViewOnlyLabels:e.checksForViewOnlyLabels,viewType:e.viewMode}),a&&(0,i.jsx)(eb.p,{folder:a,shouldHideShareOption:!1,trackSearchFolder:m})]})})}var ej=r(807945);function ew(e){let t=s.useMemo(()=>e.results.map(e=>({...e.model,team_last_touched_at:e.files_last_touched_at,member_count:e.member_count})),[e.results]),r=(0,Z.aL)(),a=s.useCallback((a,n)=>{let i=n?0===n.detail?_.vj.Query.ClickAction.ENTER:_.vj.Query.ClickAction.CLICK:_.vj.Query.ClickAction.CONTEXT_CLICK,s=e.results.find(e=>e.model.id===a);r(t.findIndex(e=>e.id===a),i,s)},[e.results,t,r]);return(0,i.jsx)(ej.w,{teams:t,viewType:e.viewType,trackSearchClick:a})}var eC=r(574988),eT=r(224542),ek=r.n(eT),eE=r(289886),eI=r(412427),eA=r(275262),eN=r(640017),eS=r(194757),eR=r(69806),eO=((n=eO||{}).NAME="name",n.EMAIL="email",n),eD=r(436174),eF=r(848594),eM=r(904511),eP=r(636773),eL=r(142599),eB=r(165617);function eU(e){let{user:t,targetRect:r}=e.dropdownData,a=(0,l.wA)(),n=(0,eA.y)(),s=(0,eF.t)(t,t.org_id);if(!r)return null;let o=[];return o.push({displayText:(0,c.t)("general.open"),callback:(e,r,a,i)=>n(t,i)}),o.push({displayText:(0,c.t)("file_browser.open_in_new_tab"),callback:(e,t,r,a)=>eD.Ay.redirect(`${location.origin}`+s,"_blank")}),o.push(eL.w),o.push({displayText:(0,c.t)("file_browser.copy_link"),callback:()=>{a(eM.S({url:`${location.origin}`+s}))}}),(0,i.jsx)(eB.j,{dispatch:a,parentRect:r,rootAndSubmenuMinWidth:120,rootAndSubmenuMaxWidth:190,items:o,onSelectItem:(e,t)=>e.callback?.("",{},a,t),shouldUsePortal:!0,showPoint:!1})}let eH={field:eO.NAME,renderHeaderCell:()=>(0,c.t)("file_browser.user_list_view.header_name_column"),renderStaticRowCell:e=>(0,i.jsx)("div",{className:ek()("search_results_users_items_view--listName--gjBk- search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK",eC.Ay.classNames(eV.rowPadding)),children:(0,i.jsx)(G.az,{entity:e,size:24},e.id)})},eW={field:eO.EMAIL,renderHeaderCell:()=>(0,c.t)("file_browser.user_list_view.header_email_column"),renderStaticRowCell:e=>(0,i.jsx)(eN.B,{truncate:!0,children:e.email})};function ez(e){let t,r,a,n=s.useMemo(()=>e.results.map(e=>({...e.model,last_active_at:e.last_active_at})),[e.results]),{currentSort:d,sortBy:u}=(t=(0,l.wA)(),{currentSort:{field:(e=>{switch(e){case x.a7.NAME:return"name";case x.a7.EMAIL:return"email";default:return(0,o.KF)(!0,"Should not try to sort by any other key in search users list view"),"name"}})((r=(0,l.d4)(e=>e.search.parameters.sortState)).users.sortKey),isDescending:r.users.sortDesc},sortBy:e=>{let a=(e=>{switch(e){case"name":return x.a7.NAME;case"email":return x.a7.EMAIL;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),x.a7.NAME}})(e);if(!a)return;let n={...r,[x.uH.USERS]:{sortKey:a,sortDesc:r.users.sortKey!==a||!r.users.sortDesc}};t(h.qv({sortState:n}))}}),_=j.A.mobile||j.A.tablet,m=(0,l.d4)(e=>e.orgById),p=(0,eA.y)(),{showing:f,show:g,data:b}=(a=s.useId(),(0,eP.BK)(`USER_DROPDOWN_${a}`)),v=s.useCallback((e,t,r)=>{1!==e.length||g({data:{user:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[g]),y=s.useCallback(e=>{let t=e.org_id&&m[e.org_id];return(0,i.jsxs)("div",{className:"search_results_users_items_view--tileContainer--bZjzN",children:[(0,i.jsx)("div",{className:ek()(eE.s.flex.justifyEnd.pt12.pr12.minW32.minH32.$,"search_results_users_items_view--settingsButton--siOWu"),children:(0,i.jsx)(U,{showSettingsIcon:_})}),(0,i.jsxs)("div",{className:ek()(eE.s.flex.flexColumn.cursorDefault.selectNone.itemsCenter.$,"search_results_users_items_view--tileContent--667Ir"),children:[(0,i.jsx)(eI.H8,{user:e,size:eI.Pf.XLARGE}),(0,i.jsx)("div",{className:ek()(eE.s.mt16.font13.$,"search_results_users_items_view--tileName--G4eSg search_results_users_items_view--gridEllipsis--BDT9b ellipsis--ellipsis--70pHK"),children:e.name||e.handle}),(0,i.jsx)("div",{className:ek()(eE.s.minH16.$,"search_results_users_items_view--email--qecki search_results_users_items_view--gridEllipsis--BDT9b ellipsis--ellipsis--70pHK"),children:e.email}),(0,i.jsxs)("div",{className:ek()(eE.s.h36.py36.$,"search_results_users_items_view--lastActiveAt--2MHvs"),children:[t&&(0,i.jsxs)("div",{className:eE.s.flex.flexRow.itemsCenter.justifyCenter.mb4.$,children:[(0,i.jsx)(eR.H,{entityId:t.id,entityName:t.name,imgUrl:t.img_url,hideTooltip:!0}),t.name]}),e.last_active_at?(0,c.tx)("search.user_view.last_active",{relativeTimeString:(0,i.jsx)(L.h1,{date:e.last_active_at})}):(0,c.tx)("search.user_view.not_active_yet")]})]})]})},[m,_]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eS.A,{getAriaLabel:e=>e.handle,gridViewProps:{containerStyle:eV.gridPadding,tileBorderRadius:4,renderTile:y},handleContextMenu:v,handleOpenItem:p,isDraggable:!1,items:n,listViewProps:{columns:[eH,eW],currentSort:d,handleSortBy:u},multiselectDisabled:!0,updateRenderedItems:ef.lQ,viewType:e.viewMode}),f&&b&&(0,i.jsx)(eU,{dropdownData:b})]})}let eV={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0},rowPadding:{kLKAdn:"x1gskr33",kGO01o:"x1ihwiht",$$css:!0}};var eG=r(136852);function eq(e){let t=s.useMemo(()=>e.results.map(e=>({...e.model})),[e.results]);return(0,i.jsx)(eG.N,{widgets:t})}function eK(e){s.useEffect(()=>{w.az.trackDefinedEvent("search_experience.dead_code",{userId:(0,C.default)().user_data?.id,codeLocation:`SearchResult - type: ${e.searchResult.search_model_type} ${e.viewMode}`})},[e.searchResult.search_model_type,e.viewMode]);let t={showSettingsIcon:!1};switch((j.A.mobile||j.A.tablet)&&(t={showSettingsIcon:!0,onFileSettingsClick:T.j}),e.searchResult.search_model_type){case x.uH.TEAMS:return(0,i.jsx)($,{searchResult:e.searchResult,viewMode:e.viewMode,setSelectedSearchResultId:e.setSelectedSearchResultId,selectedSearchResultId:e.selectedSearchResultId,settingsButtonProps:t});case x.uH.HUB_FILES:return(0,i.jsx)(S.q0,{searchResult:e.searchResult});case x.uH.PUBLIC_PROFILES:return(0,i.jsx)(R.g.SearchResult,{searchResult:e.searchResult,viewMode:e.viewMode});default:return(0,v.assertNever)(e.searchResult),null}}function e$(e){let[t,r]=s.useState(void 0),a=(0,I.cD)(),n=(0,N.vt)(a),o=(0,A.jn)(),d=s.useMemo(()=>e.searchModelType===x.uH.TEAMS?e.searchResults.map(e=>({teamId:e.model.id})):[],[e.searchModelType,e.searchResults]),c=(0,u.p)(f.H5I,d,{enabled:e.searchModelType===x.uH.TEAMS}),_=(0,l.wA)();s.useEffect(()=>{if(e.searchModelType===x.uH.TEAMS){let t={};c.forEach(e=>{t[e.args.teamId]=e.result.data?.team.status==="loaded"&&!!e.result.data.team.data?.isOrphaned});let r=e.searchResults.map(e=>{let r=e.model;return{...r,orphaned:t[r.id]}});_(E.hZ({teams:r}))}},[_,e.searchResults,c,e.searchModelType]);let m=a?{teamId:a,isLockedTeam:n||o}:void 0;switch(e.searchModelType){case x.uH.FILES:return(0,i.jsx)(em,{results:e.searchResults,viewMode:e.viewMode,checksForViewOnlyLabels:m});case x.uH.PROJECTS:return(0,i.jsx)(ey,{results:e.searchResults,checksForViewOnlyLabels:m,viewMode:e.viewMode});case x.uH.PUBLIC_PLUGINS:case x.uH.PRIVATE_PLUGINS:return(0,i.jsx)(eh,{results:e.searchResults});case x.uH.PUBLIC_WIDGETS:case x.uH.PRIVATE_WIDGETS:return(0,i.jsx)(eq,{results:e.searchResults});default:if((e.viewMode===g.XU.GRID||(0,y.getFeatureFlags)().teams_list_view_search)&&e.searchModelType===x.uH.TEAMS)return(0,i.jsx)(ew,{results:e.searchResults,viewType:e.viewMode});if(e.searchModelType===x.uH.USERS)return(0,i.jsx)(ez,{results:e.searchResults,viewMode:e.viewMode});return(0,i.jsx)(i.Fragment,{children:e.searchResults.map((a,n)=>{let s="key"in a.model?a.model.key:a.model.id;return(0,i.jsx)(k.G,{category:e.searchModelType,searchResult:a,index:n,planFilter:e.planFilter,children:(0,i.jsx)(b.ro,{data:a,index:n,children:(0,i.jsx)(eK,{searchResult:a,viewMode:e.viewMode,selectedSearchResultId:t,setSelectedSearchResultId:r,checksForViewOnlyLabels:m},s)})},s)})})}}var eY=r(46714);let eJ="search_results_view--emptyStateStrongText--Pypb2";var eX=r(534223),eQ=r(525793),eZ=r(312620),e0=r(378683),e1=r(851179);let e4={[x.uH.HUB_FILES]:eQ.A,[x.uH.PUBLIC_PLUGINS]:eZ.A,[x.uH.PRIVATE_PLUGINS]:null,[x.uH.PUBLIC_PROFILES]:eX.A,[x.uH.FILES]:null,[x.uH.PROJECTS]:null,[x.uH.TEAMS]:null,[x.uH.USERS]:null,[x.uH.PUBLIC_WIDGETS]:e0.A,[x.uH.PRIVATE_WIDGETS]:null},e5={[x.uH.PUBLIC_PROFILES]:"search_results_view--profilesList--Yi03k"};class e6 extends s.Component{componentDidMount(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),_.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}componentDidUpdate(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),_.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}renderContent(){let e;if(this.props.viewMode===g.XU.LIST)e=e5[this.props.searchModelType]??"search_results_view--list--PE88A";else if(this.props.viewMode===g.XU.GRID)switch(this.props.searchModelType){case x.uH.PUBLIC_PROFILES:case x.uH.HUB_FILES:e="search_results_view--grid--AwZ1i"}else(0,o.xb)(this.props.viewMode);e+=this.props.isLoggedIn?" search_results_view--resultsContainerMarginLoggedIn--fU5aJ":"";let t=this.props.didSucceed&&0===this.props.searchResults.length;return(0,i.jsx)(m.x,{isLoading:this.props.isLoading,className:"search_results_view--loadingContainer--wJ-PI",children:()=>this.props.didFail?(0,i.jsx)(e9,{illustration:e1.A,resourceTypeDisplayString:this.props.failureMessage||(0,c.t)("search.search_model_type.search_error"),searchModelType:this.props.searchModelType,query:null,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):t?(0,i.jsx)(e9,{illustration:e4[this.props.searchModelType],resourceTypeDisplayString:(0,x.hf)(this.props.searchModelType),searchModelType:this.props.searchModelType,query:this.props.query,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):(0,i.jsx)("div",{className:"search_results_view--resultsContainer--htXqo",children:(0,i.jsx)("div",{className:e,children:(0,i.jsx)(e$,{searchModelType:this.props.searchModelType,searchResults:this.props.searchResults,viewMode:this.props.viewMode,planFilter:this.props.planFilter})})})})}render(){let e=this.props.searchModelType===x.uH.FILES?void 0:this.props.viewMode===g.XU.LIST?"search_results_view--searchResultsViewList--RDhRY search_results_view--searchResultsView--Mm-V0":"search_results_view--searchResultsView--Mm-V0";return(0,i.jsx)(b.Q0,{isDropdown:!1,...this.props,children:(0,i.jsx)("div",{className:e,children:this.renderContent()})})}}function e3(e){let t=(0,l.wA)(),r=(0,l.d4)(t=>(0,eY.zQ[e.searchModelType])(t.search.parameters,t.viewBarViewModeOptionByView).viewMode),a=(0,l.d4)(e=>!!e.user),n=(0,l.d4)(e=>e.search),o=(0,l.d4)(e=>e.search.parameters.workspaceFilter),d=(0,l.d4)(e=>e.search.parameters.planFilter),c=(0,l.d4)(e=>e.currentUserOrgId),u=(0,l.d4)(e=>e.selectedView),_=s.useCallback(()=>{t(h.HI({}))},[t]),m=s.useCallback(e=>{t(h.ej({lastAckedQueryId:e}))},[t]),p=s.useCallback((e,r,a)=>{t(h.w2({sessionId:e,query:r,queryId:a}))},[t]);return(0,i.jsx)(e6,{...e,activePlan:d,activeWorkspaceFilter:o,currentOrgId:c,isLoggedIn:a,onResetWorkspaceFilter:_,search:n,selectedView:u,setLastLoadedQuery:p,setSearchLastAckedQueryId:m,viewMode:r})}function e9(e){let{query:t,resourceTypeDisplayString:r}=e,a=(0,l.d4)(e=>e.currentUserOrgId),n="NON_ORG_TEAMS"!==e.activePlan&&e.activePlan||a,o=(0,u.bc)(f.N63,{orgId:n??null}),_=s.useMemo(()=>"loaded"===o.status?o.data?.org?.workspaces:[],[o]),m=_?.find(t=>null!=e.activeWorkspaceFilter&&t.id===e.activeWorkspaceFilter),h=e.onResetWorkspaceFilter,x=s.useMemo(()=>(0,i.jsxs)(i.Fragment,{children:[r,null!==t?(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)("span",{className:eJ,children:t})]}):null,null!=m&&(0,i.jsxs)(i.Fragment,{children:[" in the ",(0,i.jsx)("span",{className:eJ,children:m.name})," workspace",(0,i.jsx)("br",{}),(0,i.jsx)(d.E,{className:"search_results_view--removeSearchFilterText--UmIGh",onClick:()=>{h&&h()},"aria-label":(0,c.t)("search.empty_state.try_searching_whole_org"),children:(0,c.tx)("search.empty_state.try_searching_whole_org")})]})]}),[t,h,m,r]);return(0,i.jsxs)("div",{className:"search_results_view--emptyState--LZ6oz tiles_view_empty_state--emptyState--Vxcwv text--fontPos11--rO47d text--_fontBase--VaHfk",children:[e.illustration&&(0,i.jsx)(p.B,{className:"search_results_view--emptyStateIllustrations--2LGH2",svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),(0,i.jsx)("div",{className:"search_results_view--emptyStateTextWrapper--PDSC8",children:(0,i.jsx)("span",{className:"search_results_view--emptyStateText--LtXOM ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",children:x})}),e.cta?(0,i.jsx)("div",{className:"search_results_view--inactiveScopeLink--53JnA",children:e.cta}):null]})}e6.displayName="SearchResultView",e9.displayName="SearchResultEmptyState"},46714(e,t,r){r.d(t,{zQ:()=>eH,ZG:()=>eW});var a,n=r(239976),i=r(105652),s=r(645186),l=r(523924),o=r(859978),d=r(147911),c=r(349145),u=r(68278),_=r(156829),m=r(850159),p=r(741542),h=r(350923),f=r(181645),x=r(289886),g=r(639475),b=r(12633),v=r(903760),y=r(622063),j=r(335127),w=r(140390);function C(e){let{onChange:t}=e,r=w.fS[e.searchScope].modelTypes,[a,,s]=y.t.useTabs(r.reduce((e,t)=>(e[t]=!0,e),{}),{defaultActive:e.searchModelType});i.useEffect(()=>{t(s.activeTab)},[s.activeTab,t]);let l=(0,j.ZC)(e.searchModelType);return i.useEffect(()=>{l&&l!==e.searchModelType&&s.activeTab!==e.searchModelType&&s.setActiveTab(e.searchModelType)},[e.searchModelType,l,s]),(0,n.jsx)("div",{className:"search_model_toggle--tabsRedesign--yId-B",children:(0,n.jsx)(y.t.TabStrip,{manager:s,children:r.map(e=>(0,i.createElement)(y.t.Tab,{...a[e],key:e},(0,w.q6)(e)))})})}var T=r(985373),k=r(928397),E=r(636773),I=r(262900),A=r(717969),N=r(766632),S=r(864632),R=r(104782),O=r(249318),D=r(422642),F=r(824234),M=r(776432);let P="relevancy_dropdown_options--row--XT9IA",L="relevancy_dropdown_options--heading--qgooU relevancy_dropdown_options--row--XT9IA",B="relevancy_dropdown_options--icon--qvVy6";var U=r(657049);function H({checkedValue:e,currentDirection:t,dirValuesToDisplayText:r,tileSortValues:a,values:l,valuesToDisplayText:o,onChange:d}){let c=(0,s.wA)(),u=(0,h.md)(D.R9),_=i.useCallback((t,r,a)=>{t.stopPropagation(),c(T.oB()),(0,f.sx)("Sort Changed - Dropdown",{oldValueString:e,newValueString:r,model:u,dir:a===I.ue.ASC?"asc":a===I.ue.DESC?"desc":void 0}),d?.(r,a)},[e,c,d,u]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:L,children:(0,m.tx)("tile.sort_filter.sort_by_label")}),l.map(t=>(0,n.jsxs)("div",{className:P,onMouseDown:e=>{_(e,t)},role:"button",tabIndex:-1,children:[o[t],e===t&&(0,n.jsx)(F.B,{svg:U.A,className:B})]},t)),a.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"relevancy_dropdown_options--separator--WLIio"}),(0,n.jsx)("div",{className:L,children:(0,m.tx)("tile.sort_filter.order_label")})]}),a.map((a,i)=>(0,n.jsxs)("div",{className:P,onMouseDown:t=>_(t,e,a),role:"button",tabIndex:-1,children:[r(a,(0,M.E)(e)),t===a&&(0,n.jsx)(F.B,{svg:U.A,className:B})]},i))]})}var W=r(415404),z=r(46449);r(574988);var V=r(224542),G=r.n(V),q=r(140979),K=r(687497),$=r(928814),Y=r(644350),J=r(686870),X=r(843489),Q=r(890817),Z=r(53603),ee=r(419586),et=r(601198),er=r(220007),ea=r(476219);let en="seen_search_workspace_onboarding",ei="SEARCH_WORKSPACE_ONBOARDING_KEY",es=(0,ee.r1)("file_browser_onboarded"),el=(0,ee.r1)(en);function eo(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,Z.UC)(e),r=(0,h.md)(t),a=(0,h.md)(es),i=(0,h.md)(el),l=(0,Q.e)({overlay:ea.tBR,priority:et.N.DEFAULT_MODAL},[a,r,i]);return(0,X.h)(()=>{l.show({canShow:(e,t,r)=>e&&t&&!r})}),(0,n.jsx)(er.rq,{isShowing:l.isShowing,trackingContextName:"Search Workspace Onboarding",userFlagOnShow:en,onClose:l.complete,targetKey:ei,title:(0,m.tx)("rcs.search_workspace_onboarding_modal.title"),description:(0,n.jsx)("p",{children:(0,m.tx)("rcs.search_workspace_onboarding_modal.text")}),emphasized:!0})}let ed="workspace_dropdown_filters--row--LpH--",ec="workspace_dropdown_filters--icon--p5JdY";function eu({values:e,valuesToDisplayText:t}){return(0,n.jsxs)(z.Container,{children:[(0,n.jsx)(z.Title,{children:(0,m.t)("search.facets.workspaces")}),(0,n.jsx)(z.Option,{value:"ALL",children:t.ALL},"ALL"),e.map(e=>(0,n.jsx)(z.Option,{value:e,children:(0,n.jsx)("div",{...{className:"xlm99nl x1jkqq1h x78zum5 x1q0g3np"},children:(0,n.jsx)(K.E,{truncate:!0,children:t[e]})})},e))]})}function e_({values:e,valuesToDisplayText:t,checkedValue:r,onResetFilter:a,onChange:l}){let o=(0,s.wA)(),d=i.useCallback(e=>{e.stopPropagation(),o(T.oB())},[o]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"workspace_dropdown_filters--heading--ciHlx workspace_dropdown_filters--row--LpH--",children:(0,m.tx)("search.facets.workspaces")}),(0,n.jsxs)("div",{className:ed,onMouseDown:e=>{d(e),a()},role:"button",tabIndex:-1,children:[t.ALL,"ALL"===r&&(0,n.jsx)(F.B,{svg:U.A,className:ec})]},"ALL"),e.map(e=>(0,n.jsxs)("div",{className:ed,onMouseDown:t=>{d(t),l?.(e)},role:"button",tabIndex:-1,children:[t[e],r===e&&(0,n.jsx)(F.B,{svg:U.A,className:ec})]},e))]})}var em=r(869226),ep=r(493795);let eh={},ef=(e,t)=>{let r=e.name.toUpperCase(),a=t.name.toUpperCase();return r<a?-1:+(r>a)};function ex(e){let t=(0,s.d4)(e=>e.currentUserOrgId),r="NON_ORG_TEAMS"!==e.planId&&e.planId||t,a=(0,q.bc)(Y.N63,{orgId:r}),{currentWorkspace:l,viewableWorkspaces:o}=i.useMemo(()=>{if("loaded"===a.status){let e=a.data?.org?.workspaces,t=e?.filter(e=>e.canView),r=a.data?.currentUser.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId;return{currentWorkspace:t?.find(e=>e.id===r),viewableWorkspaces:t}}return{currentWorkspace:null,viewableWorkspaces:[]}},[a]),d=(0,s.d4)(e=>e.orgById[r]);eh.ALL=(0,m.t)("search.search_filter.all_org_results",{orgName:d?.name});let c=[],u=(0,h.md)(N.P_);return i.useMemo(()=>u&&!u.value[w.qy.FOLDER].length&&!u.value[w.qy.TEAM].length&&1===u.value[w.qy.ORG].length,[u])&&e.planId&&"NON_ORG_TEAMS"!==e.planId&&o?.length?(l&&c.push(l.id),o?.sort(ef).forEach(e=>{e.id!==l?.id&&c.push(e.id),eh[e.id]=e.name}),(0,n.jsxs)("div",{"data-onboarding-key":ei,children:[(0,n.jsx)(eb,{sortControlsDisabled:e.sortControlsDisabled,values:c,checkedValue:e.workspaceFilter??"ALL",onChange:e.onChangeWorkspaceFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetWorkspaceFilter}),(0,n.jsx)(J.p,{children:(0,n.jsx)(eo,{})})]})):(0,n.jsx)(n.Fragment,{})}function eg(e){let t=(0,s.d4)(e=>e.currentUserOrgId),r="NON_ORG_TEAMS"!==e.planId&&e.planId||t,a=(0,q.bc)(Y.N63,{orgId:r}),{currentWorkspace:l,viewableWorkspaces:o}=i.useMemo(()=>{if("loaded"===a.status){let e=a.data?.org?.workspaces,t=e?.filter(e=>e.canView),r=a.data?.currentUser.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId;return{currentWorkspace:t?.find(e=>e.id===r),viewableWorkspaces:t}}return{currentWorkspace:null,viewableWorkspaces:[]}},[a]),d=(0,s.d4)(e=>e.orgById[r]);eh.ALL=(0,m.t)("search.search_filter.all_org_results",{orgName:d?.name});let c=[],u=(0,h.md)(N.P_);return i.useMemo(()=>u&&!u.value[w.qy.FOLDER].length&&!u.value[w.qy.TEAM].length&&1===u.value[w.qy.ORG].length,[u])&&e.planId&&"NON_ORG_TEAMS"!==e.planId&&o?.length?(l&&c.push(l.id),o?.sort(ef).forEach(e=>{e.id!==l?.id&&c.push(e.id),eh[e.id]=e.name}),(0,n.jsxs)("div",{"data-onboarding-key":ei,children:[(0,n.jsx)(ev,{dropdownId:"search-dropdown-group-filter",sortControlsDisabled:e.sortControlsDisabled,values:c,checkedValue:e.workspaceFilter??"ALL",onChange:e.onChangeWorkspaceFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetWorkspaceFilter}),(0,n.jsx)(J.p,{children:(0,n.jsx)(eo,{})})]})):(0,n.jsx)(n.Fragment,{})}function eb({checkedValue:e,sortControlsDisabled:t,values:r,onChange:a,onResetFilter:i,onClickDropdown:s}){return(0,n.jsxs)(z.Root,{onChange:e=>{void 0!==e&&("ALL"===e?i():a(e))},onOpenChange:e=>{e?s(w.tC.OPEN):s(w.tC.CLOSE)},value:e,children:[(0,n.jsx)(c.v.SelectTrigger,{disabled:t&&"ALL"===e,children:(0,n.jsx)("div",{...{className:"x1jkqq1h"},children:(0,n.jsx)(K.E,{truncate:!0,children:eh[e]??""})})}),(0,n.jsx)(eu,{values:r,valuesToDisplayText:eh})]})}function ev(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),a=(0,s.d4)(e=>e.dropdownShown),l=a?.type===e.dropdownId;return(0,n.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?em.b6:em.P2,onMouseDown:a=>{l?(t(T.oB()),e.onClickDropdown(w.tC.CLOSE)):r.current&&(t(T.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),e.onClickDropdown(w.tC.OPEN)),a.stopPropagation()},onClick:$.dG,children:[(0,n.jsx)("span",{children:eh[e.checkedValue]}),(0,n.jsx)("div",{className:em.dN,ref:r,children:(0,n.jsx)(F.B,{svg:ep.A,className:G()(em.OW,l?em.iw:"")})}),l&&(0,n.jsx)(W.G,{dropdownId:e.dropdownId,dropdownChild:(0,n.jsx)(e_,{values:e.values,valuesToDisplayText:eh,checkedValue:e.checkedValue,onResetFilter:e.onResetFilter,onChange:e.onChange})})]})}var ey=r(875363),ej=r(464025),ew=r(336609),eC=r(370566),eT=r(130729),ek=r(645724),eE=r(955018),eI=r(508295),eA=r(42504);let eN=ek.wv,eS="NON_ORG_TEAMS",eR={};function eO(e){let t=(0,eI.iZ)(),r=(0,s.d4)(e=>t?e.authedUsers.byId[t.id]?.plans:null);if(r&&0===r.length)return(0,n.jsx)(n.Fragment,{});let a=[];eR.ALL=(0,m.t)("search.search_filter.all_organizations_results");let i=!1;return r?.forEach(e=>{e.is_org?(a.push(e.plan_id),eR[e.plan_id]=e.name):i=!0}),i&&(a.push(eS),eR[eS]=(0,m.t)("search.search_filter.non_org_teams")),(0,n.jsx)(eD,{dropdownId:"search-dropdown-plan-filter",sortControlsDisabled:e.sortControlsDisabled,values:a,checkedValue:e.planFilter??"ALL",onChange:e.onChangePlanFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetPlanFilter})}function eD(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),a=(0,s.d4)(e=>e.dropdownShown),l=a?.type===e.dropdownId,[o,d]=i.useState(window.innerHeight-175);i.useEffect(()=>{let e=(0,eT.s)(function(){d(window.innerHeight-175)},250);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=()=>{l&&t(T.oB())};return(0,n.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?em.b6:em.P2,onMouseDown:a=>{l?(t(T.oB()),e.onClickDropdown(w.tC.CLOSE)):r.current&&(t(T.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),e.onClickDropdown(w.tC.OPEN)),a.stopPropagation()},onClick:$.dG,children:[e.checkedValue&&"ALL"!==e.checkedValue&&e.checkedValue!==eS&&(0,n.jsx)(eE.lV,{planOption:{label:eR[e.checkedValue],plan_id:e.checkedValue,plan_type:"org"}}),(0,n.jsx)("span",{ref:r,children:eR[e.checkedValue]}),(0,n.jsx)("div",{className:em.dN,children:(0,n.jsx)(F.B,{svg:ep.A,className:G()(em.OW,l?em.iw:"")})}),l&&(0,n.jsxs)(eA.Cf,{targetRect:a.data.targetRect,minWidth:162,maxWidth:500,maxHeight:o,showPoint:!0,lean:"right",propagateCloseClick:!0,children:[(0,n.jsx)(ek.MM,{checked:"ALL"===e.checkedValue,onClick:()=>{c(),e.onResetFilter()},children:eR.ALL},"ALL"),(0,n.jsx)(eN,{}),e.values.map(t=>(0,n.jsx)(ek.MM,{checked:t===e.checkedValue,onClick:()=>{c(),e.onChange(t)},children:eR[t]&&eR[t]},t))]})]})}var eF=r(72116),eM=r(709299),eP=a||(a={});class eL extends i.Component{constructor(){super(...arguments),this.onChange=(e,t)=>{let r={...this.props.sortState,[this.props.searchModelType]:{sortKey:e,sortDesc:void 0===t?e===w.Lk.TOUCHED_AT||e===w.Lk.CREATED_AT:t===I.ue.DESC}};this.props.onChange(r)}}render(){let e=`search-sort-${this.props.searchModelType}`,t=this.props.sortState[this.props.searchModelType],r={includeSortDirection:!1};return(this.props.includeSortDirection(t.sortKey)&&(r={includeSortDirection:!0,tileSortValues:eE.R1.sortOptions,currentDirection:t.sortDesc?I.ue.DESC:I.ue.ASC}),(0,p.getFeatureFlags)().a11y_search_filters)?(0,n.jsx)(eV,{values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[this.props.viewMode],checkedValue:t.sortKey,onChange:this.onChange,disabled:this.props.disabled,...r}):(0,n.jsx)(ez,{dropdownId:e,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[this.props.viewMode],checkedValue:t.sortKey,onChange:this.onChange,disabled:this.props.disabled,...r})}}eP.SearchSortDropdown=function(e){switch(e.searchModelType){case w.uH.HUB_FILES:return(0,n.jsx)(eL,{...e,...v.xH});case w.uH.PUBLIC_PLUGINS:return(0,n.jsx)(eL,{...e,...ej.x});case w.uH.PRIVATE_PLUGINS:return(0,n.jsx)(eL,{...e,...ey.x});case w.uH.FILES:return(0,n.jsx)(eL,{...e,...g.KJ});case w.uH.PROJECTS:return(0,n.jsx)(eL,{...e,...g.$T});case w.uH.TEAMS:return(0,n.jsx)(eL,{...e,...g.Vx});case w.uH.USERS:return(0,n.jsx)(eL,{...e,...g.V0});case w.uH.PUBLIC_PROFILES:case w.uH.PUBLIC_WIDGETS:case w.uH.PRIVATE_WIDGETS:return null;default:(0,l.xb)(e.searchModelType)}};let eB=a.SearchSortDropdown;function eU(e){switch(e.searchModelType){case w.uH.FILES:return(0,n.jsx)(eM.Kc,{...e,...g.KJ});case w.uH.PROJECTS:return(0,n.jsx)(eM.Kc,{...e,...g.$T});case w.uH.TEAMS:return(0,n.jsx)(eM.Kc,{...e,...g.Vx});case w.uH.USERS:return(0,n.jsx)(eM.Kc,{...e,...g.V0});case w.uH.HUB_FILES:case w.uH.PUBLIC_PLUGINS:case w.uH.PRIVATE_PLUGINS:case w.uH.PUBLIC_PROFILES:case w.uH.PUBLIC_WIDGETS:case w.uH.PRIVATE_WIDGETS:return null;default:return(0,l.xb)(e.searchModelType)}}let eH={[w.uH.FILES]:(e,t)=>({sortMode:e.sortState.files,viewMode:(0,A.y2)(g.KJ.viewId,t,g.KJ.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[w.uH.PROJECTS]:(e,t)=>({sortMode:e.sortState.projects,viewMode:(0,A.y2)(g.$T.viewId,t,g.$T.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[w.uH.TEAMS]:(e,t)=>({sortMode:e.sortState.teams,viewMode:(0,A.y2)(g.Vx.viewId,t,g.Vx.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[w.uH.USERS]:(e,t)=>({sortMode:e.sortState.users,viewMode:(0,A.y2)(g.V0.viewId,t,g.V0.defaultOptions.viewMode),shouldShowGroupFilter:!1,shouldShowPlanFilter:!0}),[w.uH.HUB_FILES]:v.eB,[w.uH.PUBLIC_PLUGINS]:ej.z,[w.uH.PRIVATE_PLUGINS]:ey.z,[w.uH.PUBLIC_PROFILES]:ew.g.getValidOptions,[w.uH.PUBLIC_WIDGETS]:eC.n.getValidOptions,[w.uH.PRIVATE_WIDGETS]:eC.u.getValidOptions};function eW(e){let t=(0,s.wA)(),r=(0,s.d4)(e=>e.search.parameters),a=(0,s.d4)(e=>e.viewBarViewModeOptionByView),[l,o]=(0,h.fp)(D.R9),d=(0,h.md)(N.P_),c=(0,h.md)(N.J),u=l??w.uH.FILES,_=(0,R.r4)(u),f=_.includes(w.WY.RESOURCE),g=_.includes(w.WY.CREATOR),v=_.includes(w.WY.SPACE),y=v&&(u===w.uH.FILES||u===w.uH.PROJECTS||u===w.uH.TEAMS),j=(0,eH[u])(r,a),T=j.viewMode,E=!v&&(j.shouldShowPlanFilter??!1),I=(0,h.md)(b.hO.isFragmentSearchAtom),A=(0,h.md)(D.sC),F=(0,O.L)(I?"fragment_search_modal":"file_browser",A,!1),M=(0,h.md)(D.Q8),P=(0,h.Xr)((0,N.l4)(w.WY.RESOURCE)),L=i.useCallback(e=>{if(e===u)return;let r=(0,w.Wr)(e),a=(0,R.jN)(r);P(a),o(e);let n=(0,R.r4)(e).includes(w.WY.CREATOR),i=(0,R.r4)(e).includes(w.WY.SPACE);(a?.value===w.$L.PLUGINS||a?.value===w.$L.WIDGETS)&&t(k.HI({}));let s=(0,R.nX)(a,n?c:null,i?d:null,e);F(M,e,s,!0,!0,!1),window.scrollTo(0,0)},[u,t,c,d,F,M,P,o]),B=e=>{t(k.MB({workspaceFilter:e}))},U=e=>{t(k.vj({clickType:e}))},H=()=>{t(k.HI({}))},W=(0,n.jsx)(eB,{viewMode:T,searchModelType:u,sortState:r.sortState,onChange:e=>{t(k.qv({sortState:e}))},disabled:e.sortControlsDisabled},"search-view-bar-search-sort-dropdown"),z=(0,n.jsx)("div",{className:x.s.flex.itemsCenter.mlAuto.$,children:(0,n.jsx)(eU,{searchModelType:u,disabled:e.sortControlsDisabled})},"search-view-bar-search-view-mode-toggle"),V=E&&(0,n.jsx)("div",{children:(0,n.jsx)(eO,{sortControlsDisabled:e.sortControlsDisabled,planFilter:r.planFilter,onChangePlanFilter:e=>{t(k.c3({planFilter:e}))},onClickDropdown:U,onResetPlanFilter:()=>{t(k.tw({}))}},"search-view-bar-search-plan-filter-dropdown")}),G=f&&((0,p.getFeatureFlags)().a11y_search_filters?(0,n.jsx)(S.Hm,{},"search-view-bar-file-type-dropdown"):(0,n.jsx)(S.Pv,{dropdownId:"full-search-results-resource-facet-dropdown",facetType:w.WY.RESOURCE},"search-view-bar-file-type-dropdown")),q=g&&((0,p.getFeatureFlags)().a11y_search_filters?(0,n.jsx)(S.st,{ariaLabel:(0,m.t)("search.facets.filter_by_creator"),facetType:w.WY.CREATOR},"search-view-bar-creator-facet-dropdown"):(0,n.jsx)(S.Pv,{dropdownId:"full-search-results-creator-facet-dropdown",facetType:w.WY.CREATOR},"search-view-bar-creator-facet-dropdown")),K=v&&((0,p.getFeatureFlags)().a11y_search_filters?(0,n.jsx)(S.st,{facetType:w.WY.SPACE,ariaLabel:(0,m.t)("search.facets.filter_by_space")},"search-view-bar-space-facet-dropdown"):(0,n.jsx)(S.Pv,{dropdownId:"full-search-results-space-facet-dropdown",facetType:w.WY.SPACE},"search-view-bar-space-facet-dropdown")),$=d&&1===d.value[w.qy.ORG].length?d.value[w.qy.ORG][0].id:void 0,Y=y&&((0,p.getFeatureFlags)().a11y_search_filters?(0,n.jsx)(ex,{sortControlsDisabled:e.sortControlsDisabled,workspaceFilter:r.workspaceFilter,onChangeWorkspaceFilter:B,onClickDropdown:U,onResetWorkspaceFilter:H,planId:$},"search-view-bar-facet-workspace-dropdown"):(0,n.jsx)(eg,{sortControlsDisabled:e.sortControlsDisabled,workspaceFilter:r.workspaceFilter,onChangeWorkspaceFilter:B,onClickDropdown:U,onResetWorkspaceFilter:H,planId:$},"search-view-bar-facet-workspace-dropdown")),J=[V,G,q,K,Y,W,z];return(0,n.jsx)(eF.f,{leftSide:(0,n.jsx)(C,{searchScope:r.searchScope,searchModelType:u,onChange:L}),rightSide:J,rightSideMobile:J,shouldStackRightSideMobile:!0})}function ez(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),a=(0,E.Um)(),l=a?.type===e.dropdownId,d=e.disabled?em.b6:em.P2,c=(0,n.jsx)(W.G,{dropdownId:e.dropdownId,dropdownChild:(0,n.jsx)(H,{checkedValue:e.checkedValue,currentDirection:e.includeSortDirection?e.currentDirection:null,tileSortValues:e.includeSortDirection?e.tileSortValues:[],dirValuesToDisplayText:eE.R1.sortOptionsDisplayText,values:e.values,valuesToDisplayText:e.valuesToDisplayText,onChange:e.onChange})});return(0,n.jsxs)("div",{className:d,children:[(0,n.jsxs)(o.E,{onClick:a=>{a.stopPropagation(),l?t(T.oB()):r.current&&t(T.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}}))},"aria-expanded":l,children:[(0,n.jsx)("span",{ref:r,children:e.valuesToDisplayText[e.checkedValue]}),(0,n.jsx)(_.O,{})]}),l?c:null]})}function eV({currentDirection:e,checkedValue:t,disabled:r,onChange:a,tileSortValues:s,values:l,valuesToDisplayText:o}){let{getTriggerProps:p,manager:x}=d.b(),g=(0,h.md)(D.R9),b=i.useCallback((e,r)=>{f.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:void 0===r?"sortKey":"sortDir",filterValue:e.toString(),previousFilterValue:t.toString(),page:`search_${g}`}),a(e,r)},[t,a,g]);return r?(0,n.jsx)(c.v,{trailing:(0,n.jsx)(_.O,{}),disabled:!0,children:(0,n.jsx)("span",{children:o[t]})}):(0,n.jsxs)(d.bL,{manager:x,children:[(0,n.jsx)(c.v,{trailing:(0,n.jsx)(_.O,{}),...p(),children:(0,n.jsx)("span",{children:o[t]})}),(0,n.jsxs)(d.mc,{children:[(0,n.jsx)(u.z6,{title:(0,n.jsx)(d.hE,{children:(0,m.t)("tile.sort_filter.sort_by_label")}),value:t,onChange:e=>b(e),children:l.map(e=>(0,n.jsx)(u.CU,{value:e,children:o[e]},e))}),s&&s.length>0&&(0,n.jsx)(u.z6,{title:(0,n.jsx)(d.hE,{children:(0,m.t)("tile.sort_filter.order_label")}),value:e,onChange:e=>{null!==e&&b(t,e)},children:s.map((e,r)=>(0,n.jsx)(u.CU,{value:e,children:eE.R1.sortOptionsDisplayText(e,(0,M.E)(t))},r))})]})]})}},955018(e,t,r){r.d(t,{FU:()=>F,KH:()=>S,R1:()=>I,gr:()=>N,lI:()=>D,lV:()=>E,mc:()=>P,qD:()=>k,ve:()=>O,ye:()=>R});var a=r(239976),n=r(105652),i=r(645186),s=r(523924);if(1464==r.j)var l=r(46449);if(1464==r.j)var o=r(349145);if(1464==r.j)var d=r(147911);if(1464==r.j)var c=r(68278);if(1464==r.j)var u=r(156829);var _=r(850159),m=r(181645),p=r(289886),h=r(412427);if(1464==r.j)var f=r(2894);if(1464==r.j)var x=r(792957);var g=r(358873),b=r(846639),v=r(262900),y=r(999470),j=r(69806);if(1464==r.j)var w=r(27261);if(1464==r.j)var C=r(534592);var T=r(776432);function k(e){let t=(0,b.wW)(e.userId).user;return(0,a.jsx)("div",{className:p.s.mr4.flex.itemsCenter.$,children:t&&(0,a.jsx)(h.H8,{user:t,size:14})})}function E(e){let t=(0,i.d4)(e=>e.teams),r=(0,i.d4)(e=>e.orgById);if(!e.planOption?.plan_id)return null;let n="org"===e.planOption.plan_type&&e.planOption.plan_id?r[e.planOption.plan_id]?.img_url:t[e.planOption.plan_id]?.img_url;return(0,a.jsx)("div",{className:p.s.flex.itemsCenter.$,children:(0,a.jsx)(j.H,{entityId:e.planOption.plan_id,entityName:e.planOption.label,imgUrl:n})})}let I={sortOptions:[v.ue.ASC,v.ue.DESC],sortOptionsDisplayText:(e,t)=>{switch(e){case v.ue.ASC:switch(t){case y.rR.TIME:return(0,_.t)("tile.sort_filter.sort_direction_oldest_first");case y.rR.ALPHABETICAL:return(0,_.t)("tile.sort_filter.sort_direction_a_to_z");default:return(0,_.t)("tile.sort_filter.sort_direction_ascending")}case v.ue.DESC:switch(t){case y.rR.TIME:return(0,_.t)("tile.sort_filter.sort_direction_newest_first");case y.rR.ALPHABETICAL:return(0,_.t)("tile.sort_filter.sort_direction_z_to_a");default:return(0,_.t)("tile.sort_filter.sort_direction_descending")}default:(0,s.xb)(e)}}};function A(e){let t=e.checkedValue.toString();return(0,a.jsxs)(l.Root,{value:t,onChange:t=>{var r,a;let n;return r=t??"",void(void 0!==(n=e.filterOptions.find(e=>e.toString()===r))&&e.onChange(n,a))},children:[(0,a.jsx)(o.v.SelectTrigger,{selected:"0"!==t&&""!==t,children:(0,a.jsx)("span",{children:e.filterDisplayText[e.checkedValue]})}),(0,a.jsx)(l.Container,{children:e.filterOptions.map(t=>(0,a.jsx)(l.Option,{value:t.toString(),children:e.filterDisplayText[t]},t))})]})}function N(e){return(0,a.jsx)(A,{filterOptions:[v.rJ.ANY,v.rJ.SELF,v.rJ.OTHER],filterDisplayText:{[v.rJ.ANY]:(0,_.tx)("tile.sort_filter.created_by_anyone"),[v.rJ.SELF]:(0,_.tx)("tile.sort_filter.created_by_you"),[v.rJ.OTHER]:(0,_.tx)("tile.sort_filter.created_by_others")},checkedValue:e.options.tileSortFilterConfig.filters.creator,onChange:t=>{let r=e.options.tileSortFilterConfig,a={...r,filters:{...r.filters,creator:t}};e.dispatch(f.JF({selectedView:e.selectedView,config:a})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"creator",filterValue:t.toString(),previousFilterValue:r.filters.creator?.toString()??"",page:e.selectedView.view})}})}function S(e){return(0,a.jsx)(A,{filterOptions:[v.Jh.CAN_BE_RESTORED_DELETED,v.Jh.CAN_BE_VIEWED],filterDisplayText:{[v.Jh.CAN_BE_RESTORED_DELETED]:(0,_.tx)("tile.sort_filter.can_be_restored_permanently_deleted"),[v.Jh.CAN_BE_VIEWED]:(0,_.tx)("tile.sort_filter.can_be_viewed")},checkedValue:e.options.tileSortFilterConfig.filters.role??v.Jh.CAN_BE_RESTORED_DELETED,onChange:t=>{let r=e.options.tileSortFilterConfig,a={...r,filters:{...r.filters,role:t}};e.dispatch(f.JF({selectedView:e.selectedView,config:a})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"role",filterValue:(0,y.xp)(t),previousFilterValue:(0,y.xp)(r.filters.role)??"",page:e.selectedView.view})}})}function R(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),n=(0,C.oz)(),s=(0,x.HH)(),l=(0,w.aI)(),o="recentsAndSharing"===r.view,d=[v.t2.ANY,v.t2.DESIGN,v.t2.FIGJAM,v.t2.SLIDES];d=s?d.concat([v.t2.COOPER]):d,d=n?d.concat([v.t2.SITES]):d,d=l?d.concat([v.t2.MAKE]):d,d=o?d.concat([v.t2.PROTOTYPE]):d;let c={[v.t2.ANY]:(0,_.tx)("tile.sort_filter.filter_by_all_files"),[v.t2.DESIGN]:(0,_.tx)("tile.sort_filter.filter_by_design_files"),[v.t2.FIGJAM]:(0,_.tx)("tile.sort_filter.filter_by_figjam_files"),[v.t2.PROTOTYPE]:(0,_.tx)("tile.sort_filter.filter_by_prototype_files"),[v.t2.SITES]:(0,_.tx)("tile.sort_filter.filter_by_sites_files"),[v.t2.SLIDES]:(0,_.tx)("tile.sort_filter.filter_by_slides_files"),[v.t2.COOPER]:(0,_.tx)("tile.sort_filter.filter_by_buzz_files"),[v.t2.MAKE]:(0,_.tx)("tile.sort_filter.filter_by_make_files")};return(0,a.jsx)(A,{filterOptions:d,filterDisplayText:c,checkedValue:e.config.filters.fileType,onChange:a=>{let n={...e.config,filters:{...e.config.filters,fileType:a}};t(f.JF({selectedView:r,config:n,tab:e.tab})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"fileType",filterValue:(0,y.kf)(a??v.t2.ANY),previousFilterValue:(0,y.kf)(e.config.filters.fileType),page:r.view})}})}function O(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),n=[y.oc.ALL,y.oc.USER],s={[y.oc.ALL]:(0,_.t)("shared_with_you.filters.shared_with.all"),[y.oc.USER]:(0,_.t)("shared_with_you.filters.shared_with.you_directly"),[y.oc.USER_GROUP]:(0,_.t)("shared_with_you.filters.user_group.all")},l=e.userGroupIdFilterOptions??{},m=Object.keys(l),p=e.config.filters.sharedWith??y.oc.ALL,h=e.config.filters.sharedWithUserGroupIdFilter,x=a=>{let n={...e.config,filters:{...e.config.filters,sharedWith:a,sharedWithUserGroupIdFilter:void 0}};t(f.JF({selectedView:r,config:n,tab:e.tab}))},{getTriggerProps:g,manager:b}=d.b(),v=p!==y.oc.ALL||void 0!==h;return(0,a.jsxs)(d.bL,{manager:b,children:[(0,a.jsx)(o.v,{trailing:(0,a.jsx)(u.O,{}),selected:v,...g(),children:(0,a.jsx)("span",{children:(()=>{if(h&&l[h])return l[h];switch(p){case y.oc.ALL:return(0,_.t)("shared_with_you.filters.shared_with.default_label");case y.oc.USER:return(0,_.t)("shared_with_you.filters.shared_with.you_directly");case y.oc.USER_GROUP:return(0,_.t)("shared_with_you.filters.user_group.all");default:return(0,_.t)("shared_with_you.filters.shared_with.default_label")}})()})}),(0,a.jsxs)(d.mc,{children:[(0,a.jsx)(d.YJ,{children:n.map(e=>(0,a.jsx)(c.H_,{onChange:()=>x(e),checked:e===p,children:s[e]},`shared-with-${e}`))},"shared-with-filter"),m.length>0&&(0,a.jsxs)(d.YJ,{children:[(0,a.jsx)(c.H_,{onChange:()=>x(y.oc.USER_GROUP),checked:p===y.oc.USER_GROUP&&void 0===h,children:(0,_.t)("shared_with_you.filters.user_group.all")},"user-group-all"),m.map(n=>(0,a.jsx)(c.H_,{onChange:()=>{let a;return a={...e.config,filters:{...e.config.filters,sharedWith:y.oc.USER_GROUP,sharedWithUserGroupIdFilter:n}},void t(f.JF({selectedView:r,config:a,tab:e.tab}))},checked:n===h,children:l[n]},`user-group-${n}`))]},"user-group-filter")]})]})}function D(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView);return(0,a.jsx)(A,{checkedValue:e.config.filters.sharedBy??"",onChange:a=>{let n={...e.config,filters:{...e.config.filters,sharedBy:a}},i="recentsAndSharing"===r.view?r.tab:r.view;(0,g.nX)(a,i),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"sharedBy",filterValue:a,previousFilterValue:e.config.filters.sharedBy??"anyone",page:i}),t(f.JF({selectedView:r,config:n,tab:e.tab}))},filterOptions:Object.keys(e.filterOptions),filterDisplayText:e.filterOptions})}function F(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),s=n.useMemo(()=>{let t={};return Object.entries(e.filterOptions).forEach(([e,r])=>{t[e]=r.label}),t},[e.filterOptions]),l=e.config.filters.plan?.planId,o=l??"",d=n.useRef(e.config);return d.current=e.config,n.useEffect(()=>{if(l&&!s[l]){let a={...d.current,filters:{...d.current.filters,plan:{planId:void 0,planType:void 0}}};t(f.JF({selectedView:r,config:a,tab:e.tab}))}},[l,e.tab,t,r,s]),(0,a.jsx)(A,{checkedValue:o,onChange:a=>{let n=e.filterOptions[a];if(!n)return;let{plan_id:i,plan_type:s}=n,l={...e.config,filters:{...e.config.filters,plan:{planId:i,planType:s}}},d="recentsAndSharing"===r.view?r.tab:r.view;(0,g.FE)(i,d,s),t(f.JF({selectedView:r,config:l,tab:e.tab})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"plan",filterValue:i??"all_plans",previousFilterValue:o??"all_plans",page:d})},filterOptions:Object.keys(e.filterOptions),filterDisplayText:s})}let M={[v.C0.NAME]:v.ue.ASC,[v.C0.CREATED_AT]:v.ue.DESC,[v.C0.TOUCHED_AT]:v.ue.DESC,[v.C0.TRASHED_AT]:v.ue.DESC,[v.C0.PROJECT_NAME]:v.ue.ASC,[v.C0.ACCESSED_AT]:v.ue.DESC,[v.C0.SHARED_AT]:v.ue.DESC,[v.C0.SEARCH_RELEVANCE]:v.ue.DESC};function P(e){let{options:t,selectedView:r,tab:i,dispatch:s}=e,l=n.useCallback((e,a)=>{let n=t.tileSortFilterConfig,l=void 0===a?M[e]??v.ue.ASC:a,o={...n,sort:{key:e,dir:l}};s(f.JF({selectedView:r,config:o,tab:i})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:void 0===a?"sortKey":"sortDir",sortKey:(0,y._5)(e),sortDir:(0,y.GB)(l),previousSortKey:(0,y._5)(n.sort.key),previousSortDir:(0,y.GB)(n.sort.dir),page:r.view})},[t.tileSortFilterConfig,r,i,s]);n.useEffect(()=>{t.sortKeys.some(e=>e===t.tileSortFilterConfig.sort.key)||l(t.sortKeys[t.sortKeys.length-1],t.tileSortFilterConfig.sort.dir)},[t.sortKeys,t.tileSortFilterConfig.sort.key,t.tileSortFilterConfig.sort.dir,l]);let p={[v.C0.CREATED_AT]:(0,_.tx)("tile.sort_filter.sort_date_created"),[v.C0.TOUCHED_AT]:(0,_.tx)("tile.sort_filter.sort_last_modified"),[v.C0.ACCESSED_AT]:(0,_.tx)("tile.sort_filter.sort_last_viewed"),[v.C0.NAME]:(0,_.tx)("tile.sort_filter.sort_alphabetical"),[v.C0.TRASHED_AT]:(0,_.tx)("tile.sort_filter.sort_date_trashed"),[v.C0.SHARED_AT]:(0,_.tx)("tile.sort_filter.date_shared"),[v.C0.SEARCH_RELEVANCE]:(0,_.tx)("tile.sort_filter.trending"),[v.C0.PROJECT_NAME]:(0,_.tx)("tile.sort_filter.team")},{getTriggerProps:h,manager:x}=d.b();return(0,a.jsxs)(d.bL,{manager:x,children:[(0,a.jsx)(o.v,{trailing:(0,a.jsx)(u.O,{}),...h(),children:(0,a.jsx)("span",{children:p[t.tileSortFilterConfig.sort.key]})}),(0,a.jsxs)(d.mc,{children:[t.sortKeys.length>1&&(0,a.jsx)(d.YJ,{title:(0,a.jsx)(d.hE,{children:(0,_.t)("tile.sort_filter.sort_by_label")}),children:t.sortKeys.map(e=>(0,a.jsx)(c.H_,{onChange:()=>l(e),checked:e===t.tileSortFilterConfig.sort.key,children:p[e]},`sort-filter-label-${e}`))},"sort-filter-label"),(0,a.jsx)(d.YJ,{title:(0,a.jsx)(d.hE,{children:(0,_.t)("tile.sort_filter.order_label")}),children:I.sortOptions.map((e,r)=>(0,a.jsx)(c.H_,{onChange:()=>l(t.tileSortFilterConfig.sort.key,e),checked:e===t.tileSortFilterConfig.sort.dir,children:I.sortOptionsDisplayText(e,(0,T.E)(t.tileSortFilterConfig.sort.key))},`sort-option-label-${r}`))},"sort-option-label")]})]})}},776432(e,t,r){r.d(t,{E:()=>d});var a=r(706354),n=r(462198),i=r(590281),s=r(140390);if(1464==r.j)var l=r(262900);if(1464==r.j)var o=r(999470);function d(e){switch(e){case l.C0.ACCESSED_AT:case l.C0.CREATED_AT:case l.C0.TOUCHED_AT:case l.C0.TRASHED_AT:case l.C0.SHARED_AT:case s.j9.CREATED_AT:case s.j9.TOUCHED_AT:case s.j9.UPDATED_AT:case s.j9.RECENCY:case i.Dq.LAST_MODIFIED:case i.Dq.SHARED_AT:return o.rR.TIME;case l.C0.NAME:case l.C0.PROJECT_NAME:case s.j9.NAME:case s.j9.AUTHOR_NAME:case s.j9.EMAIL:case i.Dq.NAME:case i.Dq.OWNER:case i.Dq.TEAM:return o.rR.ALPHABETICAL;case s.j9.INSTALL_COUNT:case s.j9.MEMBER_COUNT:case s.j9.RELEVANCY:case s.j9.POPULARITY:return o.rR.OTHER;default:let t=Error(`Uncaught sort key: ${e}`);return(0,n.$D)(a.FigmaTeam.WAYFINDING,t),o.rR.OTHER}}},709299(e,t,r){r.d(t,{$c:()=>h,Kc:()=>f});var a=r(239976),n=r(105652),i=r(645186),s=r(678268),l=r(609024),o=r(368932),d=r(399544),c=r(850159),u=r(181645);if(1464==r.j)var _=r(2894);var m=r(262900);function p({viewMode:e,onViewModeChange:t,disabled:r}){return(0,a.jsx)("form",{children:(0,a.jsxs)(s.bL,{value:e?.toString(),legend:(0,a.jsx)(l.q,{children:(0,c.t)("fullscreen.view_mode.view_mode")}),readonly:r,onChange:e=>{e===m.XU.GRID.toString()?((0,u.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.GRID}),t(m.XU.GRID)):((0,u.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.LIST}),t(m.XU.LIST))},children:[(0,a.jsx)(s.c$,{value:m.XU.GRID.toString(),icon:(0,a.jsx)(o.t,{}),"aria-label":(0,c.t)("fullscreen.view_mode.show_as_grid")}),(0,a.jsx)(s.c$,{value:m.XU.LIST.toString(),icon:(0,a.jsx)(d.Z,{}),"aria-label":(0,c.t)("fullscreen.view_mode.show_as_list")})]})})}class h extends n.PureComponent{constructor(e){super(e),this.onViewModeChange=e=>{this.setState({viewMode:e},()=>{this.props.onViewModeChange(e)})},this.state={viewMode:e.initialViewMode}}render(){return(0,a.jsx)(p,{viewMode:this.state.viewMode,onViewModeChange:this.onViewModeChange})}}function f(e){let t=(0,i.wA)(),r=(0,i.d4)(t=>t.viewBarViewModeOptionByView[e.viewId])??e.defaultOptions.viewMode;return(0,a.jsx)(p,{viewMode:r,onViewModeChange:r=>{t(_.uV({viewId:e.viewId,viewMode:r}))},disabled:e.disabled})}},129039(e,t,r){r.d(t,{f:()=>i});var a=r(645186),n=r(773201);function i(e){let t=(0,n._6)(),r=(0,a.d4)(e=>e.currentUserOrgId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_org?.id??null:r}},727280(e,t,r){r.d(t,{G:()=>i});var a=r(645186),n=r(773201);function i(e){let t=(0,n._6)(),r=(0,a.d4)(e=>e.currentTeamId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_team?.id??null:r}},224282(e,t,r){r.d(t,{B:()=>c});var a=r(105652),n=r(645186),i=r(436174),s=r(490753),l=r(985373),o=r(279117),d=r(765496);function c(){let e=(0,n.wA)();return a.useCallback((t,r)=>{let a=(0,o.uF)(t)?.name;(r?.stopPropagation(),(0,s.oJ)(r))?i.Ay.redirect((0,d.ho)(t.id,a),"_blank"):(r?.preventDefault(),e(l.sf({view:"communityHub",subView:"plugin",publishedPluginId:t.id})))},[e])}},367291(e,t,r){r.d(t,{s:()=>c});var a=r(105652),n=r(645186),i=r(436174),s=r(490753),l=r(985373),o=r(279117),d=r(765496);function c(){let e=(0,n.wA)();return a.useCallback((t,r)=>{let a=(0,o.uF)(t)?.name;(r?.stopPropagation(),(0,s.oJ)(r))?i.Ay.redirect((0,d.YW)(t.id,a),"_blank"):(r?.preventDefault(),e(l.sf({view:"communityHub",subView:"widget",widgetId:t.id})))},[e])}},363214(e,t,r){r.d(t,{p:()=>l});var a=r(105652),n=r(350923),i=r(832763),s=r(129862);function l(e,t){let r=(0,n.Xr)(s.yH),l=a.useMemo(()=>e.filter(e=>t.find(t=>i.Tf.getId(e)===i.Tf.getId(t)&&e.type===t.type)),[e,t]);return a.useEffect(()=>{r([...new Set(l.map(e=>i.Tf.getFolderId(e)).filter(e=>null!==e))])},[l,r]),l}},316656(e,t,r){r.d(t,{A:()=>d});var a=r(105652),n=r(645186);if(1464==r.j)var i=r(898312);var s=r(571959),l=r(38900),o=r(621995);function d(e,t){let r=(0,n.wA)();return a.useMemo(()=>({onClick:t?()=>{r(i.dm(e))}:()=>{},onJoin:s.GR(r,e),onLeave:()=>{r(l.to({type:o.p,data:{teamId:e}}))}}),[r,e,t])}},149108(e,t,r){r.d(t,{t:()=>n});var a=r(850159);function n(e){return e<999?e.toString():(0,a.t)("file_browser.folder.truncated_file_count",{maxCount:999})}},876299(e,t,r){r.d(t,{b0:()=>v});var a=r(239976),n=r(105652),i=r(850159);if(1464==r.j)var s=r(741542);var l=r(350923),o=r(838719),d=r(318131),c=r(890817),u=r(171310),_=r(419586);if(1464==r.j)var m=r(601198);var p=r(812451),h=r(220007),f=r(579959),x=r(476219);let g="seen_file_preview_overlay",b=(0,_.r1)(g);function v(){let e=(0,l.md)(d.i),t=(0,l.md)(u.Fy),r=!!(0,s.getFeatureFlags)().scrub_file_browser_search_results,_=(0,l.md)(b),{show:v,isShowing:y,complete:j}=(0,c.e)({overlay:x.b0J,priority:m.N.DEFAULT_MODAL},[t,_]);return n.useEffect(()=>{e.size&&r&&v({canShow:(e,t)=>e&&!t})},[r,e,v]),(0,a.jsx)(h.rq,{arrowPosition:f.F_.LEFT_TITLE,description:(0,i.tx)("file_preview_onboarding.move_your_cursor"),disableHighlight:!0,isShowing:y,media:(0,a.jsx)(p.w,{src:(0,o.staticAssetWithUploadsPath)("31df1314d5fec4580db0bc6ceda8fcca7a600e30"),aspectRatio:16/9}),onClose:j,onTargetLost:j,targetKey:"scrubbable-thumbnail",title:(0,i.tx)("file_preview_onboarding.new_ways_to_preview_files"),trackingContextName:"FilePreviewOverlay",userFlagOnShow:g})}},971703(e,t,r){r.d(t,{p:()=>F,u:()=>D});var a=r(239976),n=r(645186),i=r(850159);if(1464==r.j)var s=r(741542);var l=r(181645),o=r(195784),d=r(865804);if(1464==r.j)var c=r(295815);var u=r(1026),_=r(921282),m=r(493094);if(1464==r.j)var p=r(863825);if(1464==r.j)var h=r(898312);if(1464==r.j)var f=r(860920);if(1464==r.j)var x=r(422205);if(1464==r.j)var g=r(145557);var b=r(328403),v=r(269800),y=r(904511),j=r(38900),w=r(104727),C=r(406995),T=r(786348),k=r(773201),E=r(458983);if(1464==r.j)var I=r(982175);var A=r(590281),N=r(852734),S=r(165617),R=r(844060),O=r(852401);function D(e){let t=(0,n.d4)(e=>e.currentUserOrgId),r=(0,n.d4)(e=>e.currentTeamId),a=(0,n.d4)(e=>e.loadedFolders),o=(0,k._6)(),d=(0,b.ym)(),f=(0,b.WJ)(),S=(0,m.gY)(T.k4),D=t||r,F=(0,n.d4)(e=>e.teams),M=(0,u.YO)(e),P=(0,n.wA)();return({folder:e,shouldShowJoinButton:r,shouldHideShareOption:n,trackSearchFolder:u})=>{let m=e.teamId,b=e&&m?F[m]:void 0,k=b?b.org_id:e.orgId;if("loaded"!==M.status)return[];let L=!!M.data?.canShare,B=!!M.data?.canMove&&(!M.data?.hasPendingResourceConnectionInvite||!!k),U=!!M.data?.canRestore,H=!!M.data?.canPermanentlyDelete,W=window.innerWidth<=(0,c.hG)("645px"),z=!L||(n||!(0,s.getFeatureFlags)().merge_project_context_menus)&&!W,V=[],G=[];if(G.push({displayText:(0,i.t)("general.open"),onClick:()=>{u&&u(),P(h.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),d(e.id)},disabled:"trashedFolders"===o.view}),_.eD||G.push({displayText:(0,i.t)("file_browser.open_in_new_tab"),onClick:()=>{u&&u(),P(h.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),f(e.id)},disabled:"trashedFolders"===o.view}),e.trashedAt)return U&&V.push({displayText:(0,i.t)("project_menu.restore"),onClick:()=>{(0,l.sx)("Folder Restore Click",{folderId:e.id,teamId:m,orgId:k}),b&&!(0,E.rR)(b,{type:E.sK.ADD_PROJECT})?P(j.to({type:R.DV,data:{team:b,resource:I.vL.FOLDER,action:N.ZN.CREATE_FOLDER,currentPlan:w.F.Plan.STARTER,upsellPlan:w.F.Plan.PRO,editorType:null,entryPoint:C.C.FILE_BROWSER_RESTORE_FOLDER}})):S({folderId:e.id,team:b}).catch(()=>{P(p.s.error((0,i.t)("file_browser.api_folder.error_when_restoring")))})},disabled:!U}),H&&V.push({displayText:(0,i.t)("project_menu.permanently_delete"),onClick:()=>{(0,l.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.teamId,orgId:k}),P(j.to({type:(0,x.U)(),data:{folder:e,folderOrgId:k}}))},disabled:!H}),[{key:"trashed",items:V}];V.push({displayText:(0,i.t)("file_browser.copy_link"),onClick:()=>{let r=(0,A.EE)(e.id,t);P(y.S({url:r,linkType:"project"}))}}),r||(z||V.push({displayText:(0,i.t)("sidebar.share"),onClick:()=>{P((0,T.jl)({folderId:e.id,loadedFolders:a})),P(j.to({type:O.WY,data:{folderId:e.id}}))}}),(k===D||m===D)&&V.push({displayText:(0,i.t)("sidebar.move_project"),onClick:()=>{P((0,T.jl)({folderId:e.id,loadedFolders:a})),P(j.to({type:g.J,data:{folderId:e.id}}))},disabled:!B}));let q=[];return!z&&(0,s.getFeatureFlags)().merge_project_context_menus&&q.push({key:"open",items:G}),q.push({key:"default",items:V}),q.push({key:"settings",items:[{displayText:(0,i.t)("project_menu.settings"),onClick:()=>{P(j.to({type:v.l,data:{folderId:e.id}}))},trackingEventName:"Folder Settings Click",trackingProperties:{folderId:e.id,entryPoint:"Folder Context Menu"}}]}),q}}function F({className:e,folder:t,shouldHideShareOption:r,trackSearchFolder:i}){let s=(0,n.d4)(e=>e.dropdownShown),l=(0,n.wA)(),c=(0,d.j6)(),u=D(t.id),_=s?.data?.targetRect;if(!_)return null;let m=u({folder:t,shouldHideShareOption:r,trackSearchFolder:i});return(0,a.jsx)(d.fu,{name:"Folder Context Menu",children:(0,a.jsx)(S.j,{className:e,items:(0,f.o)(m),parentRect:_,showPoint:!1,lean:"right",dispatch:l,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},l,t),e.trackingProperties&&(0,o.Cu)({...c.properties,trackingContext:e.trackingEventName||c.name,...e.trackingProperties})},shouldUsePortal:!0,autofocusPrevOnDismount:!0})})}r(526865)},591861(e,t,r){r.d(t,{m:()=>ec});var a=r(239976),n=r(105652),i=r(645186),s=r(850159),l=r(741542),o=r(574988),d=r(181645),c=r(1026),u=r(493094),_=r(863825),m=r(898312),p=r(422205),h=r(975756),f=r(328403),x=r(107783),g=r(425085),b=r(194757),v=r(985373),y=r(38900),j=r(786348),w=r(773201),C=r(141363),T=r(254842),k=r(590281),E=r(262900),I=r(708822);let A=(0,T.Mz)(I.h,e=>"team"===e.view?`${e.view}-${e.teamId}`:e.view),N=(0,T.Mz)(I.h,A,e=>e.viewBarSortOptionsByView,e=>e.tileSortFilterStateByView,(e,t,r,a)=>{if("team"===e.view){let e=a.team;return{sortKey:e.sort.key===E.C0.NAME?k.Dq.NAME:k.Dq.LAST_MODIFIED,sortDesc:e.sort.dir===E.ue.DESC}}return r[t]});var S=r(147911),R=r(883652),O=r(498314),D=r(129039),F=r(727280),M=r(166874),P=r(131079),L=r(640017),B=r(835048),U=r(487817),H=r(416815),W=r(360214),z=r(289886),V=r(687497),G=r(149108),q=r(641009);function K({folderId:e}){let t="trashedFolders"===(0,w._6)().view,r=(0,q.x)(e,t);return"loaded"!==r.status?(0,a.jsx)(W.Wi,{className:z.s.w48.$,animationType:W.JR.NO_SHIMMER}):(0,a.jsx)(V.E,{truncate:!0,children:(0,a.jsx)("span",{...o.Ay.props(H.g.textBodyMedium),children:(0,s.t)("file_browser.folder.number_of_files",{formattedNumFiles:(0,G.t)(r.data),numFiles:r.data})})})}function $(e){let t=e.folder.shared_at;return t?(0,a.jsx)(R.h1,{date:t}):(0,a.jsx)(V.E,{truncate:!0,children:"--"})}var Y=r(412427),J=r(846639);function X(e){let t=e.folder.shared_by_user?.name,r=e.folder.shared_by??null,n=(0,J.wW)(r).user;return r?(0,a.jsxs)("div",{className:z.s.flex.itemsCenter.gap8.$,children:[n&&(0,a.jsx)(Y.H8,{user:n,size:Y.Pf.MEDIUM}),(0,a.jsx)(V.E,{truncate:!0,children:t})]}):(0,a.jsx)(V.E,{truncate:!0,children:"--"})}function Q(e){let t=e.folder.trashed_at;return t?(0,a.jsx)(R.h1,{date:t}):(0,a.jsx)(V.E,{truncate:!0,children:"--"})}let Z={renderScreenReaderHeaderCell:()=>(0,s.t)("file_browser.generic_list_view.header_star_column"),renderInteractiveRowCell:(e,{isSelected:t,isHovered:r})=>(0,a.jsx)(ee,{folder:e,isSelected:t,isHovered:r})};function ee({folder:e,isSelected:t,isHovered:r}){let n=S.b(),i=(0,D.f)(e),s=(0,F.G)(e),l=!!(0,B.Y)(e.id,U.bk.FOLDER,i,s).favorite||t||r||n.manager.isOpen;return(0,a.jsx)("div",{...o.Ay.props(O.R.invisible,O.R.hoverTarget(l)),children:(0,a.jsx)(P.n,{folder:e,favoriteStarMenu:n})})}let et=({dataOnboardingKey:e,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:r}={})=>({headerCellStyles:ed.headerCellStyles,field:k.Dq.NAME,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_name_column"),renderStaticRowCell:(n,{itemIndex:i})=>{let s=!!r&&n.team_id===r.teamId&&r.isLockedTeam;return(0,a.jsx)(M.L,{folder:n,dataOnboardingKey:i===t?e:"",showViewOnlyLabel:s})}}),er={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_files_column"),renderStaticRowCell:e=>(0,a.jsx)(K,{folderId:e.id})},ea={field:k.Dq.LAST_MODIFIED,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)(R.h1,{date:e.folderLastUpdated??e.updated_at})})},en={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)(R.h1,{date:e.files_last_touched_at??e.updated_at})})},ei={field:k.Dq.CREATED_AT,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_created_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)(R.h1,{date:e.created_at})})},es={field:k.Dq.SHARED_AT,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)($,{folder:e})})},el={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)(X,{folder:e})})},eo={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,a.jsx)(L.B,{children:(0,a.jsx)(Q,{folder:e})})},ed={headerCellStyles:{kzqmXN:"x3hqpx7",$$css:!0}};function ec(e){let[t,r]=n.useState([]),o=(0,i.wA)(),T=(0,i.d4)(N),k=(0,w._6)(),E=(0,u.gY)(j.Ct),I=(0,c.MD)(t),A=(0,i.d4)(e=>e.teams),{columns:S,gutterColumn:R}=((e,t,r,a)=>{switch(e.view){case"recentsAndSharing":let n;return{gutterColumn:Z,columns:[et({dataOnboardingKey:(n={dataOnboardingKeyIndex:r,dataOnboardingKey:t}).dataOnboardingKey,dataOnboardingKeyIndex:n.dataOnboardingKeyIndex}),er,el,es]};case"search":return{gutterColumn:void 0,columns:[et({checksForViewOnlyLabels:a}),er,en,ei]};case"trashedFolders":let i;return{gutterColumn:void 0,columns:[et({dataOnboardingKey:(i={}).dataOnboardingKey,dataOnboardingKeyIndex:i.dataOnboardingKeyIndex}),er,eo]};default:let s;return{gutterColumn:Z,columns:[et({dataOnboardingKey:(s={dataOnboardingKeyIndex:r,dataOnboardingKey:t,checksForViewOnlyLabels:a}).dataOnboardingKey,dataOnboardingKeyIndex:s.dataOnboardingKeyIndex,checksForViewOnlyLabels:s.checksForViewOnlyLabels}),er,ea]}}})(k,e.dataOnboardingKey,e.dataOnboardingKeyIndex,e.checksForViewOnlyLabels),O=(0,f.EB)(),D=n.useCallback((e,t)=>{(0,d.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.team_id,orgId:t}),"loaded"===I.projects.status&&I.projects.data[e.id].canPermanentlyDelete&&o(y.to({type:(0,p.U)(),data:{folder:e,folderOrgId:t}}))},[o,I]),F=n.useCallback((e,t)=>{(0,d.sx)("Folder Trash Click",{folderId:e.id,teamId:e.team_id,orgId:t});let r=I.projects.data?.[e.id];r?.canSkipDeletionConfirmation?E({folderId:e.id}).catch(()=>{o(_.s.error((0,s.t)("file_browser.api_folder.error_when_moving_to_trash")))}):r?.canTrash&&o(y.to({type:(0,h.V)(),data:{folder:e}}))},[o,I,E]),M=n.useCallback(e=>{if(1!==e.length)return;let t=e[0],r=t.team_id,a=t&&r?A[r]:void 0,n=a?a.org_id:t.org_id;void 0===n&&(n=null),"trashedFolders"===k.view?D(t,n):F(t,n)},[F,D,k.view,A]),P=n.useCallback(t=>e.dataOnboardingKeyIndex&&e.folderList[e.dataOnboardingKeyIndex]?.id===t?"project-card":void 0,[e.dataOnboardingKeyIndex,e.folderList]);return(0,a.jsx)(b.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:eu.gridPadding,trailingGridElements:e.trailingGridElements,...(0,l.getFeatureFlags)().file_browser_folder_cards?{renderCard:({ref:t,item:r,isSelected:n,role:i,onFocus:s,onClick:l,onBlur:o})=>(0,a.jsx)(g.Z,{ref:t,cardRole:i,checksForViewOnlyLabels:e.checksForViewOnlyLabels,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:P(r.id),folder:r,isSelected:n,isSharerInfoIncluded:e.isSharerInfoIncluded,onBlur:o,onClick:l,onFocus:s},r.id)}:{tileBorderRadius:16,nestedFocus:!0,renderTile:(t,r)=>(0,a.jsx)(g.Z,{folder:t,dataOnboardingKey:P(t.id),isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:e.checksForViewOnlyLabels,inItemsView:!0,onChildFocusChange:r},t.id)}},handleContextMenu:e.onContextMenuOverride?e.onContextMenuOverride:(e,t)=>{t.stopPropagation(),t.preventDefault();let r=e[0];if(!r)return;let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(v.j7({type:x.B,data:{folder:{...(0,C.Bp)(r),isSubscribed:r.is_favorited},targetRect:a}}))},handleDeleteKey:M,handleOpenItem:(t,r)=>{"trashedFolders"!==k.view&&(o(m.kg({clickedResourceType:"team",resourceIdOrKey:t.id})),e.onOpenFolder&&e.onOpenFolder(t.id,r),O(t.id,r))},items:e.folderList,listViewProps:{columns:S,gutterColumn:R,currentSort:e.currentSortOverride?e.currentSortOverride:{field:T?.sortKey,isDescending:!!T?.sortDesc},handleSortBy:t=>{e.onChangeSortOptions({sortKey:t,sortDesc:t!==T?.sortKey||!T.sortDesc})}},multiselectDisabled:!0,updateRenderedItems:r,viewType:e.viewType})}let eu={gridPadding:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,$$css:!0}}},107783(e,t,r){function a(e){return e&&e.type===n?e.data.folder:null}r.d(t,{B:()=>n,H:()=>a});let n="nav-folder-context-menu"},782188(e,t,r){r.d(t,{X:()=>s});var a=r(239976),n=r(343902),i=r(289886);function s({FileThumbnailComponent:e}){return(0,a.jsx)("div",{className:i.s.grid.gridTemplateColumns2.gap12.wFull.hFull.$,children:Array.from({length:4}).map((t,r)=>(0,a.jsx)(n.q,{noBorder:!0,borderRadius:8,children:(0,a.jsx)(e,{})},r))})}},425085(e,t,r){r.d(t,{Z:()=>eg});var a=r(239976),n=r(105652),i=r(645186),s=r(916290),l=r(147911),o=r(459457),d=r(859978),c=r(757253),u=r(850159),_=r(741542),m=r(3752),p=r(779757);r(574988);var h=r(224542),f=r.n(h),x=r(181645),g=r(1026),b=r(921282),v=r(490753),y=r(140979),j=r(198788),w=r(623620),C=r(684325),T=r(360214),k=r(638871),E=r(824234),I=r(18518),A=r(343902),N=r(289886),S=r(687497),R=r(898312),O=r(707654),D=r(689024),F=r(432348);let M=n.forwardRef(function({topLeftThumbnailPreview:e,topRightThumbnailPreview:t,bottomLeftThumbnailPreview:r,bottomRightThumbnailPreview:n,title:i,subtitle:s,cardLabel:l,topRightContent:o,isSelected:d,onClick:c,onFocus:u,onBlur:_,cardRole:m,draggable:p},h){return(0,a.jsx)(F.R.Root,{isSelected:!!d,ref:h,cardLabel:l,onClick:c,onFocus:u,onBlur:_,cardRole:m,draggable:p,children:(0,a.jsxs)("div",{...{className:"x1n2onr6"},children:[o&&(0,a.jsx)("div",{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x1vjfegm x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:o}),(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x1dipnxa x1excjyp x1yjdb4r"},children:[(0,a.jsx)(P,{topLeftPreview:e,topRightPreview:t,bottomLeftPreview:r,bottomRightPreview:n}),(0,a.jsxs)("div",{...{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr"},children:[(0,a.jsx)(F.R.Title,{children:i}),(0,a.jsx)(F.R.Subtitle,{children:s})]})]})]})})});function P({topLeftPreview:e,topRightPreview:t,bottomLeftPreview:r,bottomRightPreview:n}){return(0,a.jsxs)("div",{className:"xrvj5dj x1p9eum2 x1i71x30 xh8yej3 x5yr21d",children:[e,t,r,n]})}var L=r(738109),B=r(129039),U=r(727280),H=r(328403),W=r(149108),z=r(107783),V=r(131079),G=r(389638),q=r(121267),K=r(643300),$=r(985373),Y=r(942496),J=r(74020),X=r(921840),Q=r(571916),Z=r(832763),ee=r(636773),et=r(641009),er=r(773201),ea=r(508295),en=r(487817),ei=r(644350),es=r(141363),el=r(309295),eo=r(164031),ed=r(328151),ec=r(782188);function eu(){return(0,a.jsx)(ec.X,{FileThumbnailComponent:e_})}function e_(){return(0,a.jsx)(A.q,{noBorder:!0,borderRadius:8,children:(0,a.jsx)(T.Qp,{animationType:T.JR.LIGHT_SHIMMER,className:f()(N.s.wFull.hFull.$)})})}let em="folder_list_card--fileTile--0Od0C";var ep=r(555346);let eh=n.forwardRef(function(e,t){let r=(0,i.wA)(),d=(0,er._6)(),c=(0,ea.TA)(),u=(0,B.f)(e.folder),h=(0,U.G)(e.folder),x=(0,ee.Um)(),b=l.b(),v=(0,y.bc)(ei.qjT,{resourceId:e.folder.id,resourceType:en.bk.FOLDER,orgId:u,teamId:u?null:h}),j=p.Qw.useTransform(v,e=>void 0!==(0,Q.eU)(e,en.bk.FOLDER)).unwrapOr(!!e.folder.is_favorited),w=(0,g.YO)(e.folder.id),C=(0,H.EB)(),T="loaded"===w.status&&!!w.data?.canCreateDesignFileWithReasons.result,E=p.Qw.useTransform(e.folderFilesResult,(0,n.useCallback)(e=>e,[])).unwrapOr(null),I=(0,n.useMemo)(()=>E?[...E].sort((e,t)=>e.touched_at===t.touched_at?0:e.touched_at<t.touched_at?1:-1).slice(0,4):null,[E]),A=n.useMemo(()=>(0,es.Bp)(e.folder),[e.folder]),N=(0,n.useMemo)(()=>{let t=(I??[]).map(t=>(0,a.jsx)(ew,{file:t,teamId:e.folder.team_id},t.key));for(;t.length<4;)t.push((0,a.jsx)(eE,{folderData:A,teamId:e.folder.team_id,canCreateFile:T},`${t.length}`));return t},[I,T,A,e.folder]);if((0,_.getFeatureFlags)().file_browser_folder_cards){let r=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,a.jsx)(M,{ref:t,bottomLeftThumbnailPreview:(0,a.jsx)(ef,{folderData:A,fileTilesResult:e.folderFilesResult,itemIndex:2,teamId:h,canCreateFile:T}),bottomRightThumbnailPreview:(0,a.jsx)(ef,{folderData:A,fileTilesResult:e.folderFilesResult,itemIndex:3,teamId:h,canCreateFile:T}),cardLabel:e.folderName,cardRole:e.cardRole,isHoverContentVisibleOverride:b.manager.isOpen,isSelected:e.isSelected,onBlur:e.onBlur,onClick:e.onClick,onFocus:e.onFocus,subtitle:(0,a.jsx)(ej,{folder:e.folder,folderTeamName:e.folderTeamName}),title:(0,a.jsx)(ey,{showViewOnlyLabel:r,folder:e.folder,folderName:e.folderName}),topLeftThumbnailPreview:(0,a.jsx)(ef,{folderData:A,fileTilesResult:e.folderFilesResult,itemIndex:0,teamId:h,canCreateFile:T}),topRightContent:"trashedFolders"===d.view?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(o.HG,{children:(0,a.jsx)(F.R.Overlay,{isHoverContentVisibleOverride:b.manager.isOpen,children:(0,a.jsx)(V.n,{folder:{...e.folder,is_subscribed:j},favoriteStarMenu:b})})}),topRightThumbnailPreview:(0,a.jsx)(ef,{folderData:A,fileTilesResult:e.folderFilesResult,itemIndex:1,teamId:h,canCreateFile:T})})}return(0,a.jsx)("div",{className:e.inItemsView?"folder_list_card--folderCardInItemsView--cP15c":"folder_list_card--folderCard--UK-LM",onClick:e.inItemsView?s.lQ:t=>{t.preventDefault(),t.stopPropagation(),(2===t.detail||m.A.mobile||m.A.tablet)&&"trashedFolders"!==d.view&&(r(R.kg({clickedResourceType:"team",resourceIdOrKey:e.folder.id})),(0,X.x)("file_browser_folder_click",e.folder,{selectedView:"recentsAndSharing"===d.view?d.tab:d.view,planFilterId:e.currentPlanFilter?.planId||null,planFilterType:e.currentPlanFilter?.planType||null,viewMode:"grid"}),C(e.folder.id,t))},onContextMenu:e.inItemsView?s.lQ:t=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};r($.j7({type:z.B,data:{folder:{...(0,es.Bp)(e.folder),description:e.folder.description,isSubscribed:j},targetRect:a}}))},"data-onboarding-key":e.dataOnboardingKey,tabIndex:0,children:(0,a.jsxs)("div",{className:"folder_list_card--folderCardContent--fon-l",children:[(0,a.jsx)(k.xv,{loaded:"loaded"===e.folderFilesResult.status,loadingSkeletonElement:(0,a.jsx)(eu,{}),children:(0,a.jsx)("div",{className:"folder_list_card--folderTiles--LWmEf",onFocus:e.onChildFocusChange,onBlur:e.onChildFocusChange,children:N})}),(0,a.jsxs)(a.Fragment,{children:["trashedFolders"===d.view?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{className:f()("folder_list_card--topRightControls--lWZC-",{"folder_list_card--topRightControlsVisible--yyYDk":x?.data?.resourceId===e.folder.id||j||b.manager.isOpen}),children:(0,a.jsx)(V.n,{folder:{...e.folder,is_subscribed:j},favoriteStarMenu:b})}),(0,a.jsx)("div",{className:"folder_list_card--folderCardFooter--e7YKx",children:(0,a.jsx)(ev,{...e,currentUserId:c,folder:e.folder,folderLastUpdated:e.folderLastUpdated,folderName:e.folderName,folderTeamName:e.folderTeamName,isSharerInfoIncluded:e.isSharerInfoIncluded,showFavoriteStar:!1})})]})]})})});function ef({folderData:e,fileTilesResult:t,itemIndex:r,teamId:n,canCreateFile:i}){let s=(0,er._6)();return(0,a.jsx)(k.xv,{loaded:"loaded"===t.status,loadingSkeletonElement:(0,a.jsx)(e_,{}),children:t.data?.[r]?"trashedFolders"===s.view?(0,a.jsx)(eC,{file:t.data[r]}):(0,a.jsx)(o.HG,{...{className:"x78zum5 xh8yej3"},children:(0,a.jsx)(eT,{file:t.data[r],teamId:n},r)}):(0,a.jsx)(eE,{folderData:e,teamId:n,canCreateFile:i})})}let ex=n.forwardRef(function(e,t){return(0,a.jsx)(C.tH,{boundaryKey:"FolderListCard",fallback:C.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,a.jsx)(eh,{ref:t,...e})})}),eg=n.forwardRef(function(e,t){let r=(0,er._6)(),n=(0,O.R)({folderId:e.folder.id,shouldShowOnlyTrashedFiles:"trashedFolders"===r.view});return(0,a.jsx)(ex,{ref:t,...e,...(0,G.Z)(e.folder),folderFilesResult:n})}),eb={open:!0,share:!0,copyLink:!0,delete:!0,moveFile:!0};function ev(e){let t=e.folder,r=e.folderTeamName,n=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,a.jsxs)("div",{className:"folder_list_card--folderInfoTile--nH-VS",children:[(0,a.jsx)(ey,{showViewOnlyLabel:n,folder:t,folderName:e.folderName}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"folder_list_card--folderInfoFooter--FgL5-",children:(0,a.jsx)("div",{className:"folder_list_card--folderActivity--HdcJD",children:(0,a.jsx)(ej,{folder:t,folderTeamName:r})})})})]})}function ey({showViewOnlyLabel:e,folder:t,folderName:r}){return(0,a.jsx)("div",{className:"folder_list_card--folderUpperRow--AYAiP",children:(0,a.jsxs)("div",{className:"folder_list_card--folderName--93E42 text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,a.jsx)(S.E,{fontSize:13,fontWeight:"medium",truncate:!0,showTooltipWhenTruncated:!1,children:r}),e&&(0,a.jsx)(o.HG,{children:(0,a.jsx)(w.Ex,{color:w.zE.WARNING_TERTIARY,text:(0,u.t)("locked_team.label.view_only"),dataTooltip:(0,u.t)("locked_team.label.tooltip"),dataTooltipType:ed.Ib.TEXT,className:"folder_list_card--viewOnlyLabel--q-V1W"})}),!e&&t.is_connected_project&&(0,a.jsx)("div",{className:N.s.pl4.$,children:(0,a.jsx)(o.HG,{children:(0,a.jsx)(D.W,{hostPlanName:t.resource_connection?.hostPlanName,connectedPlanName:t.resource_connection?.connectedPlanName})})})]})})}function ej({folder:e,folderTeamName:t}){let r="trashedFolders"===(0,er._6)().view,n=(0,et.x)(e.id,r);if("loaded"!==n.status)return(0,a.jsx)(T.Wi,{className:N.s.h16.w150.$,animationType:T.JR.NO_SHIMMER});let i=(0,u.t)("file_browser.folder.number_of_files",{numFiles:n.data,formattedNumFiles:(0,W.t)(n.data)});return(0,a.jsx)("div",{className:N.s.flex.flexRow.itemsCenter.justifyStart.overflowHidden.$,children:(0,a.jsxs)(S.E,{fontSize:11,truncate:!0,children:[t&&(0,a.jsxs)(a.Fragment,{children:[t,"\xa0\xb7\xa0"]}),i]})})}function ew({file:e,teamId:t}){return"trashedFolders"===(0,er._6)().view?(0,a.jsx)(eC,{file:e}):(0,a.jsx)(eT,{file:e,teamId:t})}function eC({file:e}){return(0,a.jsx)("div",{className:em,children:(0,a.jsx)(ek,{file:e})})}function eT({file:e,teamId:t}){let r=(0,i.wA)(),s=(0,L.v)(),{Sprig:l}=(0,j.A)(),o=n.useMemo(()=>(0,Z.fA)(e),[e]),{showing:c,show:u,data:_}=(0,K.L)(),m=!!_?.tile&&Z.Tf.getId(_.tile)===e.key,p=n.useCallback(a=>{a.stopPropagation(),a.preventDefault(),(2===a.detail||0===a.detail)&&(b.eD&&(0,x.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify({teamId:t})}),r(R.UN({fileKey:e.key,entrypoint:"folder list card",sprig:l})),s(o,a))},[s,r,o,e.key,t,l]),h=n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),u({data:{tile:o,targetRect:{top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1}}}),r(J.an()),r(J.y$({type:eo.F.FILES,tiles:[o]}))},[u,r,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.E,{className:f()(em,{"folder_list_card--selected--dUrjq":m}),onClick:p,onContextMenu:h,children:(0,a.jsx)(ek,{file:e})}),c?(0,a.jsx)(q.i,{tileActions:eb,tile:o,selectedTiles:[o],openTile:p,dropdownVisible:c}):null]})}function ek({file:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.NU,{file:e,borderRadius:8,noBorder:!0}),(0,a.jsx)("div",{className:"folder_list_card--fileTileOverlay--jsoUI",children:(0,a.jsx)("div",{className:"folder_list_card--fileTileOverlayText--q2pev",children:e.name})})]})}function eE({canCreateFile:e,folderData:t,teamId:r}){return e?(0,a.jsx)(eA,{folderData:t,teamId:r}):(0,a.jsx)(eI,{})}function eI(){return(0,a.jsx)(A.q,{borderRadius:8})}function eA({folderData:e,teamId:t}){let r=(0,i.wA)(),n=(0,i.d4)(e=>t?e.teams[t]:void 0);return(0,a.jsx)(c._,{href:"#",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":(0,u.t)("team_view.empty_file_tile.label"),className:"folder_list_card--emptyFileTile--P3v3s",onClick:t=>{t.preventDefault(),t.stopPropagation(),r(Y.zE({editorType:en._Y.DESIGN,folderData:e,team:n,from:el.f6.FILE_BROWSER_FOLDER_EMPTY_TILE,openNewFileIn:(0,v.oJ)(t)?el.ai.NEW_TAB:el.ai.SAME_TAB}))},trusted:!0,children:(0,a.jsx)(E.B,{svg:ep.A,"aria-hidden":!0})})}},269800(e,t,r){r.d(t,{l:()=>es});var a=r(239976),n=r(645186),i=r(395227),s=r(71239),l=r(297151),o=r(859978),d=r(208650),c=r(683579),u=r(850159),_=r(224542),m=r.n(_),p=r(195784),h=r(865804),f=r(1026),x=r(140979),g=r(493094),b=r(824234),v=r(289886),y=r(863825),j=r(34420),w=r(635862),C=r(813049),T=r(395232),k=r(555235),E=r(878521),I=r(732632),A=r(606335),N=r(27826),S=r(870527),R=r(227031),O=r(781924),D=r(613629),F=r(412427),M=r(800585),P=r(985373),L=r(38900),B=r(936652),U=r(928814),H=r(487817),W=r(331850),z=r(547898),V=r(3273),G=r(540653),q=r(573301),K=r(236986),$=r(735282),Y=r(237536);function J(e){let t,r=(0,W.S2)().unwrapOr(null),d=e.hasOwnProperty("resourceConnectionInvite"),c=d?e.resourceConnectionInvite.hostPlan:e.resourceConnection.hostPlan,_=d?e.resourceConnectionInvite.connectingPlan:e.resourceConnection.connectedPlan,m=d?e.resourceConnectionInvite.projectName:e.resourceConnection.projectName,p=d?e.resourceConnectionInvite.isHostPlanAdmin:e.resourceConnection.isHostPlanAdmin;if(null==c||null==_)throw Error("hostPlan or connectingPlan not found");let f=(0,n.wA)(),x=i.hS({...e,onClose:()=>{f(L.Ce())}}),g=(0,N.Hg)(d?void 0:e.resourceConnection.id),y=(0,N.Bs)(d?"":e.resourceConnection.id,p,!d&&!!e.resourceConnection.id),j=0,w=0,C=!d&&"loaded"===y.status;if(C){let{resourceConnectedUsersWithPlan:e,totalResourceConnectedUsers:t}=y.unwrapOr({resourceConnectedUsersWithPlan:[],totalResourceConnectedUsers:0});j=e?.filter(e=>e?.planId===_.id).length||0,w=t?Number(t)-j:0}let T="loading"===g.status,R=e=>e?e.toLocaleDateString((0,S.A)(e).locale(),{year:"numeric",month:"short",day:"numeric"}):"",B=(()=>{if(!d)return;let t=e.resourceConnectionInvite;return{inviteSentByTimestamp:t.createdAt,inviteSentBy:t.hostInviterName}})(),J=(()=>{if(d)return;let t=e.resourceConnection.resourceConnectionInvite;return{connectedByTimestamp:(p?t?.createdAt:t?.handledAt)??void 0,connectedBy:p?t?.hostInviterName:t?.handledByName}})(),X=(0,a.jsxs)("div",{className:$.YM,children:[(0,a.jsx)("div",{className:v.s.colorTextSecondary.$,children:p?(0,u.tx)("resource_connection.connected_by"):(0,u.tx)("resource_connection.approved_by")}),(0,a.jsx)("div",{children:(0,u.tx)("resource_connection.connected_by_info",{inviter:J?.connectedBy,timeStamp:R(J?.connectedByTimestamp)})})]});return(0,a.jsx)(h.fu,{name:"Manage Project Connection Modal",properties:{resourceConnectionId:d?null:e.resourceConnection.id,resourceConnectionInviteId:d?e.resourceConnectionInvite.id:null},children:(0,a.jsx)(s.bL,{manager:x,width:"md",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:(0,a.jsxs)("div",{className:$.g2,children:[(0,a.jsx)(k.K,{onClick:()=>{f(L.Lo())},"aria-label":(0,u.t)("resource_connection.aria_label.button"),children:(0,a.jsx)(A.C,{})}),(0,u.tx)("resource_connection.manage_connection")]})})}),(0,a.jsxs)(l.nB,{scrolling:"manual",padding:{top:16*!d,bottom:16,left:0,right:0},children:[d&&(0,a.jsx)("div",{className:v.s.mb16.$,children:(0,a.jsx)(O._,{rounded:!1,dataTestId:"viewer-upgrade-banner",color:O.S.PLAIN,text:(0,u.tx)("resource_connection.pending_modal.connecting_plan_hasnt_approved_invite_yet",{connectingPlan:_.name})})}),(0,a.jsxs)("div",{className:v.s.pl16.pr16.$,children:[(0,a.jsx)("div",{className:v.s.textBodyMediumStrong.pb4.$,children:(0,u.t)("resource_connection.teams")}),(0,a.jsxs)("div",{className:$.Ec,children:[(0,a.jsx)(F.nl,{size:F.Pf.MEDIUM,shape:"CIRCLE",team:c}),(0,a.jsxs)("div",{className:v.s.flex.flexColumn.$,children:[(0,a.jsx)("div",{children:c.name}),(0,a.jsxs)("span",{children:[C&&(0,a.jsxs)("span",{className:v.s.textBodyMedium.colorTextSecondary.$,children:[(0,u.t)("resource_connection.num_members",{count:w})," \xb7\xa0"]}),(0,a.jsx)(E.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD8C3M4MDEVKBHAFEQ",children:(0,u.t)("resource_connection.host")})]})]})]}),(0,a.jsxs)("div",{className:$.Ec,children:[(0,a.jsx)(F.nl,{size:F.Pf.MEDIUM,shape:"CIRCLE",team:_}),(0,a.jsxs)("div",{className:v.s.flex.flexColumn.$,children:[(0,a.jsx)("div",{children:_.name}),(0,a.jsx)("div",{className:v.s.textBodyMedium.colorTextSecondary.$,children:d?(0,u.tx)("resource_connection.invite_pending"):C?(0,u.t)("resource_connection.num_members",{count:j}):null})]})]}),(0,a.jsx)("div",{className:v.s.py8.$,children:!d&&(t=[],p&&e.resourceConnection.projectTeamId&&t.push({label:(0,u.t)("resource_connection.manage_modal.libraries"),description:T?void 0:g.data?(0,u.t)("resource_connection.n_libraries_in_connected_project",{count:g.data}):(0,u.t)("resource_connection.manage_modal.allow_external_teams_to_use_libraries"),onClick:()=>{f(L.to({type:q.T,data:{teamId:e.resourceConnection.projectTeamId,entrypoint:G.r6.CONNECTED_PROJECT_MANAGE_MODAL,resourceConnection:{id:e.resourceConnection.id,projectName:m,hostPlanType:c.type}}}))}}),t).map((e,t)=>(0,a.jsxs)(o.E,{className:$.lK,onClick:e.onClick,children:[(0,a.jsxs)("div",{className:v.s.flex.flexColumn.my6.$,children:[(0,a.jsx)("div",{className:$.ed,children:e.label}),e.description&&(0,a.jsx)("div",{className:$.q3,children:e.description})]}),(0,a.jsx)("span",{className:$.zc,children:(0,a.jsx)(b.B,{svg:Y.A})})]},t))}),d?(0,a.jsxs)("div",{className:$.YM,children:[(0,a.jsx)("div",{className:v.s.colorTextSecondary.$,children:(0,u.tx)("resource_connection.invite_sent")}),(0,a.jsx)("div",{children:(0,u.tx)("resource_connection.invite_sent_info",{inviter:B?.inviteSentBy,timeStamp:R(B?.inviteSentByTimestamp)})})]}):X,(0,a.jsx)("div",{className:v.s.mb8.mt12.$,children:(0,a.jsx)(I.$n,{variant:"link",onClick:()=>{r&&(r.key.type===H.OL.ORG?f(P.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:z.J7.CONTENT,orgAdminSettingsViewSecondaryTab:z.SN.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})):r.key.type===H.OL.TEAM&&f(P.sf({view:"teamAdminConsole",teamId:r.key.parentId,isProTeam:r.tier===H.Ag.PRO,teamAdminConsoleViewTab:V.Iv.CONTENT,teamAdminConsoleViewSecondaryTab:V.F9.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})),f(L.Ce()))},children:(0,u.t)("resource_connection.manage_modal.view_in_admin_dashboard")})})]})]}),(0,a.jsx)(l.wi,{children:(0,a.jsxs)("div",{className:$.Vr,children:[(0,a.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank",children:(0,a.jsx)(I.$n,{variant:"link",onClick:U.dG,children:(0,u.tx)("resource_connection.request_modal.learn_more")})}),(0,a.jsx)(I.$n,{variant:"destructiveSecondary",onClick:d?()=>{f(L.to({type:M.h,data:{resourceConnectionInvite:e.resourceConnectionInvite}}))}:()=>{e.resourceConnection.projectTeamId?f(L.to({type:K.K,data:{resourceConnectionId:e.resourceConnection.id,projectName:m,projectId:e.resourceConnection.projectId,projectTeamId:e.resourceConnection.projectTeamId,hostPlan:c,connectedPlan:_,isHostPlanAdmin:p}})):f(D.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.generic_error")}))},children:d?(0,u.tx)("resource_connection.pending_modal.revoke_invite"):(0,u.tx)("resource_connection.manage_modal.deactivate")})]})})]})})})}let X=(0,B.Ju)(function(e){return(0,a.jsx)(R.u9,{label:"ResourceConnectManageModal",children:(0,a.jsx)(J,{...e})})},"ResourceConnectManageModal");var Q=r(689738),Z=r(923696),ee=r(975756),et=r(98325),er=r(786348),ea=r(481934),en=r(644350),ei=r(328151);let es=(0,B.Ju)(function(e){let t,r=i.hS({open:e.open,onClose:e.onClose}),{folderId:_}=e,k=(0,h.j6)(),E=(0,x.bc)(en.SWF,{projectId:_}),I=E.data?.project,A=((e,t)=>{let r=(0,f.YO)(e),a=(0,x.bc)(en.SWF,{projectId:e}),i=(0,n.wA)(),s=(0,g.gY)(er.Ct),l=a.data?.project,o=l?.activeProjectResourceConnections,d=o?.length?o[0]:null,c=l?.plan,_=d?l?.connectedPlan:null,m=l?.pendingResourceConnectionInvite,p=l?.pendingAssetTransferRequest,h=l?.team?.pendingAssetTransferRequest,b=(0,ea.N)(c?.key,()=>{c&&i(L.to({type:T.B,data:{folder:{...l,plan:c},entryPoint:j.wR.PROJECT_SETTINGS,assetTransferRequestWarning:!!(p&&!p.isTransferCopy)}}))});if([r,a].some(e=>"loaded"!==e.status&&"disabled"!==e.status))return[];let v=r.data;if(!v||!l)return[];let k=e=>{i(L.to({type:(0,C.Lg)(),data:{folderId:l.id,teamId:l.teamId,entryPoint:C.Lq.PROJECT_SETTINGS,shouldTransferCopy:e}}))},E=[{label:(0,u.tx)("file_browser.folder_settings_modal.name"),description:l.name,onClick:()=>{i(L.to({type:(0,w.y)(),data:{folder:{...l,team_id:l.teamId}}}))},disabled:!v.canEdit,noDisabledStyling:!0,noChevron:!v.canEdit},{label:(0,u.tx)("file_browser.folder_settings_modal.description"),description:l.description&&""!==l.description?l.description:v.canEdit?(0,u.tx)("file_browser.folder_settings_modal.add_description"):(0,u.tx)("file_browser.folder_settings_modal.no_description_added_yet"),onClick:()=>{i(L.to({type:(0,Z.C)(),data:{folder:l}}))},disabled:!v.canEdit,noDisabledStyling:!0,noChevron:!v.canEdit},{label:"",separator:!0}],I=v.isPlanAdmin&&v.planCanConnectWithReasons?.publicDenyReasons&&1===v.planCanConnectWithReasons.publicDenyReasons.length&&v.planCanConnectWithReasons.publicDenyReasons[0]===H.QK.PLAN_DENY_CAN_CONNECT_IF_AT_CONNECTION_LIMIT,A=v.canConnect||I,N=c?.isAdmin,S=_?.isAdmin;return d&&(N||S)?E.push({label:(0,u.t)("file_browser.folder_settings_modal.manage_connection"),description:N?(0,u.t)("file_browser.folder_settings_modal.manage_connection_description"):void 0,onClick:()=>{d&&i(L.to({type:X,data:{resourceConnection:{...d,hostPlan:{id:d.hostPlanId,name:d.hostPlanName,imgUrl:d.hostPlanImageUrl,type:d.hostPlanType},connectedPlan:{id:d.connectedPlanId,name:d.connectedPlanName,imgUrl:d.connectedPlanImageUrl,type:d.connectedPlanType},projectName:l.name,projectTeamId:l.teamId,projectId:l.id,resourceConnectionInvite:d.resourceConnectionInvite??void 0,isHostPlanAdmin:d.isHostPlanAdmin}}}))}}):m&&N?E.push({label:(0,u.t)("file_browser.folder_settings_modal.manage_connection"),description:(0,u.t)("file_browser.folder_settings_modal.manage_connection_description"),onClick:()=>{m&&i(L.to({type:X,data:{resourceConnectionInvite:{...m,hostPlan:{id:m.hostPlanId,name:m.hostPlanName,imgUrl:m.hostPlanImageUrl,type:m.hostPlanType},connectingPlan:{id:m.connectingPlanId,name:m.connectingPlanName,imgUrl:m.connectingPlanImageUrl,type:m.connectingPlanType},projectName:l.name,isHostPlanAdmin:m.isHostPlanAdmin}}}))}}):A&&E.push({label:(0,u.t)("file_browser.folder_settings_modal.connect_with_external_plan"),onClick:b,disabled:!!h,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_connect_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Connect Click",trackingProperties:{folderId:l.id}}),p?(v.isPlanMember||v.isPlanAdmin)&&E.push({label:(0,u.t)("project_menu.manage_transfer_request"),onClick:()=>{p&&i(L.to({type:(0,et.d)(),data:{pending:p&&{id:p.id,source_user_email:p.sourceUser?.email,destination_user_email:p.destinationUser?.email,is_transfer_copy:p.isTransferCopy},canRevokeProjectTransfer:p.isTransferCopy?v.canTransferCopy:v.canTransferExternally}}))}}):(m||d||!v.canTransferExternally||E.push({label:(0,u.t)("project_menu.transfer"),onClick:()=>{k(!1)},disabled:!!h,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}}),v.canTransferCopy&&E.push({label:(0,u.t)("project_menu.send_a_copy"),onClick:()=>{k(!0)},disabled:!!h,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Copy Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}})),E.push({label:"",separator:!0}),v.canTrash&&E.push({label:(0,u.tx)("project_menu.move_to_trash"),onClick:()=>{let e=p?Q.cm.PENDING_ASSET_TRANSFER:m?Q.cm.PENDING_RESOURCE_CONNECTION:d?Q.cm.ACTIVE_RESOURCE_CONNECTION:null;v.canSkipDeletionConfirmation&&!e?(s({folderId:l.id}).catch(()=>{i(y.s.error((0,u.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t()):i(L.to({type:(0,ee.V)(),data:{folder:l,folderState:e}}))},noChevron:!0,trackingEventName:"Folder Trash Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}}),!v.canTrashWithReasons?.result&&v.canTrashWithReasons?.publicDenyReasons.includes(H.QK.CONNECTED_FOLDER_DENY_CAN_TRASH_DESPITE_CAN_MANAGE_LIFECYCLE)&&E.push({label:(0,u.tx)("project_menu.move_to_trash"),disabled:!0,disabledMessage:v.isPlanAdmin?(0,u.t)("file_browser.folder_settings_modal.tooltip.disconnect_folder_before_moving_to_trash"):(0,u.t)("file_browser.folder_settings_modal.tooltip.contact_your_admin_to_disconnect_folder_before_moving_to_trash"),noChevron:!0}),E})(_,e.onClose);return I?(0,a.jsx)(h.fu,{name:"Folder Settings Modal",properties:{folderId:I?.id},children:(0,a.jsx)(s.bL,{manager:r,width:"lg",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:(0,u.tx)("file_browser.folder_settings_modal.settings")})}),(0,a.jsx)(l.nB,{scrolling:"manual",children:A&&(t=!1,A.slice().reverse().filter(e=>(t||e.separator||(t=!0),t||!e.separator)).reverse().filter((e,t,r)=>!e.separator||0===t||!r[t-1]?.separator)).map((e,t)=>{let r=e.disabled&&!e.noDisabledStyling,n=!e.noChevron&&!e.disabled,i=e.showNewBadge||n||r;return e.separator?(0,a.jsx)("div",{className:"folder_settings_modal--separator--QhhYx"},t):(0,a.jsxs)(o.E,{className:m()("folder_settings_modal--settingsOption--YNmZp",e.disabled&&"folder_settings_modal--settingsOptionDisabled--kOYTD"),disabled:e.disabled,onClick:()=>{!e.disabled&&(e.onClick&&e.onClick(),(e.trackingEventName||e.trackingProperties)&&(0,p.Cu)({...k.properties,trackingContext:e.trackingEventName||k.name,...e.trackingProperties}))},children:[(0,a.jsxs)("div",{className:v.s.flex.flexColumn.my6.$,children:[(0,a.jsx)("div",{className:m()("folder_settings_modal--optionLabel--FnlGD",r&&v.s.colorTextSecondary.$),children:e.label}),e.description&&(0,a.jsx)("div",{className:"folder_settings_modal--optionDescription--xs1QH",children:e.description})]}),i&&(0,a.jsxs)("div",{className:"folder_settings_modal--rightSideOptions--g1a-D",children:[e.showNewBadge&&(0,a.jsx)(d.E,{variant:"brandFilled",children:(0,u.tx)("resource_connection.onboarding.new")}),n&&(0,a.jsx)("span",{className:"folder_settings_modal--iconContainer--i6Wca",children:(0,a.jsx)(b.B,{svg:Y.A})}),r&&(0,a.jsx)("div",{className:"folder_settings_modal--infoIconWrapper--pgN7P",...e.disabled&&e.disabledMessage?{"data-tooltip":e.disabledMessage,"data-tooltip-type":ei.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-max-width":210,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{},children:(0,a.jsx)(c.B,{})})]})]},t)})})]})})}):(0,a.jsx)(a.Fragment,{})},"FolderSettingsModal")},131079(e,t,r){r.d(t,{n:()=>u});var a=r(239976),n=r(105652),i=r(645186),s=r(129039);if(1464==r.j)var l=r(370963);var o=r(154077),d=r(282008);if(1464==r.j)var c=r(487817);function u(e){let{folder:t}=e,r=(0,i.wA)(),u=(0,s.f)(e.folder),_=e.folder.team_id,m=(0,d.jm)(u,_),p=n.useCallback(({favoriteId:e,sectionId:a})=>{r(o.Mv({entrypoint:"folder_list_card",favoriteId:e,sectionId:a,folder:t}))},[r,t]),h=n.useCallback(({favoriteId:e})=>{r(o.jv({entrypoint:"folder_list_card",favoriteId:e,folderId:t.id}))},[r,t]);return m?(0,a.jsx)(l.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:p,removeFavorite:h,favoriteType:c.bk.FOLDER,resourceId:e.folder.id,orgId:u,teamId:_}):(0,a.jsx)(a.Fragment,{})}},485850(e,t,r){r.d(t,{V:()=>d});var a=r(239976),n=r(645186),i=r(832763),s=r(508295);if(1464==r.j)var l=r(883482);var o=r(760313);function d(e){let t=i.Tf.getFileOrSelectedBranchKey(e.tile)||"",r=(0,s.Pc)(),d=Object.values((0,n.d4)((0,l.Z)(t)));return d.length?(0,a.jsx)(o.W,{entityList:d,maxNumHeads:3,currentUser:r,overlapped:!0}):null}},508368(e,t,r){r.d(t,{e:()=>c});var a=r(239976),n=r(105652),i=r(645186);if(1464==r.j)var s=r(370963);var l=r(154077),o=r(282008),d=r(832763);function c(e){let t=(0,i.wA)(),r=n.useCallback(({favoriteId:r,sectionId:a})=>{t(l.EX({entrypoint:e.entrypoint,favoriteId:r,sectionId:a,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),c=n.useCallback(({favoriteId:r})=>{t(l.dy({entrypoint:e.entrypoint,favoriteId:r,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),u=d.Tf.getOrgId(e.tile)??null,_=d.Tf.getFavoriteResourceTeamId(e.tile)??null;return(0,o.jm)(u,_)?(0,a.jsx)(s.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:r,removeFavorite:c,favoriteType:d.Tf.getFavoritedResourceType(e.tile),resourceId:d.Tf.getFavoriteResourceId(e.tile)||"",orgId:d.Tf.getOrgId(e.tile)??null,teamId:d.Tf.getFavoriteResourceTeamId(e.tile)??null}):(0,a.jsx)(a.Fragment,{})}},503274(e,t,r){r.d(t,{M:()=>i});var a=r(239976),n=r(883652);function i(e){let t=e.getDateFromGenericTile(e.tile),r=(0,n.Ak)(t);return(0,a.jsx)(a.Fragment,{children:r??"--"})}},640017(e,t,r){r.d(t,{B:()=>l});var a=r(239976);if(1464==r.j)var n=r(416815);var i=r(574988),s=r(687497);function l({truncate:e=!1,children:t}){return(0,a.jsx)(s.E,{truncate:e,children:(0,a.jsx)("span",{...i.Ay.props(n.g.textBodyMedium),children:t})})}},257155(e,t,r){r.d(t,{RI:()=>j,_S:()=>w,m3:()=>y});var a=r(239976),n=r(105652),i=r(645186),s=r(850159),l=r(224542),o=r.n(l),d=r(921424),c=r(985373),u=r(414192),_=r(571959),m=r(38900),p=r(773201),h=r(219567),f=r(304948),x=r(331850),g=r(856201),b=r(528727);let v="org_team_action--showBlueBorder--rV97e";function y(e){let[t,r]=n.useState(!1),l=(0,i.wA)(),u=(0,i.d4)(e=>e.teamRoleRequests),_=(0,i.d4)(e=>e.currentUserOrgId),m=(0,i.d4)(e=>(0,f.getPermissionsState)(e)),g=(0,p._6)(),b=(0,x.px)(),y=(0,x.j_)(b).unwrapOr(!1),C=(0,h.YP)(e.team,u[e.team.id],m,y);e.isCurrentUserInTeam&&C===h.gO.CLICK_REQUEST&&(C=null);let T=t=>{t.stopPropagation(),t.preventDefault(),l(c.oB()),null!=C&&w({type:C,team:e.team,onLeave:e.onLeave,onJoin:e.onJoin,onJoinAsAdmin:e.onJoinAsAdmin,dispatch:l,teamRoleRequest:u[e.team.id]})},k=()=>{r(!0)},E=()=>{r(!1)};if(g?.view==="search"&&e.team.org_id!==_||null===C||C===h.gO.CLICK_JOIN||C===h.gO.CLICK_JOIN_AS_ADMIN)return(0,a.jsx)(a.Fragment,{});let I=j({type:C,overrideLeaveText:t||e.isCardActive?(0,s.t)("team_list.org_join_status_leave"):void 0}),A={className:(()=>{switch(C){case h.gO.CLICK_LEAVE:return o()("org_team_action--buttonNegative--kk0Qt org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v);case h.gO.CLICK_REQUEST:return o()("org_team_action--requestButton--sAKWV org_team_action--requestButton--sAKWV org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v);default:return o()("org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v)}})(),onClick:T,onMouseOver:k,onMouseLeave:E,children:I};return C===h.gO.CLICK_LEAVE?(0,a.jsx)(d.s6,{className:A.className,onClick:T,onMouseOver:k,onMouseLeave:E,"aria-describedby":e.titleId,children:I}):(0,a.jsx)(d.nR,{...A,"aria-describedby":e.titleId})}function j({type:e,overrideLeaveText:t}){switch(e){case h.gO.CLICK_LEAVE:if(t)return t;return(0,s.t)("team_list.org_join_status_joined");case h.gO.CLICK_WITHDRAW:return(0,s.t)("teams_table.cancel_join_request");case h.gO.CLICK_JOIN:return(0,s.t)("teams_table.join_team");case h.gO.CLICK_JOIN_AS_ADMIN:return(0,s.t)("teams_table.join_team_as_admin");case h.gO.BYPASS_REQUEST:return(0,s.t)("teams_table.join_team_as_owner");case h.gO.CLICK_REQUEST:return(0,s.t)("teams_table.ask_to_join")}}function w({type:e,team:t,teamRoleRequest:r,onLeave:a,onJoin:n,onJoinAsAdmin:i,dispatch:s}){switch(e){case h.gO.CLICK_LEAVE:a(t);return;case h.gO.CLICK_WITHDRAW:r&&s(u.lT({requestId:r.id}));return;case h.gO.CLICK_JOIN:n?.(t.id);return;case h.gO.CLICK_JOIN_AS_ADMIN:i?.(t.id);return;case h.gO.BYPASS_REQUEST:(0,_.GR)(s,t.id,g.e6.OWNER)();return;case h.gO.CLICK_REQUEST:s(m.to({type:b.$,data:{team:t}}));return}}},821673(e,t,r){r.d(t,{W:()=>l});var a=r(239976),n=r(105652),i=r(90550),s=r(257155);class l extends n.Component{constructor(){super(...arguments),this.state={isJoining:!1,isRedirecting:!1},this.onJoin=e=>{this.setState({isJoining:!0},()=>{this.props.onJoin&&this.props.onJoin(e)})}}componentDidUpdate(e){!(e.isCurrentUserInTeam&&!e.isLoading)&&this.props.isCurrentUserInTeam&&!this.props.isLoading&&this.state.isJoining&&this.setState({isRedirecting:!0},()=>{this.props.onOpenTeam()})}render(){let e=this.props.isLoading||this.state.isRedirecting;return(0,a.jsxs)("div",{className:e?"redirecting_org_team_action--containerLoading--HwKtN redirecting_org_team_action--_container--djJ8t":"redirecting_org_team_action--container--l6-ng redirecting_org_team_action--_container--djJ8t",children:[(0,a.jsx)("div",{className:`redirecting_org_team_action--spinner--1qTB5 ${this.props.spinnerClassName||""}`,children:e&&(0,a.jsx)(i.kt,{})}),(0,a.jsx)("div",{className:"redirecting_org_team_action--button--urVbT",children:(0,a.jsx)(s.m3,{...this.props,onJoin:this.onJoin})})]})}}},389638(e,t,r){r.d(t,{Z:()=>n});var a=r(235532);function n(e){return{folderName:(0,a.CI)(e),folderTeamName:e.parent_team?.name??null,folderLastUpdated:new Date(e.touched_at),folderSharedAt:e.shared_at?new Date(e.shared_at):null}}},954007(e,t,r){r.d(t,{F:()=>A,W:()=>N});var a=r(239976),n=r(645186),i=r(557998),s=r(850159),l=r(921282),o=r(140979);if(1464==r.j)var d=r(863825);if(1464==r.j)var c=r(860920);var u=r(9348);if(1464==r.j)var _=r(396041);var m=r(257155),p=r(904511),h=r(985373),f=r(571959),x=r(38900);if(1464==r.j)var g=r(487817);var b=r(644350),v=r(219567),y=r(304948),j=r(458983),w=r(856201),C=r(852734),T=r(145334),k=r(165617),E=r(489365),I=r(621995);function A(e){let t=(0,n.d4)(e=>(0,y.getPermissionsState)(e)),r=(0,n.d4)(e=>e.selectedView),a=(0,n.d4)(e=>e.teamRoleRequests),i=(0,n.wA)(),o=(0,_.s)(),c=(0,u.TS)(),b=(0,u.Vj)();return({onRenameClick:n,onChangeTeamIconClick:u,selectedTeamPermissions:_,team:y,shouldBlockTeamActionsDuringDTMMigration:j,overrideOpenAndInviteOptions:k})=>{let A=()=>{i(h.oB()),i(x.to({type:I.p,data:{teamId:y.id}}))},N=(0,f.GR)(i,y.id),S=(0,f.GR)(i,y.id,w.e6.ADMIN),R=e=>{i(x.to({type:I.p,data:{teamId:e.id}}))},O=()=>{i(h.oB());let e=!!y.org_id,t=e=>{i(x.to({type:E.H,data:{team:y,subscriptionStatus:e}}))};e?t(!0):T.$.getSubscriptionStatus({teamId:y.id}).then(({data:e})=>{t(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&i(d.s.error(e.data.message))})},D=t.roles.byTeamId[y.id]||{},F=Object.keys(D).filter(e=>!D[e].pending).length,M=_.canAdminOrg,P=y?.org_access===g.bU.PUBLIC||F>1,L=[];L.push({displayText:(0,s.t)("general.open"),onClick:()=>{e&&e(y.id,null),c(y.id)}}),l.eD||L.push({displayText:(0,s.t)("file_browser.open_in_new_tab"),onClick:()=>{e&&e(y.id,null),b(y.id)}});let B=[];if(B.push({displayText:(0,s.t)("file_browser.copy_link"),onClick:()=>{let e=(0,C.bL)(y.id,y.org_id);i(p.S({url:e,linkType:"team"}))}}),"search"===r.view&&y.org_id!==t.currentUserOrgId)return[{key:"search",items:B}];k||B.push({displayText:(0,s.t)("file_browser.team.invite"),onClick:()=>{o({teamId:y.id,canAdmin:_.canAdmin})}}),_.canAdmin&&B.push({displayText:(0,s.t)("team_view.toolbar.rename"),onClick:()=>{i(h.oB()),n&&n(y)}}),_.canAdmin&&u&&B.push({displayText:(0,s.t)("team_view.toolbar.change_icon"),onClick:()=>{i(h.oB()),u&&u(y)}});let U=[];k||U.push({key:"open-team",items:L}),U.push({key:"default",items:B});let H=(()=>{let e=[];if(_.isInTeam)P&&e.push({displayText:(0,s.t)("team_view.toolbar.leave_team"),onClick:A});else if(y.org_id){let r=(0,v.YP)(y,a[y.id],t,M);null!=r&&r!==v.gO.CLICK_JOIN&&e.push({displayText:(0,m.RI)({type:r,overrideLeaveText:(0,s.t)("teams_table.leave_team")}),onClick:()=>{(0,m._S)({type:r,team:y,teamRoleRequest:a[y.id],onLeave:R,onJoin:N,onJoinAsAdmin:S,dispatch:i})}})}return _.canDelete&&e.push({displayText:(0,s.t)("team_view.toolbar.delete_team"),onClick:j?()=>{}:O,disabled:j}),e})();return H.length>0&&U.push({key:"admin",items:H}),U}}function N({className:e,team:t,onRenameClick:r,onChangeTeamIconClick:s,selectedTeamPermissions:l,overrideOpenAndInviteOptions:d,trackSearchClick:u}){let _=(0,n.d4)(e=>e.dropdownShown),m=(0,n.wA)(),p=A(u),h=(0,j.PS)(t),f=(0,o.Rs)(b.InN,{},{enabled:h}),x=(0,i.unwrap)(f.data?.personalDraftToPlanDraftLocation),g=x?.planParentId===t.id&&x?.status==="started";if(!l)return null;let v=p({team:t,onRenameClick:r,onChangeTeamIconClick:s,selectedTeamPermissions:l,shouldBlockTeamActionsDuringDTMMigration:g,overrideOpenAndInviteOptions:d});return(0,a.jsx)(k.j,{className:e,items:(0,c.o)(v),parentRect:_?.data?.targetRect,showPoint:!1,lean:"right",dispatch:m,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},m,t)},autofocusPrevOnDismount:!0})}},575569(e,t,r){r.d(t,{C:()=>o});var a=r(239976);if(1464==r.j)var n=r(732632);if(1464==r.j)var i=r(53620);var s=r(850159);r(574988);var l=r(795755);function o(e){return(0,a.jsxs)("div",{className:l.p$,children:[(0,a.jsx)("div",{className:l._U,children:(0,s.tx)("team_tile.no_teams.title")}),e.onCreateTeam&&(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl"},children:[(0,a.jsx)("p",{children:(0,s.tx)("team_tile.no_teams.info")}),(0,a.jsx)(n.$n,{onClick:e.onCreateTeam,variant:"secondary",iconPrefix:(0,a.jsx)(i.e,{}),children:(0,s.tx)("team_tile.no_teams.create_team_button")})]})]})}},807945(e,t,r){r.d(t,{w:()=>ev});var a=r(239976),n=r(105652),i=r(645186);r(574988);var s=r(158514),l=r(490753),o=r(916290),d=r(863825),c=r(689738),u=r(450116),_=r(472665),m=r(9348),p=r(194757),h=r(954007),f=r(575569),x=r(567019),g=r(459457),b=r(739565),v=r(147911),y=r(831407),j=r(850159),w=r(741542),C=r(289886),T=r(412427),k=r(687497),E=r(898312),I=r(432348),A=r(674470),N=r(821673),S=r(835048),R=r(370963),O=r(154077),D=r(985373),F=r(402713),M=r(38900),P=r(385990),L=r(487817),B=r(943634),U=r(539678),H=r(219567),W=r(331850),z=r(528727),V=r(69806),G=r(795755),q=r(657651);function K({team:e,titleId:t}){let r,n,i;e.org_access===L.bU.PRIVATE?(r=(0,j.t)("file_browser.team_header.closed_team_header"),n=(0,j.t)("file_browser.team_header.closed_team_subtitle"),i=(0,j.t)("file_browser.team_header.closed_team_sr_only_text")):e.org_access===L.bU.SECRET&&(n=(0,j.t)("file_browser.team_header.secret_team_subtitle"),r=(0,j.t)("file_browser.team_header.secret_team_header"),i=(0,j.t)("file_browser.team_header.secret_team_sr_only_text"));let s=x.iv({placement:"bottom",offset:4});return(0,a.jsxs)("span",{...{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh"},children:[(0,a.jsx)(k.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,a.jsx)("span",{id:t,children:e.name})}),e.org_access===L.bU.PRIVATE||e.org_access===L.bU.SECRET?(0,a.jsx)(g.HG,{children:(0,a.jsxs)(b.o,{eventListeners:["onClick"],children:[(0,a.jsx)(x.Uj,{...s.getTriggerProps(),"aria-label":i??"",children:(0,a.jsx)(y.s,{})}),(0,a.jsx)(x.mc,{manager:s,children:(0,a.jsxs)(x.UC,{children:[r,(0,a.jsx)("div",{className:"x1n0bwc9",children:n})]})})]})}):void 0]})}function $({team:e,inSearchView:t,isCurrentUserInTeam:r}){let n=(0,U.x)(),s=(0,i.d4)(e=>e.orgById),l=e.member_count??0,o=e.org_id&&s[e.org_id]||e.id&&n[e.id],d=(0,j.tx)("team_tile.members_count",{numMembers:l});return(0,a.jsxs)("div",{className:C.s.flex.flexRow.itemsCenter.$,children:[t&&o&&(0,a.jsx)(V.H,{entityId:o.id,entityName:o.name,imgUrl:o.img_url}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,j.tx)("team_list.org_join_status_joined"),(0,a.jsx)("span",{children:"\xa0\xb7\xa0"})]}),(0,a.jsx)("span",{children:d})]})}let Y=n.forwardRef(function({team:e,teamPermissions:t,isSelected:r,onJoin:s,onLeave:l,cardRole:o,onClick:d,onFocus:c,onBlur:u,draggable:_},p){let h=(0,i.wA)(),f=n.useId(),x=(0,i.d4)(e=>e.currentUserOrgId),g=(0,i.d4)(({selectedView:e})=>e),b=(0,i.d4)(e=>e.loadingState),y=(0,S.Y)(e.id,L.bk.TEAM,x),j=n.useMemo(()=>"loaded"===y.status&&void 0!==y.favorite,[y]),C=v.b(),k=(0,W.No)().unwrapOr(null),U=(0,P.y)(k?.planRecordId),V=t?.isInTeam??!1,Y=t?.canView??!1,J=(0,m.lo)(),X=n.useCallback(({favoriteId:t,sectionId:r})=>{h(O.DN({team:e,entrypoint:"org_browse_teams_view",sectionId:r,favoriteId:t}))},[h,e]),Q=n.useCallback(({favoriteId:t})=>{h(O.ox({team:e,entrypoint:"org_browse_teams_view",favoriteId:t}))},[h,e]),Z=(0,a.jsxs)("div",{...{className:"x78zum5 xg2d0mh"},children:[(0,a.jsx)(I.R.Overlay,{children:(0,a.jsx)(N.W,{team:e,isCurrentUserInTeam:V,isLoading:(0,B.VP)(b,(0,H.p9)(e.id)),onOpenTeam:()=>{if(!Y)return void h(M.to({type:z.$,data:{team:e}}));(0,F._)("file_browser_team_click",e,{selectedView:"recentsAndSharing"===g.view?g.tab:g.view,viewMode:"grid"}),h(E.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),(0,w.getFeatureFlags)().file_browser_search_panel_fpl_migration?J(e):h(D.sf({view:"team",teamId:e.id}))},onJoin:s,onLeave:l,spinnerClassName:G.Ys,titleId:f,isCardActive:!0})}),x&&Y&&(0,a.jsx)(I.R.Overlay,{isHoverContentVisibleOverride:j,children:(0,a.jsx)(R.H,{favoriteStarMenu:C,setFavorite:X,removeFavorite:Q,favoriteType:L.bk.TEAM,resourceId:e.id,orgId:e.org_id})})]}),ee=(0,a.jsx)(K,{team:e,titleId:f}),et=(0,a.jsx)($,{team:e,inSearchView:"search"===g.view,isCurrentUserInTeam:V});return(0,a.jsx)(A.P,{ref:p,ariaCurrent:r,cardLabel:e.name,cardRole:o,draggable:_,iconImage:(0,a.jsx)(T.nl,{team:e,size:40,avatarSvg:U?void 0:q.A}),isHoverContentVisibleOverride:C.manager.isOpen,isSelected:r,onBlur:u,onClick:d,onFocus:c,subtitle:et,title:ee,topRightContent:Z})});var J=r(571959),X=r(636773),Q=r(773201),Z=r(145334),ee=r(489365),et=r(621995),er=r(140979),ea=r(883652),en=r(316656),ei=r(640017),es=r(195003),el=r(644350),eo=r(852734),ed=r(694151),ec=r(20203);let eu={field:eo.o6.NAME,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_name_column"),renderStaticRowCell:e=>(0,a.jsx)("div",{className:ec.s,children:(0,a.jsx)(ed.rE,{entity:e,size:10,hideFallbackInitial:!0,onClick:void 0},e.id)})},e_={field:eo.o6.MEMBER_COUNT,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_member_column"),renderStaticRowCell:e=>(0,a.jsx)(ei.B,{children:void 0!==e.member_count?(0,j.t)("search.preview_item.num_members_in_team",{memberCount:e.member_count}):"\u2013"})},em={field:eo.o6.LAST_MODIFIED,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_updated_column"),renderStaticRowCell:e=>{let t=e.team_last_touched_at;return(0,a.jsx)(ei.B,{children:t?(0,a.jsx)(ea.h1,{date:t}):"\u2013"})}},ep={field:eo.o6.CREATED_AT,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_created_column"),renderStaticRowCell:e=>(0,a.jsx)(ei.B,{children:(0,a.jsx)(ea.h1,{date:e.created_at})})};function eh(e){let t=e.team,r=(0,er.bc)(el.y_L,{teamId:t.id}),n=(0,s.dr)([t]),[i,o]=n.teams.transform(e=>{let r=e[t.id];return r?[r.canView,r.isInTeam]:[!1,!1]}).unwrapOr([!1,!1]),d=!1,c=!1;if("loaded"===r.status&&r.data?.team){let e=(0,s.ci)(r.data.team);d=e.canView,c=e.isInTeam}(0,es.u8)({oldValue:[d,c],newValue:[i,o],label:es.A5.TeamsItemsView.orgTeamActionListView,oldValueReady:"loaded"===r.status,newValueReady:"loaded"===n.teams.status});let{onClick:u,onJoin:_,onLeave:m}=(0,en.A)(t.id,d),p=(0,Q._6)(),h=(0,l.Gc)(e=>{e.preventDefault(),(0,F._)("file_browser_team_click",t,{selectedView:"recentsAndSharing"===p.view?p.tab:p.view,viewMode:"list"}),u()});return(0,a.jsx)(N.W,{titleId:e.titleId,team:t,isCurrentUserInTeam:c,isLoading:"loaded"!==r.status,onOpenTeam:h,onJoin:_,onLeave:m,isCardActive:!1})}let ef={renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_action_column"),renderInteractiveRowCell:(e,{mainContentId:t})=>(0,a.jsx)(eh,{team:e,titleId:t})};var ex=r(523924),eg=r(928397),eb=r(140390);function ev({teams:e,onCreateTeam:t,emptyView:r,trackSearchClick:x,viewType:g,isLoadingNextPage:b=!1,tryFetchNextPage:v=o.lQ}){let y,j,w=(0,Q._6)(),C=(0,i.wA)(),{showing:T,show:k,data:E}=(0,X.BK)(c.RQ),I=n.useCallback((e,t)=>{k({data:{team:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[k]),A=e=>(0,J.GR)(C,e)(),N=e=>{C(M.to({type:et.p,data:{teamId:e.id}}))},S=n.useCallback(e=>{C(M.to({type:(0,u.h)(),data:{team:e}}))},[C]),[R,O]=n.useState([]),P=(0,s.dr)(R),L=(0,m.TS)(),B=(0,m.Vj)(),{currentSort:U,sortBy:H}=(y=(0,i.wA)(),{currentSort:{field:(e=>{switch(e){case eb.qm.NAME:return eo.o6.NAME;case eb.qm.CREATED_AT:return eo.o6.CREATED_AT;case eb.qm.FILES_LAST_TOUCHED_AT:return eo.o6.LAST_MODIFIED;case eb.qm.MEMBER_COUNT:return eo.o6.MEMBER_COUNT;case eb.qm.RELEVANCY:return eo.o6.RELEVANCY;default:return(0,ex.d_)("Should not try to sort by any other key in search list view"),eo.o6.NAME}})((j=(0,i.d4)(e=>e.search.parameters.sortState)).teams.sortKey),isDescending:j.teams.sortDesc},sortBy:e=>{let t=(e=>{switch(e){case eo.o6.NAME:return eb.qm.NAME;case eo.o6.CREATED_AT:return eb.qm.CREATED_AT;case eo.o6.LAST_MODIFIED:return eb.qm.FILES_LAST_TOUCHED_AT;case eo.o6.MEMBER_COUNT:return eb.qm.MEMBER_COUNT;case eo.o6.RELEVANCY:return eb.qm.RELEVANCY;case eo.o6.ACTION:return null;default:return(0,ex.d_)("Should not try to sort by any other key in search list view"),null}})(e);if(!t)return;let r={...j,[eb.uH.TEAMS]:{sortKey:t,sortDesc:j.teams.sortKey!==t||!j.teams.sortDesc}};y(eg.qv({sortState:r}))}}),W=E?.team?.id,V=W?P.teams.unwrapOr({})[W]:void 0,G=n.useCallback((e,t)=>{if(!P.teams.transform(t=>{let r=t[e.id];return!r||r.canView}).unwrapOr(!0))return void C(M.to({type:z.$,data:{team:e}}));if(x&&x(e.id,t),(0,F._)("file_browser_team_click",e,{selectedView:"recentsAndSharing"===w.view?w.tab:w.view,viewMode:"grid"}),(0,l.oJ)(t)){B(e.id),t.stopPropagation();return}L(e.id),t.stopPropagation(),t.preventDefault()},[P.teams,x,w,L,C,B]),q=n.useCallback(e=>{if(1!==e.length)return;let t=e[0];if(!P.teams.data?.[t.id]?.canAdmin)return;C(D.oB());let r=!!t.org_id,a=e=>{C(M.to({type:ee.H,data:{team:t,subscriptionStatus:e}}))};r?a(!0):Z.$.getSubscriptionStatus({teamId:t.id}).then(({data:e})=>{a(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&C(d.s.error(e.data.message))})},[C,P]),{columns:K}={columns:[eu,em,ep,e_,ef]};return!e||Array.isArray(e)&&!e.length?(0,a.jsx)("div",{className:ec.d,children:r??(0,a.jsx)(f.C,{onCreateTeam:t})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.B,{onShouldFetchNextPage:v,isFetchingNextPage:b,children:(0,a.jsx)(p.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:ey.gridPadding,renderCard:({ref:e,item:t,isSelected:r,role:n,onFocus:i,onClick:s,onBlur:l})=>(0,a.jsx)(Y,{ref:e,cardRole:n,isSelected:r,onBlur:l,onClick:s,onFocus:i,onJoin:A,onLeave:N,team:t,teamPermissions:P.teams.data?.[t.id]},`TeamGridCard-${t.id}`)},handleContextMenu:I,handleDeleteKey:q,handleOpenItem:G,isDraggable:!1,items:e,listViewProps:{columns:K,currentSort:U,handleSortBy:H},multiselectDisabled:!0,updateRenderedItems:O,viewType:g})}),T&&V&&(0,a.jsx)(h.W,{team:E.team,onRenameClick:S,selectedTeamPermissions:V,overrideOpenAndInviteOptions:!1,trackSearchClick:x})]})}let ey={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0}}},263168(e,t,r){r.d(t,{Xg:()=>s,mM:()=>o,qf:()=>l});var a=r(832763),n=r(865780),i=r(773201);function s(e){let t=(0,i._6)();return l(e,(0,n.dq)())&&o(t)}function l(e,t){return e.type!==a.nb.OFFLINE_FILE&&a.Tf.getOrgId(e)===t}function o(e){return"deletedFiles"!==e.view}},177025(e,t,r){r.d(t,{TF:()=>Y,X_:()=>J,l1:()=>K,TM:()=>$});var a=r(239976),n=r(147911),i=r(850159),s=r(574988),l=r(498314),o=r(485850),d=r(508368),c=r(503274),u=r(645186),_=r(687497),m=r(985373),p=r(832763),h=r(440103),f=r(694151);function x(e){let t=(0,u.wA)(),r=p.Tf.getOwner(e.tile);if(!r)return(0,a.jsx)(_.E,{fontSize:13,truncate:!0,children:"--"});let n=p.Tf.getOrgId(e.tile);return(0,a.jsx)("div",{className:"generic_tile_owner--hugContents--GzU4n",children:(0,a.jsx)(f.az,{entity:r,size:24,showIsMe:!1,onClick:()=>{t(m.sf({view:"user",userId:r.id,userViewTab:h.o.INTERNAL_PROFILE,orgId:n}))}},r.id)})}var g=r(859978),b=r(328403),v=r(170589);function y(e){let t=e.getFolderIdFromGenericTile(e.tile),r=(0,v.h)(t),n=r.data?.folderName||null,s=r.data?.isTrashed||!1,l=(0,b.EB)(),o=!s;return"loaded"===r.status&&n&&t?o?(0,a.jsx)(g.E,{onClick:e=>{o&&(e.stopPropagation(),l(t,e))},className:"generic_tile_previous_location--folder_name_clickable--JGvpz",children:(0,a.jsx)(_.E,{fontSize:e.fontSize,truncate:!0,children:n})}):(0,a.jsxs)(_.E,{fontSize:e.fontSize,truncate:!0,children:[n,"\xa0",s&&(0,i.t)("file_browser.folder.trashed_folder")]}):(0,a.jsx)(_.E,{fontSize:e.fontSize,truncate:!0,children:"--"})}var j=r(416815),w=r(289886),C=r(412427),T=r(846639);function k(e){let t=p.Tf.getSharedByName(e.tile),r=p.Tf.getSharedBy(e.tile)??null,n=(0,T.wW)(r).user;return r?(0,a.jsxs)("div",{className:w.s.flex.itemsCenter.gap8.$,children:[n&&(0,a.jsx)(C.H8,{user:n,size:C.Pf.MEDIUM}),(0,a.jsx)(_.E,{truncate:!0,children:(0,a.jsx)("span",{...s.Ay.props(j.g.textBodyMedium),children:t})})]}):(0,a.jsx)(_.E,{truncate:!0,children:(0,a.jsx)("span",{...s.Ay.props(j.g.textBodyMedium),children:"--"})})}var E=r(640017),I=r(263168),A=r(262900),N=r(801236),S=r(388565),R=r(567584),O=r(629239),D=r(366170);function F(e){let t=(0,O.C)(e.tile);return(0,a.jsxs)("div",{className:w.s.flex.itemsCenter.gap12.overflowHidden.h48.wFull.$,children:[(0,a.jsxs)("div",{className:w.s.relative.flexShrink0.hFull.$,children:[(0,a.jsx)(S.e,{tile:e.tile,size:R.y.SMALL,borderRadius:4}),(0,a.jsx)("div",{className:"tile_name_and_preview--iconContainer--PPIE3",children:(0,a.jsx)(N.w4,{size:16,type:t})})]}),(0,a.jsx)("div",{className:w.s.wFull.$,children:(0,a.jsx)(_.E,{fontWeight:"medium",fontSize:13,truncate:!0,children:(0,a.jsx)(D.A,{tile:e.tile,isListView:!0,checksForViewOnlyLabels:e.checksForViewOnlyLabels})})})]})}let M={kzqmXN:"x3hqpx7",$$css:!0},P={renderScreenReaderHeaderCell:()=>(0,i.t)("file_browser.generic_list_view.header_star_column"),renderInteractiveRowCell:(e,{isSelected:t,isHovered:r})=>(0,a.jsx)(L,{tile:e,isSelected:t,isHovered:r})};function L({tile:e,isSelected:t,isHovered:r}){let i=n.b(),o=(0,I.Xg)(e),c=p.Tf.getIsFavorited(e);if(!o)return null;let u=c||t||r||i.manager.isOpen;return(0,a.jsx)("div",{...s.Ay.props(l.R.invisible,l.R.hoverTarget(u)),children:(0,a.jsx)(d.e,{tile:e,entrypoint:"file_list_row",favoriteStarMenu:i})})}let B=e=>({field:A.C0.NAME,headerCellStyles:M,renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_name_column"),renderStaticRowCell:t=>(0,a.jsx)(F,{tile:t,checksForViewOnlyLabels:e})}),U={renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_last_modified_column"),renderStaticRowCell:e=>(0,a.jsx)(E.B,{truncate:!0,children:(0,a.jsx)(c.M,{tile:e,getDateFromGenericTile:p.Tf.getTouchedAt})})},H={field:A.C0.TRASHED_AT,renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,a.jsx)(E.B,{truncate:!0,children:(0,a.jsx)(c.M,{tile:e,getDateFromGenericTile:p.Tf.getTrashedAt})})},W={renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_previous_location_column"),renderInteractiveRowCell:e=>(0,a.jsx)(E.B,{children:(0,a.jsx)(y,{tile:e,getFolderIdFromGenericTile:p.Tf.getFolderId})})},z={field:A.C0.CREATED_AT,renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_created_column"),renderStaticRowCell:e=>(0,a.jsx)(E.B,{truncate:!0,children:(0,a.jsx)(c.M,{tile:e,getDateFromGenericTile:p.Tf.getCreatedAt})})},V={field:A.C0.SHARED_AT,renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,a.jsx)(E.B,{truncate:!0,children:(0,a.jsx)(c.M,{tile:e,getDateFromGenericTile:p.Tf.getSharedAt})})},G={renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_face_pile_column"),isScreenReaderOnly:!0,headerCellStyles:{kzqmXN:"x1d7z9mz",$$css:!0},renderInteractiveRowCell:e=>(0,a.jsx)(o.V,{tile:e})},q={renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_owner_column"),renderInteractiveRowCell:e=>(0,a.jsx)(x,{tile:e})};function K(e){return{gutterColumn:P,columns:[B(e),U,z,G]}}function $(e){return{gutterColumn:P,columns:[B(e),H,W]}}let Y={gutterColumn:P,columns:[B(),{renderHeaderCell:()=>(0,i.t)("file_browser.file_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,a.jsx)(k,{tile:e})},V,G]};function J(e){return{gutterColumn:P,columns:[B(e),U,z,q]}}},19981(e,t,r){r.d(t,{d:()=>ev});var a=r(239976),n=r(105652),i=r(350923);r(574988);var s=r(111708),l=r(388565),o=r(434144),d=r(194757),c=r(832763),u=r(865780),_=r(773201),m=r(735594),p=r(760037),h=r(262900),f=r(263168),x=r(567584),g=r(289886),b=r(687497);function v(e){return(0,a.jsxs)("div",{className:g.s.gap8.h40.flex.flexRow.itemsCenter.$,children:[(0,a.jsx)("div",{className:"tile_drag_image--thumbnailContainer--xZzN5",children:(0,a.jsx)(l.e,{tile:e.tile,size:x.y.SMALL,borderRadius:4,hideUntilLoaded:!1})}),(0,a.jsx)(b.E,{fontSize:13,truncate:!0,fontWeight:"medium",children:c.Tf.getName(e.tile)})]})}var y=r(147911),j=r(208650),w=r(348065);let C=(0,n.memo)(function(e){return(0,w.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h2a.5.5 0 1 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3a.5.5 0 0 1 0-1h3a4 4 0 0 0 .79-7.922zm-4.69 1.219a.5.5 0 0 0-.707 0l-2.5 2.5a.5.5 0 1 0 .708.707l1.646-1.647V19a.5.5 0 1 0 1 0v-6.293l1.646 1.647a.5.5 0 0 0 .708-.707z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h1.5a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3.5a.5.5 0 0 1 0-1H17a4 4 0 0 0 .79-7.922zm-5.19 1.218a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .708.708L11 12.707V19.5a.5.5 0 0 0 1 0v-6.793l2.146 2.147a.5.5 0 0 0 .708-.708z",clipRule:"evenodd"})})});var T=r(145906),k=r(850159),E=r(741542),I=r(801236),A=r(432348),N=r(459457);let S=n.forwardRef(function({thumbnail:e,title:t,subtitle:r,bottomLeftIcon:n,topLeftContent:i,topRightContent:s,bottomRightContent:l,isSelected:o,onClick:d,onMouseEnter:c,onMouseLeave:u,cardRole:_,cardLabel:m,onFocus:p,onBlur:h,draggable:f,isHoverContentVisibleOverride:x},g){return(0,a.jsxs)(A.R.Root,{ref:g,cardLabel:m,cardRole:_,draggable:f,isHoverContentVisibleOverride:x,isSelected:!!o,onBlur:h,onClick:d,onFocus:p,onMouseEnter:c,onMouseLeave:u,children:[(0,a.jsxs)("div",{...{className:"x1n2onr6"},children:[e,(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619"},children:[i&&(0,a.jsx)(N.HG,{className:"xb3r6kr xeuugli",children:i}),s&&(0,a.jsx)(N.HG,{className:"x13qp9f6",children:s})]})]}),(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 x1gcgh60 x1jwbysl x1xvsi7n xdmjnt8 x1pulhmw x1yjdb4r x1y0btm7 x178xt8z x7z60cl"},children:[(0,a.jsx)(N.HG,{children:n}),(0,a.jsxs)("div",{...{className:"x98rzlu x78zum5 xdt5ytf x195vfkc xb3r6kr"},children:[(0,a.jsx)(A.R.Title,{children:t}),(0,a.jsx)(A.R.Subtitle,{children:r})]}),(0,a.jsx)(N.HG,{children:l})]})]})});var R=r(629239),O=r(642529),D=r(910037),F=r(485850),M=r(508368),P=r(645186),L=r(69806);function B(e){let t=(0,P.d4)(e=>e.orgById),r=c.Tf.getOrgId(e.tile);if(!r)return(0,a.jsx)(a.Fragment,{});let n=t[r];return n?(0,a.jsx)(L.H,{entityId:r,entityName:n.name,imgUrl:n.img_url,size:e.size}):(0,a.jsx)(a.Fragment,{})}var U=r(523924),H=r(859978),W=r(328403),z=r(170589),V=r(503274),G=r(508295);function q(e){let t=(0,G.TA)(),r=c.Tf.getTrashedUserId(e.tile),n=(0,a.jsx)(V.M,{tile:e.tile,getDateFromGenericTile:c.Tf.getTrashedAt});return r&&r===t?(0,k.tx)("tile.file_tile.trashed_by_you",{time:n}):(0,k.tx)("tile.file_tile.trashed_generic",{time:n})}function K({tile:e,selectedView:t,hideBranchIndicator:r}){return(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xh8yej3"},children:[(0,a.jsx)($,{tile:e,hideBranchIndicator:r}),(0,a.jsx)(Y,{tile:e,selectedView:t})]})}function $(e){let t=e.tile.type===c.nb.REPO&&e.tile.branches.filter(e=>!e.trashed_at).length||0;return!e.hideBranchIndicator&&t>1?(0,a.jsxs)(a.Fragment,{children:[(0,k.tx)("tile.file_tile.branch_count",{branchCount:t}),"\xa0\xb7\xa0"]}):(0,a.jsx)(X,{tile:e.tile})}function Y(e){let t=(0,k.tx)("tile.file_tile.edited_time",{time:(0,a.jsx)(V.M,{tile:e.tile,getDateFromGenericTile:c.Tf.getTouchedAt})});return"deletedFiles"===e.selectedView.view?(0,a.jsx)(q,{tile:e.tile}):"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===p.Gw.SHARED_FILES?c.Tf.getSharedBy(e.tile)?(0,a.jsx)(b.E,{truncate:!0,showTooltipWhenTruncated:!0,children:(0,k.tx)("team_tile.shared_by",{shared_by_text:c.Tf.getSharedByName(e.tile)})}):(0,a.jsx)(b.E,{truncate:!0,showTooltipWhenTruncated:!0,children:(0,k.tx)("swy_tile.shared_date",{shared_date:(0,a.jsx)(V.M,{tile:e.tile,getDateFromGenericTile:c.Tf.getSharedAt})})}):e.tile.type===c.nb.FILE&&e.tile.file.trackTags?.source==="import"&&new Date(e.tile.file.touchedAt)<=e.tile.file.createdAt?(0,k.tx)("tile.file_tile.imported_time",{time:(0,a.jsx)(V.M,{tile:e.tile,getDateFromGenericTile:c.Tf.getCreatedAt})}):c.Tf.getIsPasswordProtected(e.tile)?(0,a.jsx)(J,{tile:e.tile,defaultText:t}):t}function J(e){let t=(0,i.md)((0,c.hi)({tile:e.tile}));if("loading"===t.status)return null;if(!t.data)switch(e.tile.type){case c.nb.FILE:case c.nb.REPO:case c.nb.PINNED_FILE:case c.nb.OFFLINE_FILE:return(0,k.tx)("tile.file_tile.password_protected");case c.nb.PROTOTYPE:return(0,k.tx)("tile.file_tile.password_protected_prototype");default:(0,U.xb)(e.tile)}return(0,a.jsxs)(a.Fragment,{children:[(0,k.tx)("tile.file_tile.password_protected_shorter")," \xb7 ",e.defaultText]})}function X(e){let t=c.Tf.getFolderId(e.tile),r=(0,z.h)(t),n=r.data?.folderName||null,i=r.data?.isTrashed||!1,s=(0,W.EB)();return"loaded"===r.status&&n&&t?i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.E,{truncate:!0,children:[n,"\xa0",(0,k.t)("file_browser.folder.trashed_folder")]}),"\xa0\xb7\xa0"]}):(0,a.jsxs)("div",{...{className:"x78zum5 xs83m0k xeuugli x6s0dn4"},children:[(0,a.jsx)(H.E,{onClick:e=>{e.stopPropagation(),s(t,e)},...{className:"x1n0bwc9 xs83m0k xeuugli xt0b8zv x1kuswnt"},children:(0,a.jsx)(b.E,{truncate:!0,children:n})}),"\xa0\xb7\xa0"]}):null}var Q=r(366170),Z=r(328151),ee=r(181645),et=r(68278),er=r(53620),ea=r(714775),en=r(156829),ei=r(954720),es=r(303875),el=r(357578),eo=r(886213),ed=r(113641);function ec({branch:e}){return(0,a.jsx)(et.CU,{value:e.key,children:e.name})}function eu({sourceFileKey:e,createBranchStatus:t,dispatch:r}){return(0,a.jsxs)(y.q7,{onClick:()=>{let a=ed.e0.FILE_BROWSER;switch(t){case"upsell-org":r(ei.j({trackingContextName:a}));break;case"enabled":r(ei.l({trackingContextName:a,sourceFileKey:e,dispatchedFromEditor:!1}));break;case"disabled":break;default:(0,U.xb)(t)}},disabled:"disabled"===t,children:[(0,a.jsx)(y.Q$,{children:(0,a.jsx)(er.e,{})}),(0,k.t)("tile.branching.create_new_branch")]})}function e_({branches:e,selectedBranchKey:t,sourceFileKey:r,onSelectBranch:i,createBranchStatus:s,dispatch:l}){let{mainBranches:o,ownedBranches:d,submenuBranches:c}=n.useMemo(()=>{let t=[],r=[],a=[];for(let n of e)n.isMain?t.push(n):n.ownedByUser?r.push(n):a.push(n);return{mainBranches:t,ownedBranches:r,submenuBranches:a}},[e]);return(0,a.jsxs)(y.mc,{rareUseIndentOptOut:!0,children:[(0,a.jsxs)(et.z6,{value:t,onChange:i,title:(0,a.jsx)(y.r1,{children:(0,k.t)("tile.branching.change_default_branch")}),children:[o.map(e=>(0,a.jsx)(ec,{branch:e},e.key)),d.map(e=>(0,a.jsx)(ec,{branch:e},e.key))]}),"hidden"!==s.status&&c.length>0?(0,a.jsx)(y.YJ,{children:(0,a.jsxs)(y.g8,{children:[(0,a.jsx)(y.ZP,{children:(0,k.t)("tile.branching.see_all_branches")}),(0,a.jsx)(y.MJ,{children:(0,a.jsx)(et.z6,{value:t,onChange:i,title:(0,a.jsx)(y.r1,{children:(0,k.t)("tile.branching.see_all_branches")}),children:c.map(e=>(0,a.jsx)(ec,{branch:e},e.key))})})]})}):null,"hidden"!==s.status&&r?(0,a.jsx)(eu,{sourceFileKey:r,createBranchStatus:s.status,dispatch:l}):null]})}function em(e){let t=eo.M4.useFile(e.fileKey).data,r=(0,P.d4)(e=>e.repos),i=t?(0,es.L8)(t,r):null,s=eo.M4.File.useValue(i?.default_file_key).data,l=(0,el.ac)(s?m.F.toLiveGraph(s):null),o=(0,P.wA)(),{getTriggerProps:d,manager:c}=e.menu,u=n.useMemo(()=>e.branches.find(t=>t.key===(e.selectedBranchKey??i?.default_file_key)),[e.branches,e.selectedBranchKey,i?.default_file_key]),_=n.useCallback(()=>{ee.az.trackDefinedEvent("file_browser.branch_menu_opened",{fileKey:e.fileKey,branchCount:e.branches.length})},[e.fileKey,e.branches.length]);return"loaded"!==l.status?null:(0,a.jsxs)(y.bL,{manager:c,children:[(0,a.jsxs)(H.E,{...d({onClick:_}),...{className:"x78zum5 x6s0dn4 x1mh6rdz xg2d0mh xon4yw5 x1sxf85j xh8yej3 x1a2a7pz xiym6m8 x1g40iwv"},"data-testid":"branch-indicator-dropdown","aria-label":(0,k.t)("tile.branching.change_default_branch"),children:[(0,a.jsx)(ea.L,{"aria-hidden":!0,className:"xn0whsw x2lah0s"}),(0,a.jsx)(b.E,{truncate:!0,color:"menu",children:u?.name}),(0,a.jsx)(en.O,{"aria-hidden":!0,className:"xn0whsw x2lah0s"})]}),(0,a.jsx)(e_,{branches:e.branches,selectedBranchKey:e.selectedBranchKey,sourceFileKey:s?.key,onSelectBranch:e.onSelectBranch,createBranchStatus:l.data,dispatch:o})]})}var ep=r(460677);function eh({repoTile:e,menu:t}){let r=(0,P.wA)(),i=(0,P.d4)(e=>e.roles.byFileKey),s=(0,G.Pc)(),l=(0,P.d4)(e=>e.selectedBranchKeyByRepoId),o=e.branches.filter(e=>!e.trashed_at),d=(0,es.mr)(e.repo,e.branches,l),c=n.useMemo(()=>(0,es.gx)(e.repo,o,i,s.id),[e,o,i,s]);return o.length<=1||!d?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(em,{fileKey:e.repo.default_file_key,branches:c,selectedBranchKey:d.key,onSelectBranch:t=>{(0,ee.sx)("Branch Tile Drop Down Clicked Through",{fileRepoId:e.repo.id,selectedFileKey:t,previousFileKey:d?.key}),r(ep.kE({repoId:e.repo.id,branchKey:t}))},menu:t})}let ef=n.forwardRef(function({tile:e,isSelected:t,showPlanIcon:r,hideBranchIndicator:i,checksForViewOnlyLabels:s,interactiveThumbnailsEnabled:o,cardRole:d,onClick:u,onFocus:m,onBlur:p,onItemHover:h,onItemLeave:f,draggable:x},g){let b=(0,R.C)(e),v=(0,_._6)(),j=y.b(),w=y.b(),T=n.useCallback(()=>{h&&h(e)},[h,e]),E=n.useCallback(()=>{f&&f(e)},[f,e]),A=(0,c.c_)(e).unwrapOr(!1),N=j.manager.isOpen||w.manager.isOpen;return(0,a.jsx)(S,{ref:g,bottomLeftIcon:A?(0,a.jsx)(D.K,{}):(0,a.jsx)(I.w4,{size:16,type:b}),bottomRightContent:e.type===c.nb.OFFLINE_FILE?(0,a.jsx)(C,{"data-tooltip":(0,k.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-type":Z.Ib.TEXT}):(0,a.jsx)(F.V,{tile:e}),cardLabel:c.Tf.getName(e),cardRole:d,draggable:x,isHoverContentVisibleOverride:N,isSelected:t,onBlur:p,onClick:u,onFocus:m,onMouseEnter:T,onMouseLeave:E,subtitle:(0,a.jsx)(K,{tile:e,hideBranchIndicator:i,selectedView:v}),thumbnail:(0,a.jsx)(l.e,{tile:e,noBorder:!0,interactiveThumbnailsEnabled:o}),title:(0,a.jsx)(Q.A,{tile:e,checksForViewOnlyLabels:s}),topLeftContent:(0,a.jsx)(ex,{tile:e,hideBranchIndicator:i,repoMenu:w}),topRightContent:(0,a.jsx)(eg,{tile:e,showPlanIcon:r,favoriteStarMenu:j})})});function ex({tile:e,hideBranchIndicator:t,repoMenu:r}){let n=(()=>{let t=c.Tf.getEditorType(e);return(0,E.getFeatureFlags)().template_badge_file_browser&&c.Tf.getIsTeamTemplate(e)&&t?(0,a.jsx)(T.J,{brand:(0,O.K)(t),children:(0,a.jsx)(j.E,{variant:"brandFilled",children:(0,k.t)("file_browser.file_grid_view.template")})}):e.type===c.nb.FILE&&e.file.isPublishedSite&&t?(0,a.jsx)(T.J,{brand:(0,O.K)(t),children:(0,a.jsx)(j.E,{variant:"brandFilled",children:(0,k.t)("file_browser.file_grid_view.published")})}):null})();return(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1nfngrj"},children:[n,e.type===c.nb.REPO&&!t&&(0,a.jsx)(A.R.Overlay,{children:(0,a.jsx)(eh,{repoTile:e,menu:r})})]})}function eg({tile:e,showPlanIcon:t,favoriteStarMenu:r}){if(!(0,f.Xg)(e))return null;let n=c.Tf.getIsFavorited(e);return(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1nfngrj"},children:[t&&(0,a.jsx)(A.R.Overlay,{children:(0,a.jsx)(B,{tile:e,size:24})}),(0,a.jsx)(A.R.Overlay,{isHoverContentVisibleOverride:n,children:(0,a.jsx)(M.e,{tile:e,entrypoint:"file_tile",favoriteStarMenu:r})})]})}var eb=r(964099);let ev=(0,s.w)(function({handleDeleteKey:e,handleOpenDropdown:t,handleOpenTile:r,items:s,updateRenderedItems:x,updateVisibleItems:g,listViewColumnsConfig:b,sortConfig:y,doNotFocusOnLoad:j,checksForViewOnlyLabels:w,interactiveThumbnailsEnabled:C,gridContainerStyle:T,viewType:k=h.XU.GRID,sortBy:E,setSelectedTiles:I}){let A=(0,_._6)(),N=(0,u.dq)(),S=(0,i.md)(c.Y6),R=(0,eb.FA)(),O=(0,eb.my)(),{gutterColumn:D,columns:F}=b,M=n.useCallback(e=>e.every(e=>(0,f.qf)(e,N)&&!c.Tf.isRenaming(e,S)),[S,N]),P={containerStyle:T??ey.gridContainerDefault,renderTileDragImage:e=>(0,a.jsx)(l.e,{tile:e,noBorder:!0,hideUntilLoaded:!1})},L="deletedFiles"===A.view;return(0,a.jsx)(d.A,{canSelectedItemsBeDragged:M,doNotFocusOnLoad:j,getAriaLabel:c.Tf.getName,gridViewProps:{...P,renderCard:({ref:e,item:t,isSelected:r,role:n,onFocus:i,onClick:s,onBlur:l})=>(0,a.jsx)(ef,{ref:e,cardRole:n,checksForViewOnlyLabels:w,draggable:(0,f.mM)(A),hideBranchIndicator:L,interactiveThumbnailsEnabled:C,isSelected:r,onBlur:l,onClick:s,onFocus:i,onItemHover:R,onItemLeave:O,showPlanIcon:"recentsAndSharing"===A.view&&A.tab===p.Gw.RECENTLY_VIEWED||"search"===A.view,tile:t},`TileGridCard${c.Tf.getId(t)}`)},handleContextMenu:(e,r,a)=>{let n=s[a];n&&t(n,r,a)},handleDeleteKey:e,handleDragDataTransfer:(e,t)=>{let{fileTiles:r,repoTiles:a,prototypeTiles:n}=(0,o.P)(e),i=r.map(e=>m.F.toSinatra(e.file)),s=a.map(e=>e.repo),l=n.map(e=>e.prototype);!i.length||s.length||l.length?i.length||!s.length||l.length?i.length||s.length||!l.length?t.setTilesData_DEPRECATED(i,s,l):t.setPrototypesData_DEPRECATED(l):t.setReposData_DEPRECATED(s,[]):t.setFigFilesData_DEPRECATED(i)},handleOpenItem:r,isDraggable:(0,f.mM)(A),items:s,listViewProps:{gutterColumn:D,columns:F,currentSort:{field:y.key,isDescending:y.dir===h.ue.DESC},handleSortBy:E,onItemHover:R,onItemLeave:O,renderItemDragImage:e=>(0,a.jsx)(v,{tile:e})},onSelection:I,updateRenderedItems:x,updateVisibleItems:g,viewType:k})},"TilesItemsView"),ey={gridContainerDefault:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,kGO01o:"x1gan7if",$$css:!0}}},784911(e,t,r){r.d(t,{l:()=>i});var a=r(688357),n=r(870088);function i(e=!0){let t=e?a.Ez5?.canvasGrid().canvasGridArray:null;return 0===(0,n.ut)(t,[]).length}},96875(e,t,r){r.d(t,{DM:()=>Q,ON:()=>H,T5:()=>q,Vg:()=>W,ah:()=>B,hp:()=>K,iW:()=>es,oj:()=>et,p9:()=>ee,px:()=>X,qv:()=>L,rG:()=>z,wW:()=>J,xN:()=>ei});var a=r(239976),n=r(105652),i=r(442549);if(1464==r.j)var s=r(859978);if(1464==r.j)var l=r(60177);if(1464==r.j)var o=r(555355);if(1464==r.j)var d=r(732632);if(1464==r.j)var c=r(878521);if(1464==r.j)var u=r(884024);if(1464==r.j)var _=r(740423);if(1464==r.j)var m=r(669981);if(1464==r.j)var p=r(15369);if(1464==r.j)var h=r(181714);var f=r(730351),x=r(850159);if(1464==r.j)var g=r(741542);var b=r(350923),v=r(574988),y=r(224542),j=r.n(y);if(1464==r.j)var w=r(214030);var C=r(30890),T=r(834116),k=r(360214),E=r(289886),I=r(113116),A=r(497544);if(1464==r.j)var N=r(572914);var S=r(928814),R=r(331850);if(1464==r.j)var O=r(328151);var D=r(656919),F=r(953828);if(1464==r.j)var M=r(384060);var P=r(6979);let L="https://help.figma.com/hc/articles/31271693614487";function B({onboardingKey:e=""}){return(0,a.jsx)("div",{className:E.s.flexColumn.alignCenter.pt32.pb16.$,"data-onboarding-key":e,children:(0,a.jsx)("div",{className:E.s.mxAuto.w24.h24.$,children:(0,a.jsx)(A.k,{})})})}let U="cooper-tile-id";function H(){return(0,a.jsxs)("div",{className:P.QD,children:[(0,a.jsx)("div",{className:P.Vs,children:(0,a.jsx)("div",{className:E.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(k.Qp,{className:P.zS,animationType:k.JR.LIGHT_SHIMMER,primary:!0})})}),(0,a.jsxs)("div",{className:P.Iu,children:[(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(k.Wi,{className:P.Et,animationType:k.JR.LIGHT_SHIMMER})}),(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(k.Wi,{className:P.ES,animationType:k.JR.LIGHT_SHIMMER})})]})]})}function W({template:e,name:t,thumbnailUrl:r,onPointerDown:i,isAboveFold:s=!1,dimensions:l,assetTypeName:o,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:u=!1,isSelectable:_=!1,isSelected:m=!1,showCheckbox:p=!1,checkboxDisabled:h,hideOverlay:f,hoverButtonAction:x,loading:g}){let[b,v]=n.useState(!1);return(0,a.jsxs)("div",{className:P.iA,children:[(0,a.jsx)(en,{ariaLabel:o??t,checkboxDisabled:h,dimensions:l,hasVideo:d,hideOverlay:f,hoverButtonAction:x,insertResourceIntoInternalCanvas:c,isSelectable:_,isSelected:m,isSquareTile:!l,loading:g,onPointerDown:i,shouldShowPlusButtonOnHover:!0,showCheckbox:p,showPreview:u,template:e,children:(0,a.jsx)("span",{className:E.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(T.oW,{onLoad:()=>{v(!0)},src:r,alt:t,draggable:!1,style:{objectFit:"contain",transition:"opacity 0.1s ease-in-out",opacity:+!!b,borderRadius:"var(--radius-medium)",...l?{aspectRatio:l.width/l.height,width:"100%",height:"auto"}:{width:"100%",height:"100%"}},loading:s?"eager":"lazy"})})}),o&&(0,a.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:o})]})}function z({onPointerDown:e}){let t=(0,R.T5)("useAllowInternalTemplatesCooper"),r="loaded"===t.status?t.data?.name:void 0;return(0,a.jsx)(s.E,{onClick:e,className:P.kO,"data-testid":"create-new-template-tile","aria-label":(0,x.t)("cooper.templates.new_template"),children:(0,a.jsxs)("div",{className:P.NL,children:[(0,a.jsxs)("div",{className:P.sn,children:[(0,a.jsx)(u.X,{}),(0,a.jsx)(ei,{variant:"add",primaryButtonText:(0,x.t)("cooper.templates.blank_template")})]}),(0,a.jsx)(et,{title:(0,x.t)("cooper.templates.new_template"),subtitle:r&&(0,x.t)("cooper.templates.for_plan_name",{planName:r})})]})})}let V=1464==r.j?{detailTilePadding:{kmVPX3:"xf7z5ut",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kaIpWk:"x1mxnbhz",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0}}:null;function G({templateType:e,iconUrl:t,loading:r}){let{name:n,dimension:i}=e,s=i.x/i.y;return(0,a.jsxs)("div",{...{className:"x1n2onr6 x78zum5 xdt5ytf xh8yej3 xt7dq6l x1ja2u2z"},children:[(0,a.jsxs)("div",{className:P.sn,children:[(0,a.jsx)("div",{className:j()(P.LX,s>1?P.uS:P.aP),style:s<2.5&&s>.4?{aspectRatio:i.x/i.y}:void 0,children:t&&(0,a.jsx)(T.oW,{src:t,alt:n,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}),(0,a.jsx)(ei,{variant:"add",primaryButtonText:(0,x.t)("cooper.templates.add_blank"),loading:r})]}),(0,a.jsx)(et,{title:n,subtitle:`${i.x} x ${i.y}`})]})}function q({templateType:e,iconUrl:t,onPointerDown:r}){let{name:n}=e;return(0,a.jsx)("button",{onClick:r,className:P.kO,"data-testid":"start-from-scratch-template-tile","aria-label":n,children:(0,a.jsx)(G,{templateType:e,iconUrl:t})})}function K({templateType:e,iconUrl:t,loading:r}){return(0,a.jsx)("div",{className:j()(v.xW(V.detailTilePadding),P.kT),children:(0,a.jsx)(G,{templateType:e,iconUrl:t,loading:r})})}let $=1464==r.j?{k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kVQacm:"xb3r6kr",kXHlph:"",kORKVm:"",kWkggS:"x68r2af",kaIpWk:"x192jxwq",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",kGVxlE:"xgk9eko",$$css:!0}:null,Y=1464==r.j?{container:{kZKoxP:"xnnlda6",kzqmXN:"xh8yej3",kB7OPa:"x9f619",k1xSpc:"x78zum5",kXwgrk:"x1q0g3np",kGNEyG:"x6s0dn4",kOIVth:"x1nfngrj",khm7nJ:null,k1C7PZ:null,kg3NbH:"xbfr8j9",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0},startFromScratchAsset:e=>[$,{kOBAk4:null!=e?"x10y9f9r":e,$$css:!0},{"--x-aspectRatio":null!=e?e:void 0}],startFromScratchVerticalAspectRatio:{kZKoxP:"x10w6t97",$$css:!0},startFromScratchHorizontalAspectRatio:{kzqmXN:"x14qfxbe",$$css:!0}}:null;function J({templateType:e,iconUrl:t}){let{name:r,dimension:n}=e,i=`${n.x} x ${n.y}`,s=n.x/n.y;return(0,a.jsxs)("div",{className:j()(v.xW(Y.container),P._j),children:[(0,a.jsx)("div",{...{className:"x1vqgdyp x100vrsf x78zum5 xl56j7k x6s0dn4"},children:(0,a.jsx)("div",{...v.xk(Y.startFromScratchAsset(s<2.5&&s>.4?n.x/n.y:void 0),s>1?Y.startFromScratchHorizontalAspectRatio:Y.startFromScratchVerticalAspectRatio),children:t&&(0,a.jsx)(T.oW,{src:t,alt:r,draggable:!1,className:"x19kjcj4 x1kpxq89 xsmyaan",loading:"lazy"})})}),(0,a.jsxs)("div",{...{className:"xb3r6kr xeuugli"},children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x1akne3o xb3r6kr xlyipyv xuxw1ft"},children:(0,a.jsx)("span",{children:r})}),(0,a.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 xb3r6kr xlyipyv xuxw1ft"},children:(0,a.jsx)("span",{children:i})})]})]})}function X({templateType:e,iconUrl:t,onPointerDown:r}){let{name:i,dimension:l}=e,o=n.useRef(null),d=(0,M.o6)(o)?{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":i,"data-tooltip-timeout-delay":300}:{};return(0,a.jsx)("div",{className:P.vR,children:(0,a.jsxs)(s.E,{onClick:r,actionOnPointerDown:!0,"data-element-target":U,className:P.qd,...d,children:[t?(0,a.jsx)("div",{className:P.pQ,children:(0,a.jsx)(T.oW,{src:t,alt:i,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}):(0,a.jsx)(Z,{}),(0,a.jsxs)("div",{className:P.zX,children:[i&&(0,a.jsx)("span",{ref:o,className:P.Wi,children:i}),l&&(0,a.jsx)("span",{className:P.oK,children:`${l.x} x ${l.y}`})]})]})})}function Q({onPointerDown:e}){return(0,a.jsx)("div",{className:P.vR,children:(0,a.jsxs)(s.E,{onClick:e,actionOnPointerDown:!0,className:P.qd,recordingKey:"cooperStartFromScratchCustomSize",children:[(0,a.jsx)(Z,{}),(0,a.jsx)("div",{className:P.zX,children:(0,a.jsx)("span",{className:P.Wi,children:(0,x.t)("cooper.templates.custom_size")})})]})})}function Z(){return(0,a.jsx)("div",{className:P.pQ,children:(0,a.jsx)(_.v,{})})}function ee({numColumns:e,children:t}){let r=(0,M.VU)(),n=(0,b.md)(N.ce),[i,s]=(0,M.R7)(),l=(0,b.md)(N.U_),o=n.length>0,d=o&&r,c=r&&i.type===N.mF.TEMPLATES,u="COMMUNITY"===l&&!o,_=j()({[P.Vg]:!r,[P.EA]:r&&!c&&!u&&!d,[P.jV]:r&&(u||d),[P.XM]:c&&!u&&!d});return(0,a.jsx)("div",{className:_,style:{"--num-columns":e||3},children:t})}function et({title:e,subtitle:t}){let r=n.useRef(null),i=(0,M.o6)(r)?{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":300}:{};return(0,a.jsxs)("div",{className:P.fg,children:[e&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{ref:r,...i,className:P.qn,children:e})}),t&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{className:P.uw,children:t})})]})}function er(e){let t=new PointerEvent("pointerdown",{pointerId:0,pointerType:"virtual",clientX:window.innerWidth/2,clientY:window.innerHeight/2,bubbles:!0});return{...t,target:e,currentTarget:e,preventDefault:()=>{},stopPropagation:()=>{},stopImmediatePropagation:()=>{},isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,persist:()=>{},nativeEvent:t}}function ea(e){let t=new PointerEvent("pointerup",{pointerId:0,pointerType:"virtual",clientX:window.innerWidth/2,clientY:window.innerHeight/2,bubbles:!0});e.dispatchEvent(t)}function en({template:e,children:t,onPointerDown:r,isSquareTile:i,shouldShowPlusButtonOnHover:s,dimensions:d,ariaLabel:c,hasVideo:u=!1,insertResourceIntoInternalCanvas:_,showPreview:h=!1,isSelected:v=!1,showCheckbox:y=!1,isSelectable:C=!1,hoverButtonAction:T,hideOverlay:k,checkboxDisabled:E,loading:A}){let S=n.useRef(null),R=n.useRef(null),[M,L]=n.useState(!1),[B,H]=n.useState(!1),W=(0,b.Xr)(N.jj),z=(0,b.Xr)(N.hD),[V,G]=(0,b.fp)(N.g8),q=(0,b.Xr)(N.Rb),K=(0,b.Xr)(N.J5),$=n.useCallback(()=>{W({}),z([])},[W,z]),Y=t=>{_(t),q(e),G(""),$(),R.current&&K(R.current.getBoundingClientRect().y)},J=n.useCallback(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),r(er(e.currentTarget)),ea(e.currentTarget))},[r]);return n.useEffect(()=>{if(V===e.id){$();let{guidComponentProps:t,variantPropDefs:r,stateOrLooseComponent:a}=function(e){let t,r,a=e.containing_frame?.containingStateGroup&&e.containing_frame?.containingStateGroup.nodeId,n=(0,f.UN)().getInternalCanvas()?.childrenNodes||[],i=e.node_id;for(let e of n)if(a&&e.publishID===a){for(let r of e.childrenNodes)if(r.publishID===i){t=(0,D.Yg)([r.guid],(0,f.UN)());let a=(0,F.Jm)(e.guid,t);return{guidComponentProps:t,variantPropDefs:a,stateOrLooseComponent:r}}}else e.publishID===i&&(t=(0,D.Yg)([e.guid],(0,f.UN)()),r=e);return{guidComponentProps:t,stateOrLooseComponent:r}}(e);t&&a&&a&&W(t[a.guid]),r&&z(r)}},[V,e.id,$,W,z,e]),(0,a.jsxs)(I.e6,{ref:S,actionOnPointerDown:!0,"aria-label":c,className:j()(i?P.TP:P.Vs,{[P.kO]:s}),"data-element-target":U,"data-testid":"insertableAssetTile",onClick:r,onKeyDown:J,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),style:{position:"relative",...d?{aspectRatio:d.width/d.height,width:"100%",height:"auto"}:{aspectRatio:1}},trackingProperties:{trackingDescriptor:w.c.TEMPLATE_COVER_TILE},children:[s&&(0,a.jsx)(ei,{loading:A,onPrimaryClick:y?void 0:T,primaryButtonText:S.current?.clientWidth&&S.current.clientWidth>140?(0,x.t)("cooper.templates.add_template"):(0,x.t)("cooper.templates.add"),variant:k?"none":"add"}),t,(y||C&&M&&!E)&&(0,a.jsx)("div",{...{className:"x10l6tqk x1abmnq3 x1xui8nh xt9pc3i x1yjdb4r xhpnuu7"},"data-tooltip":(0,x.t)("buzz.templates.select"),"data-tooltip-type":O.Ib.TEXT,"data-tooltip-show-above":!0,children:(0,a.jsx)(l.S,{label:(0,a.jsx)(o.h,{children:(0,x.tx)("buzz.templates.select_template")}),checked:v,disabled:E})}),u&&(0,a.jsx)(m._,{className:"x10l6tqk x1bfpjnn x1473dw x1n327nk x47corl x192jxwq xmkeg23 x1y0btm7 x1co876m x68m4m9 xwa2v1s"}),h&&(0,g.getFeatureFlags)().buzz_template_sets&&(0,a.jsx)("button",{className:P.cu,onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),Y(e)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),Y(er(e.currentTarget)),ea(e.currentTarget))},onFocus:()=>H(!0),onBlur:()=>H(!1),"aria-label":(0,x.t)("buzz.templates.template_picker.org_view.see_details"),ref:R,style:{opacity:M||B?1:0},children:(0,a.jsx)(p.J,{className:"xwa2v1s"})})]})}function ei({variant:e,primaryButtonText:t,secondaryButtonText:r,loading:n,onPrimaryClick:l,onSecondaryClick:o}){return(0,a.jsxs)("div",{className:j()(P.R2,i.v.getFeatureGate("buzz_template_picker_modal_refresh")&&P.z3),style:n?{opacity:1}:"none"===e?{display:"none"}:void 0,children:["add"===e&&(0,a.jsx)(d.$n,{iconPrefix:(0,a.jsx)(h.$,{style:{"--color-icon":"white"}}),tabIndex:-1,variant:"primary",loading:n,onClick:l?S.dG:void 0,onPointerDown:l?e=>{e.stopPropagation(),l(e)}:void 0,children:t}),"view"===e&&(0,a.jsx)(s.E,{className:P.qW,tabIndex:-1,children:t}),"add-or-view"===e&&r&&(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 x1nfngrj"},children:[(0,a.jsx)(d.$n,{iconPrefix:(0,a.jsx)(h.$,{style:{"--color-icon":"white"}}),tabIndex:-1,variant:"primary",loading:n,onPointerDown:l?S.dG:void 0,onPointerUp:l?e=>{e.stopPropagation(),l(e)}:void 0,children:t}),(0,a.jsx)(s.E,{className:P.qW,tabIndex:-1,onPointerDown:o?S.dG:void 0,onPointerUp:o?e=>{e.stopPropagation(),o(e)}:void 0,children:r})]})]})}function es({isWide:e=!1}){return e?(0,a.jsx)(d.IK,{variant:"secondary",onClick:()=>(0,C.FJ)(L,"_blank"),children:(0,x.tx)("cooper.templates.show_me_how")}):(0,a.jsx)(c.N.Button,{href:L,variant:"secondary",trusted:!0,newTab:!0,children:(0,x.tx)("cooper.templates.show_me_how")})}},370963(e,t,r){r.d(t,{H:()=>_});var a=r(239976),n=r(105652),i=r(859978),s=r(193183),l=r(176926),o=r(484209);r(574988);var d=r(328151);let c=n.forwardRef(function({tooltip:e,isFavorited:t,disabled:r,dataTestId:n="favorite-star-button","aria-pressed":c,"aria-expanded":u,..._},m){return(0,a.jsx)(i.E,{ref:m,"aria-label":e,"aria-pressed":c,"aria-expanded":u,disabled:r,"data-testid":n,...!u?{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":50}:{},..._,...{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11 x19y5rnk x16v0e3u x1pt8ico x5hs570 x16evbv0 x1g40iwv"},children:(0,a.jsx)("span",{"aria-hidden":!0,children:t?(0,a.jsx)(s._,{style:{"--color-icon":o.Tj.iconfavorite},"data-testid":`${n}-favorited-icon`}):(0,a.jsx)(l.c,{style:{"--color-icon":o.Tj.iconSecondary},"data-testid":`${n}-unfavorited-icon`})})})});var u=r(849837);function _({favoriteType:e,orgId:t,resourceId:r,setFavorite:n,removeFavorite:i,teamId:s,favoriteStarMenu:l,dataTestId:o="favorite-star-button"}){return(0,a.jsx)(u.k,{resourceId:r,favoriteType:e,orgId:t,teamId:s,setFavorite:n,removeFavorite:i,favoriteStarMenu:l,children:e=>(0,a.jsx)(c,{dataTestId:o,...e})})}},849837(e,t,r){r.d(t,{k:()=>m});var a=r(239976),n=r(105652),i=r(916290),s=r(147911),l=r(850159),o=r(741542),d=r(198788),c=r(571916),u=r(835048),_=r(633015);function m({resourceId:e,orgId:t,teamId:r,setFavorite:m,removeFavorite:p,favoriteType:h,children:f,favoriteStarMenu:x}){let g=(0,u.Y)(e,h,t,r),b=n.useMemo(()=>(0,c.t$)(g.userSidebarSections??[],g.orderedSidebarSections??[]),[g.userSidebarSections,g.orderedSidebarSections]),v=function({subscription:e,orgId:t,setFavorite:r,removeFavorite:a}){let s=e.favorite,{Sprig:u}=(0,d.A)(),_=e.hasMaxFavorites,m=n.useCallback(()=>{s?a({favoriteId:s.id}):_||r({})},[s,a,r,_]),p=e.userSidebarSections,h=!!(!t||p&&p.length<=1),f=n.useCallback(({sectionId:e})=>{r({favoriteId:s?.id,sectionId:e}),(0,o.getFeatureFlags)().file_browser_sentiment_survey&&u?.("setAttribute","fb_file_organized",!0)},[s,r,u]),x=n.useCallback(()=>{s&&(a({favoriteId:s.id}),(0,o.getFeatureFlags)().file_browser_sentiment_survey&&u?.("setAttribute","fb_file_organized",!0))},[s,a,u]);return{toggle:"loaded"!==e.status?i.lQ:m,shouldUseToggleFavorite:h,setFavorite:f,removeFavorite:x,tooltip:e.favorite?(0,l.t)("favorited_resources.remove_from_sidebar"):e.hasMaxFavorites?(0,l.t)("tile.favoriting.max_favorites",{maxFavorites:c.fy}):(0,l.t)("favorited_resources.add_to_sidebar")}}({subscription:g,orgId:t,setFavorite:m,removeFavorite:p}),{getTriggerProps:y,manager:j}=x;return"loaded"!==g.status?(0,a.jsx)(a.Fragment,{children:f({disabled:!0,onClick:i.lQ,tooltip:v.tooltip,isFavorited:!1,"aria-pressed":!1})}):v.shouldUseToggleFavorite?(0,a.jsx)(a.Fragment,{children:f({disabled:!1,onClick:v.toggle,tooltip:v.tooltip,isFavorited:!!g.favorite,"aria-pressed":!!g.favorite})}):(0,a.jsxs)(s.bL,{manager:j,children:[f({disabled:!1,tooltip:v.tooltip,isFavorited:!!g.favorite,...y()}),(0,a.jsx)(_.t,{currentSectionId:g.favorite?.resource.sidebarSectionId,"data-testid":"organize-favorite-menu",favoriteId:g.favorite?.id,orderedSidebarSections:b,removeFavorite:v.removeFavorite,resourceId:e,resourceType:h,setFavorite:v.setFavorite,userHasMaxFavorites:g.hasMaxFavorites})]})}},633015(e,t,r){r.d(t,{b:()=>p,t:()=>h});var a=r(239976),n=r(645186);if(1464==r.j)var i=r(147911);if(1464==r.j)var s=r(68278);var l=r(850159);if(1464==r.j)var o=r(2894);var d=r(154077),c=r(865780),u=r(834595);function _({currentSectionId:e,orderedSidebarSections:t,resourceType:r,resourceId:s}){let c=(0,n.wA)(),u=(0,n.d4)(e=>e.mobileNavShown);return(0,a.jsx)(i.q7,{onClick:()=>{void 0===u||u||c(o.PY());let a=e?t.findIndex(t=>t.id===e):0;r&&c(d.to({movingResource:{resourceId:s,isFavorited:!0,resourceType:r}})),c(d.pS({newCustomSectionIndex:a}))},children:(0,l.t)("favorited_resources.create_a_new_section")},"create-section")}function m({removeFavorite:e}){return(0,a.jsx)(i.q7,{onClick:e,children:(0,l.t)("favorited_resources.remove_from_sidebar")},"remove-from-sidebar")}function p({favoriteId:e,currentSectionId:t,setFavorite:r,removeFavorite:o,userHasMaxFavorites:p,resourceId:h,resourceType:f,orderedSidebarSections:x}){let g=(0,n.wA)(),b=(0,n.d4)(e=>e.currentTeamId),v=(0,c.dq)(),y=(0,n.d4)(e=>e.favorites.collapsedCustomSections),j=e=>{e===t?o():!p&&e&&(r({sectionId:e}),y.delete(e),g(d.U6({collapsedCustomSections:y})),u.Fp({type:"topLevel",id:"custom",orgId:v,sectionId:e},!0))},w=x.map(e=>{let t=""===e.name?(0,l.t)("sidebar.starred"):e.name;return(0,a.jsx)(s.CU,{value:e.id,children:t},e.id)}),C=x.find(e=>e.id===t),T=e?`${(0,l.t)("favorited_resources.indicate_section_prefix")}: ${C?.name||(0,l.t)("sidebar.starred")}`:(0,l.t)("favorited_resources.add_to_sidebar"),k=[],E=x.length>4;return E?k.push((0,a.jsx)(i.YJ,{children:(0,a.jsxs)(i.g8,{children:[(0,a.jsx)(i.ZP,{children:T}),(0,a.jsxs)(i.MJ,{children:[(0,a.jsx)(s.z6,{title:(0,a.jsx)(i.r1,{children:(0,l.t)("favorited_resources.add_to_sidebar")}),onChange:j,value:t??void 0,children:w},"sections-radio-group"),(0,a.jsx)(_,{currentSectionId:t,orderedSidebarSections:x,resourceType:f,resourceId:h})]})]},"sections-submenu")},"sections-group")):k.push((0,a.jsx)(s.z6,{title:(0,a.jsx)(i.hE,{children:(0,l.t)("favorited_resources.add_to_sidebar")}),value:t??void 0,onChange:j,children:w},"sections-group")),e&&k.push((0,a.jsx)(i.YJ,{children:(0,a.jsx)(m,{removeFavorite:o})},"remove-from-sidebar-group")),b||E||k.push((0,a.jsx)(i.YJ,{children:(0,a.jsx)(_,{currentSectionId:t,orderedSidebarSections:x,resourceType:f,resourceId:h})},"create-section-group")),(0,a.jsx)(a.Fragment,{children:k})}function h({setFavorite:e,removeFavorite:t,orderedSidebarSections:r,resourceId:n,resourceType:s,favoriteId:l,currentSectionId:o,userHasMaxFavorites:d}){return(0,a.jsx)(i.mc,{children:(0,a.jsx)(p,{currentSectionId:o,orderedSidebarSections:r,favoriteId:l,removeFavorite:t,resourceId:n,resourceType:s,setFavorite:e,userHasMaxFavorites:d})})}},380628(e,t,r){r.d(t,{Q:()=>p,G:()=>h});var a,n=r(239976),i=r(105652),s=r(741542),l=r(350923),o=r(224542),d=r.n(o),c=r(826727),u=r(477423),_=r(684325),m=r(999682),p=((a=p||{}).FILE_BROWSER="file_browser",a);function h({entryPoint:e}){return(0,n.jsx)(_.tH,{boundaryKey:"figment-debugger",fallback:(0,n.jsx)("div",{}),children:(0,n.jsx)(f,{entryPoint:e})})}function f({entryPoint:e}){let[t,r]=(0,l.fp)(c.eE);return(0,i.useEffect)(()=>{r(!!(0,u.wh)())},[]),t&&(0,s.getFeatureFlags)().figment_debugger?(0,n.jsx)("div",{className:d()("file_browser"===e?"figment_debugger--fileBrowserContainer--UzwZQ figment_debugger--container--5Slnx":"figment_debugger--container--5Slnx",m.s4,m.Dm),children:(0,n.jsx)(x,{})}):null}function x(){let[e,t]=(0,l.fp)(c.a4),[r,a]=(0,i.useState)([]),s=(0,i.useRef)(null),o=s.current&&s.current.value.length>0,d=o?r:e;return(0,n.jsxs)("div",{className:"figment_debugger--mainWrapper--1NXXY",tabIndex:0,"data-fullscreen-intercept":!0,children:[(0,n.jsx)(g,{children:(0,n.jsx)("input",{ref:s,placeholder:"\uD83D\uDD0E Event name",className:"figment_debugger--searchBar--3sLL1",onInput:t=>{let r=t.target.value.toLowerCase();r.length<3&&a([]),a(e.filter(e=>e.requestJson.event.toLowerCase().includes(r)))}})}),(0,n.jsx)(g,{children:(0,n.jsx)("button",{onClick:()=>{t("clear")},children:"[clear]"})}),o&&(0,n.jsx)(g,{children:"Showing "+d.length+" of "+e.length+" most recent events"}),d.map(e=>(0,n.jsx)(b,{req:e},e.requestJson.figment_debugger_uuid))]})}function g(e){return(0,n.jsx)("div",{className:"figment_debugger--sectionWrapper--qnGdX","data-fullscreen-intercept":!0,children:e.children})}function b({req:e}){let[t,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),l=e.requestJson,o=(0,i.useMemo)(()=>t&&null!=l.properties?Object.entries(l.properties).map(([e,t])=>(0,n.jsxs)("div",{children:[e,": ",JSON.stringify(t)]},e)):[],[l,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"figment_debugger--logrow--k-DGM",tabIndex:0,role:"button",onClick:()=>{r(!t),s(!1)},"data-fullscreen-intercept":!0,children:[(0,n.jsx)("span",{children:t?"\uFF0D":"\uFF0B"}),"\xa0",(0,n.jsx)("span",{children:e.networkState===c.tM.SUCCESS?"\uD83D\uDC9A":e.networkState===c.tM.FAILURE?"\uD83D\uDC94":"\uD83E\uDDE1"}),"\xa0",(0,n.jsx)("span",{className:"figment_debugger--timestamp--RdLwy",children:l.sentAt.slice(11,16)}),"\xa0",l.event]}),t&&(0,n.jsxs)("div",{className:"figment_debugger--propertiesWrapper--HEWe2",children:[(0,n.jsx)("div",{className:"figment_debugger--propertiesButtonsRow--w4diZ",children:(0,n.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),s(!0)},children:["[",a?"copied":"copy","]"]})}),o]})]})}},56771(e,t,r){r.d(t,{Te:()=>l,V6:()=>o,ew:()=>s});var a=r(354621),n=r(94241);if(1464==r.j)var i=r(487817);function s(){let e=(0,a.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function l(){let e=(0,n.q5)();return e?.editorType===i._Y.DESIGN}function o(){let e=l(),t=s();return e&&t}},493614(e,t,r){r.d(t,{i:()=>w});var a=r(105652),n=r(645186);if(1464==r.j)var i=r(650963);var s=r(850159),l=r(350923),o=r(181645),d=r(274348);if(1464==r.j)var c=r(613629);if(1464==r.j)var u=r(39304);var _=r(473397);if(1464==r.j)var m=r(267925);var p=r(233535),h=r(94241),f=r(331850),x=r(506213);if(1464==r.j)var g=r(542179);var b=r(669276);if(1464==r.j)var v=r(128485);var y=r(63504),j=r(920952);function w(){let e,t=(0,n.wA)(),{nudgeUpgradeRequest:r}=(0,b.q0)(),w=(0,_.rb)(),C=(0,l.md)(p.D),[T,k]=(0,a.useState)(!!C),E=(0,f.T5)("useUpgradeRequestModalOnPageLoad"),I=(0,h.q5)(),A=(0,m.QL)("entry_point")||"",N=(0,m.QL)("upgrade_request_type")||"",S=null!==I&&("in_editor"===N||A===v.i.FILE_ROLE_INVITE_REDEEM),R=S||(0,y.a_)(N);R&&(e=S?(0,j.wR)(I.editorType):y.TI[N]);let O=(0,i.K)(u.tc,A)??u.tc.UNKNOWN_DEEP_LINK,D=(0,i.K)(v.i,A)??v.i.UNKNOWN_DEEP_LINK,{handleUpgrade:F,getPendingRequest:M,getUpgradeEligibility:P,getIsUpgradeHandlerLoading:L}=(0,x.wH)({entryPoint:O,plan:E?.data?.key?.parentId&&E?.data?.key?.type?{id:E.data.key.parentId,type:E.data.key.type}:void 0}),B=L()||"loading"===E.status,U=R&&!B;(0,a.useEffect)(()=>{!T&&C&&k(!0)},[C,T,k]),(0,d.R)(()=>{if(!U||!e){N&&o.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow_invalid",{upgradeType:R?N:"invalid",entryPoint:O,licenseType:e||"undefined",planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key});return}if(T)return;let a=P(e);if(o.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow",{upgradeType:N,entryPoint:O,licenseType:e,upgradeEligibility:a,planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key}),a!==g.q.CAN_UPGRADE){let a=M(e);if(a&&O!==u.tc.FILE_ROLE_INVITE_REDEEM){let{requestCanBeNudged:e,upgradeRequestId:n}=(0,b.qm)(a);e?r(n):t(c.F.enqueue({message:(0,s.t)("team_user.actions.request_sent_well_let_you_know")}))}return}(O!==u.tc.FILE_ROLE_INVITE_REDEEM||w())&&F({licenseType:e,editorType:S?I?.editorType??null:null,entryPoint:O,upgradeReason:D})({}),(0,m.EM)("entry_point"),(0,m.EM)("upgrade_request_type")},[B,C],([e,t])=>!e&&!t)}},123441(e,t,r){r.d(t,{g:()=>d});var a=r(350923),n=r(779757),i=r(644350),s=r(431860),l=r(53603);let o=(0,a.Iz)(({orgId:e,eventType:t})=>(0,s.Z1)(i._ob.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),d=(0,a.Iz)(e=>(0,a.eU)(t=>{let r=t(l._s);return r?t(o({orgId:r,eventType:e})):n.Qw.disabled()}))},901805(e,t,r){if(r.d(t,{ND:()=>n,l:()=>l,lr:()=>s,pC:()=>i}),1464==r.j)var a=r(741542);let n=1464==r.j?{key:"createEduTeam",value:"1"}:null,i=1464==r.j?{key:"upgradeEduTeam",value:"1"}:null;function s(){return new Date("2025-09-29T00:00:00")}function l(e){return!!(0,a.getFeatureFlags)().edu_in_app_offboarding_reverification_copy&&!!e&&e>new Date(s().getTime()-864e5)}},452336(e,t,r){r.d(t,{V:()=>l});var a=r(557998);if(1464==r.j)var n=r(741542);var i=r(140979),s=r(644350);function l(e){let t=(0,i.bc)(s.InN,{},{enabled:(0,n.getFeatureFlags)().dtm_deprecation_post_migration_onboarding});if(!e||!(0,n.getFeatureFlags)().dtm_deprecation_post_migration_onboarding)return{isDraftsToMovePlan:!1,dtmMigrationCompleted:!1,starterTeamCreated:!1};let r=(0,a.unwrap)(t.data?.personalDraftToPlanDraftLocation),l=r?.planParentId===e.key.parentId,o=(0,a.unwrap)(r?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,d=r?.toDraftsFolder?.plan?.name,c=r?.planParentType,u=r?.planParentId;return{isDraftsToMovePlan:l,dtmMigrationCompleted:r?.status==="complete",starterTeamCreated:o,dtmMigrationPlanName:d,dtmPlanParentId:u,dtmPlanParentType:c}}},883482(e,t,r){if(r.d(t,{Z:()=>i}),1464==r.j)var a=r(254842);let n=e=>e.activeFileUsers,i=e=>(0,a.Mz)(n,t=>t[e]||{})},9785(e,t,r){r.d(t,{X:()=>rK,W:()=>r$});var a=r(645186),n=r(741542),i=r(838719),s=r(578880),l=r(94241),o=r(865780),d=r(271332),c=r(239976),u=r(105652),_=r(557998),m=r(79251),p=r(442549),h=r(523924),f=r(732632),x=r(395227),g=r(43438),b=r(831407),v=r(688357),y=r(306831),j=r(730351),w=r(850159),C=r(350923),T=r(3752);r(574988);var k=r(181645),E=r(214030),I=r(865804),A=r(30890),N=r(870527),S=r(921282),R=r(363466),O=r(59762),D=r(436174),F=r(703903),M=r(828205),P=r(162528),L=r(921424),B=r(471014),U=r(289886),H=r(517436),W=r(660983),z=r(596690),V=r(916290),G=r(69628),q=r(493094),K=r(227031),$=r(425145),Y=r(613629),J=r(700141),X=r(117645),Q=r(691041),Z=r(38900),ee=r(580618),et=r(795210),er=r(508295),ea=r(487817),en=r(818622),ei=r(735292),es=r(742927),el=r(649862);function eo(){let e=(0,a.wA)(),t=(0,er.iZ)(),r=(0,o.sZ)(),i=!!r?.id,s=(0,q.gY)(Q.l),l=(0,n.getFeatureFlags)().terms_of_service_may_2025_update,d=(0,J.T)(r),u=!!d?.data?.isEligible,_=(0,ee.vK)({planParentId:r?.id||"",planType:ea.OL.ORG},{enabled:i&&u}),m=!!_.data,p=(0,ee.jv)({billableProductKeys:et.N_,baseQuery:{tier:(0,en.kA)(r)?ei.Ju.ENTERPRISE:ei.Ju.ORG,currency:_.data,renewalTerm:ei.IX.YEAR,unit:ei.IX.MONTH},options:{enabled:m}});if(!r?.id||"loaded"!==d.status||!d.data.isEligible)return null;let h=d.data.orgTermsInfo.renewalDate,f=(0,$.w)(),x=30>=(0,N.A)(h).diff(f,"day");if(!h||!p.data)return null;let b=(0,c.jsxs)("span",{children:[l&&(0,w.tx)("seat_billing_terms.banner.urgent.main_text_v2"),!l&&(x?(0,w.tx)("seat_billing_terms.banner.urgent.main_text"):(0,w.tx)("seat_billing_terms.banner.info.main_text",{renewalDate:h.toDate()}))]}),v=(0,c.jsxs)("span",{children:[l&&(0,w.tx)("seat_billing_terms.banner.urgent.description_v2",{renewalDate:h.toDate()}),!l&&(x?(0,w.tx)("seat_billing_terms.banner.urgent.description"):(0,w.tx)("seat_billing_terms.banner.info.description"))]});return(0,c.jsx)(I.fu,{name:"Seat Billing Terms Reminder Banner",properties:{userId:t?.id,orgId:r?.id,variant:x?l?"error":"warning":"info"},children:(0,c.jsx)("div",{className:U.s.sticky.top0.$,style:W.sx.add({zIndex:2}).$,children:(0,c.jsx)(es.C,{content:{id:el.om.SeatBillingTermsReminder,bannerType:x?el.x1.DANGER:el.x1.INFO_SOFT,mainText:b,description:v,dismissible:!1,positionStatic:!0,icon:x?(0,c.jsx)(g.e,{}):(0,c.jsx)(G.M,{}),iconSize:"medium",button:{buttonText:(0,w.tx)("seat_billing_terms.banner.review_and_accept"),onClick:()=>{e(Z.to({type:(0,X.w)(),data:{orgId:r.id,organizationName:r.name,renewalDate:h,isEnterprise:(0,en.kA)(r),onAccept:()=>s({planParentId:r.id,planType:ea.OL.ORG}).then(()=>{e(Y.F.enqueue({message:(0,w.t)("seat_billing_terms.modal.success")}))}),prices:p.data}}))}}},onDismiss:V.lQ,dataTestId:"seat-billing-terms-banner"})})})}var ed=r(824272),ec=r(50751),eu=r(790174),e_=r(69603),em=r(890681),ep=r(69950),eh=r(653982),ef=r(123441),ex=r(886213),eg=r(331850),eb=r(717638),ev=r(674019);let ey="non_admin_billing_terms_banner_seen",ej=(0,ef.g)(ey),ew=ex.M4.Query({fetch:async e=>(await ev.w.getNonAdminBillingTermsBanner(e)).data.meta}),eC=ex.M4.Mutation(async e=>{await eb.G.postOrgUserFlags({orgUserId:e.orgUserId,flags:{[ey]:!0}})});function eT(){let e=(0,er.iZ)(),t=(0,o.sZ)(),r=(0,C.md)((0,J.b)(t?.id??null)),a=(0,C.md)(ej),i=(0,n.getFeatureFlags)().terms_of_service_may_2025_update,s=!!t?.created_at&&(0,eh.d)({date:new Date(t?.created_at)}),l=(0,eg.D6)("NonAdminBillingTermsBanner"),d=(0,eg.Ty)(l?.data??null),[_]=(0,ex.IT)(ew({orgId:t?.id}),{enabled:!!t?.id&&i&&s&&!d}),m=(0,ex.gY)(eC),p=r.unwrapOr(!1),h=l?.data?.key.parentId,{is_eligible:f,renewal_date:x,admin_settings_url:g,admin_emails:b}=_.unwrapOr({is_eligible:!1,renewal_date:"",admin_settings_url:"",admin_emails:[]}),v=(0,$.w)(),y=(0,N.A)(x),j=v.isBefore(y)&&7>=y.diff(v,"day"),T=u.useMemo(()=>(function({adminEmails:e,renewalDate:t,userName:r,adminSettingsLink:a}){if(!e||!t||!a||!t.isValid())return"";let n=encodeURIComponent((0,w.t)("non_admin_billing_terms.email_subject")),i=encodeURIComponent((0,w.t)("non_admin_billing_terms.email_body",{renewalDate:t.toDate(),admin_link:a,userName:r||""})),s=e.join(", ");return`mailto:${s}?subject=${n}&body=${i}`})({adminEmails:b,renewalDate:y,userName:e?.name,adminSettingsLink:g}),[b,y,e,g]);return y.isValid()&&t?.id&&i&&p&&!a.data&&h&&f&&j&&s?(0,c.jsx)(I.fu,{name:"Non Admin Billing Terms Reminder Banner",properties:{userId:e?.id,orgId:t?.id,emails:b?.join(", ")},children:(0,c.jsxs)(ed.Cs,{variant:"warn",onDismiss:()=>{(0,k.sx)("CTA Clicked",{name:"Non Admin Billing Terms Reminder Banner dismissed",currentOrgId:t.id,userId:e?.id,emails:b?.join(",")}),m({orgUserId:h})},children:[(0,c.jsx)(ec.Q,{children:(0,w.tx)("non_admin_billing_terms.banner_description",{name:t.name,renewalDate:y.toDate()})}),T&&(0,c.jsx)(H.pW,{href:T,variant:"secondary",children:(0,w.tx)("non_admin_billing_terms.contact_admin_button")})]})}):null}var ek=r(594293),eE=r(706354),eI=r(655673),eA=r(113116),eN=r(985373),eS=r(431493),eR=r(458983),eO=r(3273),eD=r(328151),eF=r(613549);function eM({team:e,openInvoiceUrls:t}){let r=(0,a.wA)();if(0===t.length)return null;let n={"data-tooltip-type":eD.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,c.jsx)(eA.$z,{onClick:()=>{t.length>1?r(eN.sf({view:"teamAdminConsole",teamId:e.id,teamAdminConsoleViewTab:eO.Iv.BILLING})):(0,A.FJ)(t[0],"_blank","noopener")},variant:"secondary",...n,children:(0,w.t)("team_view.locked_proteam_admin_invoice_reminder_banner.cta",{invoiceCount:t.length})})}function eP(e){let t=e.team?.restrictions_list?.includes(ea.P4.LOCKED),r=(0,eS.Ti)({planId:e.team.id,planType:ea.OL.TEAM}),a=(0,eI.L)(eE.FigmaTeam.BILLING_EXPERIENCE),n=t?(0,w.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.title"):(0,w.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.title"),i=t?(0,w.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.subtitle"):(0,w.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.subtitle"),s=(0,ek.WI)(r.data?.map(e=>e.hosted_invoice_url)??[]);return(0,c.jsx)(I.fu,{name:"team_admin_open_invoice_reminder_banner",properties:{teamId:e.team.id},trackingOptions:a,children:(0,c.jsx)(es.C,{content:{id:0,bannerType:el.x1.WARN_SOFT,mainText:n,description:i,dismissible:!1,positionStatic:!0,icon:(0,c.jsx)(g.e,{}),iconSize:"medium",button:{type:el.MA.CUSTOM,element:(0,c.jsx)(eM,{team:e.team,openInvoiceUrls:s})}},onDismiss:V.lQ})})}var eL=r(183890),eB=r(479737),eU=r(410154),eH=r(792957),eW=r(77516),ez=r(612883),eV=r(317507),eG=r(539554),eq=r(999682),eK=r(734926),e$=r(56771),eY=r(225376),eJ=r(483718),eX=r(195003),eQ=r(406995),eZ=r(494423),e0=r(235532),e1=r(858810),e4=r(264113),e5=r(354621),e6=r(110638),e3=r(128003),e9=r(523454),e2=r(798413),e8=r(536095),e7=r(308878),te=r(566453),tt=r(863825),tr=r(938128),ta=r(375872),tn=r(83522),ti=r(169984),ts=r(854263),tl=r(420002);function to(e){let t,r,n,i,s=(0,tr.xo)(),o=!!(0,ta.hA)(),d=(0,er.TA)(),_=(t=(0,tr.xo)(),r=(0,a.wA)(),n=(0,er.iZ)(),i=(0,l.q5)(),t&&i&&n?async()=>{let e=await ts.S.copyFile(i.key);if(e.data.meta){let t=e.data.meta;if(S.eD)return void S.eD.openFile({fileKey:t.key,title:t.name,fileEditorType:"dev_handoff",target:S.aw.FOCAL_TAB,isBranch:!1,isLibrary:!1,isTeamTemplate:!1,userId:n?.id});D.Ay.redirect((0,tn.jN)({file:t,isDevHandoff:!0}),"_blank")}else r(tt.s.error((0,w.t)("file_browser.file_browser_actions.file_copy_error")))}:null),[m,p]=(0,u.useState)(!1),[h,f]=(0,ti.QF)(d||"")||[],x=async()=>{_&&(p(!0),await _(),p(!1))};if(!s||o)return null;let g=(0,c.jsx)(eA.c,{disabled:!_||m,onClick:x,variant:"primary",trackingProperties:{planId:f,planType:h},children:(0,w.t)("dev_handoff.demo_file.request_access")});return(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!1,bannerType:el.x1.INFO_SOFT,icon:(0,c.jsx)(te.l,{className:"x1aue78i"}),iconSize:"medium",mainText:(0,c.jsx)("span",{...{className:"xemv814"},children:(0,w.t)("dev_handoff.demo_file.get_dev_mode_to_simplify")}),button:{type:el.MA.CUSTOM,element:g}}})}var td=r(785871),tc=r(884024),tu=r(497544),t_=r(229127),tm=r(759889),tp=r(971432),th=r(309295),tf=r(839066),tx=r(383383),tg=r(283914),tb=r(625792),tv=r(363126),ty=r(244114),tj=r(563738),tw=r(145906),tC=r(220117),tT=r(784911),tk=r(96875),tE=r(572914),tI=r(130768),tA=r(746036),tN=r(660256),tS=r(827988),tR=r(378674),tO=r(944990),tD=r(722524);function tF(){let{openMakePublishFlow:e}=(0,tN.X)(),t=(0,C.md)(tO.td)||!1;return(0,c.jsx)(eA.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1tk3asg xmkeg23 x1y0btm7 xau91oi x1ypdohk"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1ypdohk x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[0|!!t],onClick:()=>e("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:E.c.PUBLISH_TEMPLATE,buttonContext:(0,w.t)("slides.templates.banner.publish_template_button"),productType:ea._Y.FIGMAKE},disabled:t,children:(0,w.tx)("slides.templates.banner.publish_template_button")})}function tM({showBanner:e}){let{openCooperPublishFlow:t}=(0,tA.t)(),r=(0,tT.l)(e);return(0,c.jsx)(eA.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[0|!!r],onClick:()=>t("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:E.c.PUBLISH_TEMPLATE,buttonContext:(0,w.t)("slides.templates.banner.publish_template_button"),productType:ea._Y.COOPER},disabled:r,children:(0,w.tx)("slides.templates.banner.publish_template_button")})}function tP(){return(0,c.jsx)(eA.e6,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg x1ypdohk"},onClick:()=>(0,A.FJ)(tk.qv,"_blank"),trackingProperties:{trackingDescriptor:E.c.SHOW_ME_HOW,buttonContext:(0,w.t)("cooper.templates.show_me_how"),productType:ea._Y.COOPER},children:(0,w.tx)("cooper.templates.show_me_how")})}var tL=r(151995),tB=r(376217),tU=r(140979),tH=r(668522),tW=r(824234),tz=r(936652),tV=r(473397),tG=r(773201),tq=r(644350),tK=r(754305),t$=r(212001),tY=r(217169);function tJ(e){let{teamId:t}=e,r=(0,a.wA)(),n=(0,tG._6)(),i=(0,a.d4)(e=>e.folders),s=(0,tU.bc)(tq.bel,{teamId:t}),l=(0,tV.E9)(),o=(0,tH.oA)(s.data?.team?.teamFileCounts?.totalFileCount)??0,d=s.data?.team?.teamFileCounts?.designFileCount??0,u=s.data?.team?.teamFileCounts?.whiteboardFileCount??0,_=(0,a.d4)(e=>e.teams[t]),m=e=>{e.preventDefault(),r(Z.Lo())},p=d>e9.WW&&!l,h=u>e9.WW&&!l,f=o>e9.WW&&l,x=Object.keys(i).filter(e=>i[e]?.is_view_only).map(e=>i[e]),g=Object.keys(i).filter(e=>i[e]?.is_invite_only).map(e=>i[e]);return(0,c.jsx)(I.fu,{name:"LockedTeamUsageModal",properties:{teamId:t},children:(0,c.jsxs)(tK.d_,{className:"locked_team_usage_modal--modal---ltnU",size:"medium",children:[(0,c.jsx)("div",{className:"locked_team_usage_modal--modalBar--Sz2VH",children:(0,c.jsx)(tW.B,{className:"locked_team_usage_modal--modalCloseX--LcMaq",svg:tY.A,onClick:m})}),(0,c.jsx)("h3",{className:"locked_team_usage_modal--headerText--mRYvk",children:(0,w.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")}),(0,c.jsxs)("ul",{children:[f&&(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:o-e9.WW})}),p&&(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:d-e9.WW})}),h&&(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:u-e9.WW})}),(0,c.jsx)(function(){return!_?.projects||_.projects<=e9.Wf?null:(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.remove_projects",{numProjects:_.projects-e9.Wf})})},{}),x.length>0&&(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.remove_view_only_permissions_from_all_projects")}),g.length>0&&(0,c.jsx)("li",{children:(0,w.tx)("payments_modal.remove_invite_only_permissions_from_all_projects")})]}),(0,c.jsx)("p",{children:(0,w.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:(0,c.jsx)(L.Us,{onClick:e=>{e.preventDefault(),r(Z.Lo()),r(ez.WX({teamId:t,selectedView:n,entryPoint:(0,eZ.cH)(eQ.C.TEAM_PAGE_LOCKED_TEAM_USAGE_MODAL)}))},trackingProperties:{trackingDescriptor:E.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,children:(0,w.tx)("payments_modal.upgrade_to_professional")})})}),(0,c.jsx)("div",{className:`${t$.v0} locked_team_usage_modal--buttonRow--0SFC1`,children:(0,c.jsx)(L.M7,{onClick:m,trackingProperties:{teamId:t},children:(0,w.tx)("payments_modal.okay")})})]})})}let tX=(0,tz.Ju)(function(e){return(0,c.jsx)(K.u9,{label:"LockedTeamUsageModal",children:(0,c.jsx)(tJ,{...e})})},"LockedTeamUsageModal");var tQ=r(71239),tZ=r(297151);function t0({manager:e,userCanEditFile:t,isUserConnected:r}){return(0,c.jsx)(tQ.bL,{manager:e,width:"fit-content",children:(0,c.jsxs)(tZ.vo,{children:[(0,c.jsx)(tZ.Y9,{children:(0,c.jsx)(tZ.hE,{children:t?(0,w.t)("multiplayer_upgrade_modal.content_saving"):(0,w.t)("multiplayer_upgrade_modal.content_reloading")})}),r||(0,c.jsx)(tZ.nB,{children:(0,w.t)("multiplayer_upgrade_modal.content_offline")}),(0,c.jsx)(tZ.wi,{children:(0,c.jsx)(tZ.jk,{children:(0,c.jsx)(tu.k,{size:"md"})})})]})})}var t1=r(89393),t4=r(204062),t5=r(179914),t6=r(724026),t3=JSON.parse('{"safari":"16","firefox":"101","chrome":"99","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}'),t9=r(549031),t2=r(682916),t8=r(756690);let t7={bannerId:el.om.TestWarningBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},re={bannerId:el.om.TestOOMBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:"80% of memory used",customElem:(0,c.jsx)("div",{className:t9.DB,children:(0,c.jsx)(td.wc,{memoryUsagePercent:80})}),description:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("b",{style:W.sx.fontSemiBold.$,children:"This file is almost out of browser memory."})," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."]}),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},rt={bannerId:el.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...r}=t3,a=(0,F.R)("day"),n=new Date(t);if(n>new Date(a.getTime()+24192e5)||!T.A.isUnsupportedBrowser(r))return null;let i=n>a?(0,w.t)("banner.browser_deprecation.description",{deprecationDate:n}):(0,w.t)("banner.browser_deprecation.description_now"),s={dismissible:!0,bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,w.t)("banner.browser_deprecation.learn_more"),onClick:()=>D.Ay.redirect("https://help.figma.com/hc/articles/360039827194-Figma-browser-requirements","_blank")}};return(0,c.jsx)(tl.f,{...e,bannerContent:s})},dataTestId:"browser-deprecation-banner"},rr={bannerId:el.om.CooperOldFileBanner,Banner:function(e){let t=(0,eH.to)();if(!(0,u.useMemo)(()=>{if(!t||!(0,eH.HH)())return!1;let e=(0,j.UN)();if(!e||!e.isValidScene)return[];let r=(0,y.bV)(e,"0:1");if(r.find(e=>"cooper_root"===e.name))return!0;let a=r.find(e=>"SLIDE_GRID"===e.type);return!!(a&&a.childrenNodes.find(e=>e.maxWidth!==v.IPu?.gridMaxWidth()))},[t]))return null;{let t={dismissible:!1,bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.cooper.old_file.title"),description:(0,w.t)("banner.cooper.old_file.description")};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}},dataTestId:"cooper-old-file-banner"},ra={bannerId:el.om.InteropPagesBanner,Banner:function(e){return(0,e$.V6)()?(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!0,bannerType:el.x1.WARN_SOFT,icon:t8.A,mainText:"[Internal] Interop pages",description:(0,c.jsxs)("span",{children:["We\u2019ve sunset interop pages, so this file might be wonky. Ping ",(0,c.jsx)("a",{href:"https://figma.slack.com/archives/C065U6BKPBR",target:"_blank",rel:"noopener noreferrer",children:"#feat-interop-pages"})," for help."]})}}):null},dataTestId:"interop-pages-banner"},rn={bannerId:el.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,S.GN)();if(null==t||C.zl.get(R.Pi))return null;let r=(0,w.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),a={dismissible:!0,bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.desktop_app_deprecation.title"),description:r,button:{buttonText:(0,w.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>D.Ay.unsafeRedirect(S.tr,"_blank")},dismissedAtom:R.Pi};return(0,c.jsx)(tl.f,{...e,bannerContent:a})},dataTestId:"desktop-deprecation-banner"},ri={bannerId:el.om.TestInfoBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:el.x1.INFO,icon:t2.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>D.Ay.redirect("/education/apply",T.A.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},rs={bannerId:el.om.ProTeamPastDue,Banner:function(e){let t=(0,a.wA)(),r=(0,l.q5)(),n=r?.team,i=!!n?.canAdmin,s=!!r?.canEdit,o=n&&n.subscription===ea.Qh.PAST_DUE,d={"data-tooltip-type":eD.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0},u=n?.id;if(u&&o&&!s){let r={bannerType:el.x1.WARN_SOFT,icon:(0,c.jsx)(g.e,{}),iconSize:"medium",mainText:i?(0,w.t)("banner.pro_team_past_due_revamp.title"):(0,w.t)("banner.pro_team_past_due_revamp.title_viewer"),description:i?(0,w.t)("banner.pro_team_past_due_revamp.subtitle.can_admin"):(0,w.t)("banner.pro_team_past_due_revamp.subtitle.no_admin"),button:i?{type:el.MA.CUSTOM,element:(0,c.jsx)(f.$n,{onClick:()=>{t?.(eN.sf({view:"teamAdminConsole",teamId:u,teamAdminConsoleViewTab:eO.Iv.BILLING}))},variant:"secondary",...d,children:(0,w.t)("banner.pro_team_past_due_revamp.cta")})}:void 0,dismissible:!1};return(0,c.jsx)(tl.f,{...e,bannerContent:r})}return null},dataTestId:"pro-team-past-due-banner"},rl={bannerId:el.om.ExternalContentControlBanner,Banner:function(e){let t=(0,a.wA)(),r=(0,l.q5)(),n=(0,er.iZ)(),i=(0,o.dq)(),s=(0,e2.R$)(n,i),d=(0,a.d4)(e=>{if(!s)return null;let t=e.orgById[n.external_restricted_org_id];return t?t.name:null});if(s&&d){let a=!!r&&r.viewerExportRestricted,n={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.tx)("external_collaboration_restricted.banner.title"),description:(0,w.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:d}),button:a?void 0:{buttonText:(0,w.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{r?.editorType==="design"?t(eW.u1({id:eq.C9})):t(Z.to({type:tL.B,data:{pickerInfo:{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}}}))}},dismissible:!1};return(0,c.jsx)(tl.f,{...e,bannerContent:n})}return null},dataTestId:"external-content-control-banner"},ro={bannerId:el.om.ProTeamChargeFailed,Banner:function(e){let t=(0,a.wA)(),r=(0,l.q5)(),n=r?.team,i=!!n?.canAdmin,s=n&&n.subscription===ea.Qh.GRACE_PERIOD,o={"data-tooltip-type":eD.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0},d=n?.id;if(d&&s&&i){let r={bannerType:el.x1.WARN_SOFT,icon:(0,c.jsx)(g.e,{}),iconSize:"medium",mainText:(0,w.t)("banner.pro_team_charge_failed_revamp.title"),description:(0,w.t)("banner.pro_team_charge_failed_revamp.subtitle.can_admin"),button:{type:el.MA.CUSTOM,element:(0,c.jsx)(f.$n,{onClick:()=>{t?.(eN.sf({view:"teamAdminConsole",teamId:d,teamAdminConsoleViewTab:eO.Iv.BILLING}))},variant:"secondary",...o,children:(0,w.t)("banner.pro_team_past_due_revamp.cta")})},dismissible:!1};return(0,c.jsx)(tl.f,{...e,bannerContent:r})}return null},dataTestId:"pro-team-charge-failed-banner"},rd={bannerId:el.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,a.wA)(),r=(0,eR.cD)(),n=(0,l.q5)(),s=n?.team,o=!!s?.canAdmin;if(s&&s.subscription===ea.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let a=o?(0,c.jsx)("span",{children:(0,w.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:(0,c.jsx)("a",{href:`mailto:${(0,i.supportEmail)()}`,children:(0,w.tx)("banner.pro_team_no_monthly_sub.contact_support")})})}):(0,c.jsx)("span",{children:(0,w.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:s.name})}),n={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.pro_team_no_monthly_sub.locked"),description:a,button:o?{buttonText:(0,w.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(eN.sf({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:eO.Iv.SETTINGS}))}}:void 0};return(0,c.jsx)(tl.f,{...e,bannerContent:n})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},rc={bannerId:el.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,a.wA)(),r=(0,eR.cD)(),n=(0,a.d4)(e=>r?e.teams[r]:null),i=(0,e6.FC)(),o=(0,s.m0)(),d=(0,s.ow)(),u=(0,a.Pj)(),_=(0,l.q5)(),m=!!_?.canEdit,p=r&&!!_?.team?.canEdit,h=n&&n.id&&!(0,e9.n0)(n)&&!n.student_team&&(0,e9.oc)(n.id,i);if(h){let a=n.student_team_state===ea.kU.STUDENT_TEAM_EXPIRED,i=!!r&&h;if(i&&!m){let i=!!n.stripe_customer_id,s=()=>{t(Z.to({type:tB.t,data:{teamId:r,canEditTeam:!0}}))},l=()=>{let e=u.getState();t(ez.WX({teamId:r,selectedView:e.selectedView,entryPoint:(0,eZ.cH)(eQ.C.PROJECT_PAGE_LOCKED_TEAM_BANNER)}))},_=a?(0,w.t)("locked_team.card.title"):d?(0,w.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,w.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),m=a?(0,c.jsx)(I.fu,{name:"edu_locked_team",children:(0,c.jsx)("div",{style:W.sx.add({marginLeft:"-32px"}).$,children:(0,w.tx)("locked_team.card.edu_description",{reverifyEduLink:(0,c.jsx)(L.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,w.tx)("locked_team.card.reverify_edu_link")}),upgradeProLink:(0,c.jsx)(L.Us,{onClick:l,trusted:!0,children:(0,w.tx)("locked_team.card.upgrade_pro_link")})})})}):(0,c.jsx)("div",{style:W.sx.add({marginLeft:"-32px"}).$,children:(0,w.tx)(o?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:p?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s()},children:(0,w.tx)("locked_team.banner.learn_more")})}):(0,c.jsx)(c.Fragment,{})})}),h=a?{buttonText:(0,w.t)("locked_team.banner.learn_more"),onClick:s,className:t9.n3}:p?{buttonText:i?(0,w.t)("locked_team.banner.reactivate_professional"):(0,w.t)("locked_team.banner.upgrade_to_professional"),onClick:l,className:t9.Vg}:void 0,f={bannerType:el.x1.WARN_SOFT,icon:(0,c.jsx)(b.s,{}),mainText:_,description:m,button:h};return(0,c.jsx)(tl.f,{...e,bannerContent:f})}if(!i&&!o){let a;a=p?(0,c.jsxs)("span",{children:[(0,c.jsxs)("b",{style:W.sx.fontSemiBold.$,children:[(0,w.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:n.name})," "]}),(0,w.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:n.name,learnMoreLink:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(Z.to({type:tX,data:{teamId:r}}))},children:(0,w.tx)("banner.free_limit_locked.learn_more")})})})]}):(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{style:W.sx.fontSemiBold.$,children:(0,w.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:n.name})})," ",(0,w.tx)("banner.free_limit_locked.ask_your_team_admin_for_details")]});let i={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.free_limit_locked.locked"),description:a,button:p?{buttonText:(0,w.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=u.getState();t(ez.WX({teamId:r,selectedView:e.selectedView,entryPoint:(0,eZ.cH)(eQ.C.PROJECT_PAGE_LOCKED_TEAM_BANNER)}))},className:t9.n3}:void 0};return(0,c.jsx)(tl.f,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},ru={bannerId:el.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,l.q5)(),r=(0,o.dq)(),n=(0,a.d4)(en.wA),i=null,s=null;if(i=r&&(0,_.unwrap)(t?.isAbandonedDraftFile),s=(0,_.unwrap)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,w.tx)("banner.orphaned_projects.move_to_project")," ",(0,c.jsx)(L.N_,{trusted:!0,target:"_blank",className:U.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,w.tx)("general.learn_more")})]}):(0,w.t)("banner.orphaned_projects.move_to_project.member",{orgName:n?.name??""}),i&&t){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:s};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"orphaned-org-drafts-file-banner"},r_={bannerId:el.om.TeamAbandonedDraftsFile,Banner:function(e){let t=(0,l.q5)(),r=(0,o.dq)(),a=(0,_.unwrap)(t?.isAbandonedDraftFile),n=(0,eR.ol)();if(n&&!r&&a){let r=(0,_.unwrap)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,w.tx)("banner.orphaned_projects.move_to_project.team")," ",(0,c.jsx)(L.N_,{trusted:!0,target:"_blank",className:U.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,w.tx)("general.learn_more")})]}):(0,w.t)("banner.orphaned_projects.move_to_project.team_member",{teamName:n.name??""});if(t){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:r};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}}return null},dataTestId:"team-abandoned-drafts-file-banner"},rm={bannerId:el.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,l.q5)(),r=(0,eR.cD)(),n=(0,a.d4)(e=>r?e.teams[r]:null),i=(0,o.dq)(),s=(0,a.wA)(),d=(0,e6.FC)(),u=i&&t?.project&&(0,e0.n3)(t.project),_=!u&&!n&&t&&(0,e9.f4)(t.folderId,t.teamId,d);if((0,eX.u8)({label:eX.A5.BannerDefinitions.PersonalProjectDeprecatedFileBannerV2,oldValue:!!_,newValue:!!(!u&&!n&&t&&t.project?.isEditingLockedForUser),enableShadowRead:(0,eJ.$z)(eJ.Ii.WAYFINDING_GROUP_0),sampleRate:.01,maxReports:3})){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.personal_projects.locked"),description:(0,c.jsx)(c.Fragment,{children:(0,w.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:(0,c.jsx)("a",{href:"/pricing-faq#what-changes-for-me",children:(0,w.tx)("banner.personal_projects.learn_more")})})}),button:{buttonText:(0,w.t)("banner.personal_projects.back_to_files"),onClick:()=>s?.(eN.sf({view:"recentsAndSharing"}))}};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},rp={bannerId:el.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,eR.cD)(),r=(0,a.d4)(e=>t?e.teams[t]:null),n=(0,er.iZ)(),i=(0,eK.nF)(),s=(0,a.d4)(e=>e.userEduGracePeriods);if(!t||!n)return null;if(r&&!i?.enabled&&(0,M.GU)(s,(0,M.cn)(n),t,!!r.student_team).showAccessRestricted){let t={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.t)("banner.edu_grace_period.verification_required"),description:(0,w.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:r.name}),button:{buttonText:(0,w.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>D.Ay.redirect("/education/apply",T.A.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},rh={bannerId:el.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,eR.cD)(),r=(0,a.d4)(e=>t?e.teams[t]:null),n=(0,er.iZ)(),i=(0,eK.nF)(),s=(0,a.d4)(e=>e.userEduGracePeriods);if(t&&n){let a=r&&!i?.enabled&&(0,M.GU)(s,(0,M.cn)(n),t,!!r.student_team).showReminder,l=(0,M.zR)(s,t);if(a){let t={bannerType:el.x1.INFO,icon:t2.A,mainText:(0,w.t)("banner.edu_grace_period.verification_required"),description:(0,w.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:r.name,endDate:l}),dismissible:!0,button:{buttonText:(0,w.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>D.Ay.redirect("/education/apply",T.A.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"};function rf(e){let t;if(!e)return(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date");switch(e){case ea._Y.DESIGN:t=(0,w.t)("general.figma_design");break;case ea._Y.WHITEBOARD:t=(0,w.t)("general.figjam");break;case ea._Y.SLIDES:t=(0,w.t)("general.figma_slides");break;case ea._Y.SITES:t=(0,w.t)("general.figma_sites");break;case ea._Y.COOPER:t=(0,w.t)("general.figma_buzz");break;case ea._Y.FIGMAKE:t=(0,w.t)("general.figma_rev");break;default:(0,h.xb)(e)}return(0,w.t)("banner.multiplayer_session_upgrade.with_editor_type",{editorType:t})}let rx={bannerId:el.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,e5.p8)("multiplayerSessionState")!==v.kul.UNJOINED,r=!(0,e5.p8)("isReadOnly"),i=(0,a.d4)(e=>e.showingUpgradeBanner),s=(0,l.q5)()?.editorType,[o,d]=(0,u.useState)(!1),_=x.hS({open:o,onClose:()=>{},preventUserClose:!0});if(i){let a={bannerType:el.x1.INFO,icon:t8.A,mainText:(0,n.getFeatureFlags)().force_client_reloads_fullscreen_banner_string?rf(s):(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:r?(0,w.t)("banner.multiplayer_session_upgrade.out_of_date.editor"):(0,w.t)("banner.multiplayer_session_upgrade.out_of_date.viewer"),button:{buttonText:r?(0,w.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,k.sx)("Upgrade Banner Clicked"),v.h3O?.startUpgrade(),d(!0)}}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(tl.f,{...e,bannerContent:a}),(0,c.jsx)(t0,{manager:_,userCanEditFile:r,isUserConnected:t})]})}return null},dataTestId:"multiplayer-session-upgrade-banner"},rg={bannerId:el.om.ForceClientReload,Banner:function(e){let[t,r]=u.useState(!1),[i,s]=u.useState(!1),o=(0,C.md)(e1.T),d=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges),_=(0,l.q5)()?.editorType;if(u.useEffect(()=>{o&&!i&&(k.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.shown",{}),s(!0))},[o,i]),u.useEffect(()=>{t&&!d&&D.Ay.reload("force client reload banner",{isForceClientReloadBanner:!0})},[t,d]),o){let a={bannerType:el.x1.INFO,icon:t8.A,mainText:(0,n.getFeatureFlags)().force_client_reloads_fullscreen_banner_string?rf(_):(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date"),button:{buttonText:(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{r(!0),k.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.clicked",{})},disabled:t}};return(0,c.jsx)(tl.f,{...e,bannerContent:a})}return null},dataTestId:"force-client-reload-banner"},rb={bannerId:el.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,a.wA)(),r=(0,l.q5)(),n=(0,eK.nF)(),i=(0,er.iZ)(),s=(0,e3.f)("dismissed_figjam_try_drafts_banner"),o=(0,F.R)("minute");if(!n?.enabled||!r||!i)return null;if(!r.isTryFile&&!r.parentOrgId&&null!=r.folderId&&r.folderId===i.drafts_folder_id&&!s){let a=(0,N.A)(o),i=Math.ceil((0,N.A)(n.until).diff(a,"hours",!0)),s={bannerType:el.x1.INFO,icon:t2.A,mainText:i>1?(0,w.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,w.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,w.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(eV.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,w.t)("figjam_try.move_file"),onClick:()=>(0,eL.h)({key:r.key,name:r.name,folder_id:r.folderId,team_id:r.teamId,editor_type:r.editorType,parent_org_id:r.parentOrgId},null,t)}};return(0,c.jsx)(tl.f,{...e,bannerContent:s})}return null},dataTestId:"figjam-try-drafts-banner"},rv=(0,C.eU)(!1),ry={bannerId:el.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,l.q5)(),{onClaim:r}=(0,t5.E)(t?.key),a=(0,eK.nF)(),n=(0,er.iZ)(),[i,s]=(0,C.fp)(rv),o=(0,F.R)("minute"),d=(0,t4.d)(),u=t?.key;if(!t?.isTryFile||(0,e4.aK)()||!n||!a?.enabled||!u||i||d)return null;let _=(0,N.A)(o),m=Math.ceil((0,N.A)(a.until).diff(_,"hours",!0)),p={bannerType:el.x1.INFO,icon:t2.A,mainText:m>1?(0,w.t)("figjam_try_v2.timer_hours_left",{hoursLeft:m}):(0,w.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,w.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>s(!0),dismissible:!0,button:{buttonText:(0,w.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>r()}};return(0,c.jsx)(tl.f,{...e,bannerContent:p})},dataTestId:"figjam-try-claim-banner"},rj={bannerId:el.om.DowntimeBanner,Banner:function(e){let t=(0,a.d4)(e=>e.showingDowntimeBanner),{payload:r,status:i}=(0,a.d4)(e=>e.downtime);if(!r||!(0,n.getFeatureFlags)().display_downtime_banner)return null;let s=(0,w.tx)("downtime_banner.warning.description",{minLengthMinutes:r.minLengthMinutes,maxLengthMinutes:r.maxLengthMinutes,startTime:r.downtimeStartDate,helpcenterLink:(0,c.jsx)(L.CY,{target:"_blank",href:r.helpcenterUrl,trusted:!0,children:(0,w.t)("downtime_banner.ongoing_and_warning.learn_more_link")})}),l=(0,c.jsx)("p",{children:(0,w.tx)("downtime_banner.ongoing.description",{minLengthMinutes:r.minLengthMinutes,maxLengthMinutes:r.maxLengthMinutes,helpcenterLink:(0,c.jsx)(L.CY,{target:"_blank",href:r.helpcenterUrl,trusted:!0,children:(0,w.t)("downtime_banner.ongoing_and_warning.learn_more_link")})})}),o=()=>{let e=r.downtimeStartDate.getTime(),t=Date.now();return Math.floor((t<e?Math.floor((e-t)/1e3):0)/60)},d=null;return(t?d={bannerType:el.x1.WARN,icon:t8.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:o()}),description:s}:i===e7.A.Ongoing?d={bannerType:el.x1.WARN,icon:t8.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_in_progress_header"),description:l}:i===e7.A.Imminent&&(d={bannerType:el.x1.WARN,icon:t8.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:o()}),description:s}),d)?(0,c.jsx)(tl.f,{...e,bannerContent:d}):null},dataTestId:"downtime-banner"};function rw({hubFile:e}){return(0,eU._)(e)?(0,w.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,w.tx)("banner.freemium_preview.get_the_full_file_on_community")}function rC({hubFile:e}){return(0,eU._)(e)?(0,w.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,w.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function rT({hubFile:e}){let t=(0,eU._)(e),r=t?"":`?${eG.Tb}`;return(0,c.jsx)(eB.A6,{to:`/community/file/${e.id}${r}`,children:(0,c.jsx)(L.tM,{trackingProperties:{trackingDescriptor:t?E.c.OPEN_IN_COMMUNITY:E.c.BUY_THE_RESOURCE},children:t?(0,w.tx)("banner.freemium_preview.open_in_community"):(0,w.tx)("banner.freemium_preview.buy_the_resource")})})}let rk={bannerId:el.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,l.tS)(),r=(0,a.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),n=(0,a.d4)(e=>r?e.hubFiles[r.hubFileId]:null);return r&&r.isPreview&&n&&n.monetized_resource_metadata?(0,c.jsx)(tl.f,{...e,bannerContent:{bannerType:el.x1.INFO,icon:t2.A,dismissible:!1,mainText:(0,c.jsx)(rw,{hubFile:n}),description:(0,c.jsx)(rC,{hubFile:n}),button:{type:el.MA.CUSTOM,element:(0,c.jsx)(rT,{hubFile:n})}}}):null},dataTestId:"freemium-preview-banner"},rE={bannerId:el.om.FileCreationFailureBanner,Banner:function(e){if((0,a.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:el.x1.WARN,dismissible:!1,mainText:(0,w.tx)("banner.file_creation_failure.title"),description:(0,w.tx)("banner.file_creation_failure.description")};return(0,c.jsx)(tl.f,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},rI={bannerId:el.om.FileIsTeamTemplate,Banner:function(e){let t=(0,a.wA)(),r=(0,e5.aV)(),n=(0,tm.kD)(),i=(0,tp.b4)(),o=(0,l.q5)(),d=(0,tm.tS)(),u=(0,tm.ac)(),_=(0,tg.Td)(),m=(0,s.lg)(),p=(0,tv.sO)(),h=(0,eH.to)(),x=(0,s.ow)(),g=(0,er.iZ)(),b=g?.id&&n&&n.publishedByUserId===g.id,v=(0,tm.J3)(),y=(0,C.md)(ty.wb),j=(0,tp.WS)(),T=null!=n&&j(n.fileKey);if(!d||r||!o||!n||_||null===u||y)return null;let k=u&&v===tm.kN.CAN_PUBLISH,I=()=>{if(n&&o)if(h){let e=new URL((0,tx.e)(m,th.f6.TEAM_TEMPLATE_BANNER,o.libraryKey),document.baseURI).href;D.Ay.redirect(e,"_blank")}else i({templateIdentifier:{type:tf.vt.TeamTemplate,file_key:n.fileKey},templateName:n.name,openInNewTab:m===ea._Y.FIGMAKE})},A=()=>{(0,tb.YM)(t,n.fileKey,m,"editor-republish-banner")},N=p?(0,w.t)("slides.templates.banner.new_deck_button"):(0,w.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button"),S=(0,c.jsx)(t_.vu,{editorType:m,libraryKey:o.libraryKey,variant:k&&b?"bannerSecondary":"bannerPrimary"}),R=(0,c.jsx)("div",{...{className:"x1n2onr6"},children:(0,c.jsxs)(f.$n,{variant:"secondary","data-testid":"banner-cta-button",children:[(0,c.jsx)("span",{className:"xlshs6z",children:N}),(0,c.jsx)("span",{...{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz"},children:(0,c.jsx)(tu.k,{size:"md"})})]})}),O=T?{type:el.MA.CUSTOM,element:R}:{type:el.MA.STRUCTURED,onClick:I,trackingDescriptor:E.c.USE_IN_NEW_FILE,buttonText:N},F=T?R:(0,c.jsx)("div",{...{className:"x1n2onr6"},children:(0,c.jsx)(eA.e6,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg xt0e3qv xwa2v1s"},onClick:I,trackingProperties:{trackingDescriptor:E.c.USE_IN_NEW_FILE,buttonContext:N,productType:m},"data-testid":"buzz-banner-cta-button",children:N})});if(k){if(!b){let t=h?{type:el.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,S]})}:O;return(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!1,bannerType:x?el.x1.FPL_BRAND:el.x1.INFO,icon:tj.A,mainText:(0,w.t)("templates.banner.republish.primary_text"),description:(0,w.t)("templates.banner.republish.secondary_text_not_owner"),button:t}})}let t={type:el.MA.STRUCTURED,onClick:A,trackingDescriptor:E.c.PUBLISH_CHANGES,buttonText:(0,w.t)("templates.banner.republish.republish_action")},r=(0,c.jsx)(eA.e6,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},onClick:A,trackingProperties:{trackingDescriptor:E.c.PUBLISH_CHANGES,buttonContext:(0,w.t)("templates.banner.republish.republish_action"),productType:m},children:(0,w.t)("templates.banner.republish.republish_action")}),a=h?{type:el.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,S,r]})}:t;return(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!1,bannerType:x?el.x1.FPL_BRAND:el.x1.INFO,icon:tj.A,mainText:(0,w.t)("templates.banner.republish.primary_text"),description:(0,w.t)("templates.banner.republish.secondary_text"),button:a}})}let M=n.publishedByUser?.handle&&(b?p?(0,w.tx)("slides.templates.banner.republish.you"):(0,w.tx)("templates.banner.made_by_you"):p?n.publishedByUser.handle:(0,w.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:n.publishedByUser.handle})),P=M?p?(0,w.tx)("slides.templates.banner.republish.made_this",{madeByPublisherName:M}):(0,w.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:(0,c.jsx)("span",{className:U.s.fontNormal.$,children:M})}):(0,w.t)("templates.banner.republish.you_re_viewing_a_template"),L=h?{type:el.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,S]})}:O;return(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!1,bannerType:x?el.x1.FPL_BRAND:el.x1.INFO,icon:(0,c.jsx)(tc.X,{...{0:{className:"xwa2v1s"},1:{}}[0|!!p]}),iconSize:"medium",mainText:P,description:p?(0,w.t)("slides.templates.banner.republish.templates_can_be_used_to_create_a_new_slide_deck"):void 0,button:L}})},dataTestId:"team-templates-banner"},rA={bannerId:el.om.TemplatePublishingNudgeBanner,Banner:function(e){let t,r=(0,e5.aV)(),a=(0,tm.kD)(),n=(0,l.q5)(),i=(0,tm.J3)(),s=(0,tI.j)()&&(0,tm.JU)(i),{draftTemplateKeys:o,isCurrentFileDraftTemplate:d,setUserDraftTemplateKeyForCurrentFile:_}=(0,tD.Iv)(),{openSlidesPublishFlow:m}=(0,tS.X)(),p=(0,C.md)(tE.Hk),h=(0,C.md)(tR.Np);(0,u.useEffect)(()=>{(p||h)&&!d()&&_()},[d,p,h,_]);let f=n?.editorType===ea._Y.SLIDES,x=n?.editorType===ea._Y.COOPER,g=n?.editorType===ea._Y.FIGMAKE,b=(0,tC.bF)()&&(0,tm.JU)(i),v=!!n?.editorType&&!a&&!r&&Object.keys(o).length>0&&(d()||p||h)&&!(x&&!s)&&!(g&&!b);return v?(t=x?{type:el.MA.CUSTOM,element:(0,c.jsx)(tw.J,{mode:"dark",children:(0,c.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:[(0,c.jsx)(tP,{}),(0,c.jsx)(tM,{showBanner:v})]})})}:g?{type:el.MA.CUSTOM,element:(0,c.jsx)(tw.J,{mode:"dark",children:(0,c.jsx)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:(0,c.jsx)(tF,{})})})}:{type:el.MA.STRUCTURED,onClick:()=>m("editor-pre-publish-banner"),trackingDescriptor:E.c.PUBLISH_TEMPLATE,buttonText:(0,w.t)("slides.templates.banner.publish_template_button")},(0,c.jsx)(tl.f,{...e,bannerContent:{dismissible:!1,bannerType:el.x1.INFO,icon:(0,c.jsx)(tc.X,{...{0:{className:"xwa2v1s"},1:{}}[0|!!f]}),iconSize:"medium",mainText:(0,w.t)("slides.templates.banner.making_a_template"),description:(0,w.t)("slides.templates.banner.publish_when_youre_done"),button:t}})):null},dataTestId:"template-publishing-nudge-banner"},rN={bannerId:el.om.OrgDowngradeBanner,Banner:function(e){let t=(0,eY.a9)(),r=(0,o.sZ)();if(!(0,n.getFeatureFlags)().org_downgrade_banner||t?.permission!==ea._D.ADMIN||r?.org_downgrade?.operation_state!=="scheduled")return null;let a=r?.org_downgrade?.scheduled_run_at;if(!a)return null;let i=new Date(a);if(i<new Date)return null;let s={bannerType:el.x1.WARN,dismissible:!1,mainText:(0,w.tx)("banner.org_downgrade.reminder.title",{orgName:r?.name||"",downgradeDate:i}),positionStatic:!0,button:{type:el.MA.CUSTOM,element:(0,c.jsx)(z.V,{onClick:()=>{(0,A.FJ)("https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215","_blank")},variant:"inverse",children:(0,w.tx)("banner.org_downgrade.reminder.contact_support")})}};return(0,c.jsx)(tl.f,{...e,bannerContent:s})},dataTestId:"org-downgrade-banner"},rS={bannerId:el.om.SeatBillingTermsReminder,Banner:function(){return(0,c.jsx)(K.u9,{label:"SeatBillingTermsReminderBanner",children:(0,c.jsx)(eo,{})})},dataTestId:"seat-billing-terms-banner"},rR={bannerId:el.om.TeamAdminOpenInvoiceReminder,Banner:function(){let e=(0,eR.ol)(),t=(0,eF.R)(e?.id),r=(0,d.n)();return e&&t&&r?(0,c.jsx)(eP,{team:e}):null},dataTestId:"team-admin-open-invoice-reminder-banner"},rO={bannerId:el.om.DevModeDemoFileUpsellBanner,Banner:function(e){return(0,c.jsx)(K.u9,{label:"DevModeDemoFileUpsellBanner",children:(0,c.jsx)(to,{...e})})},dataTestId:"dev-mode-demo-file-upsell-banner"},rD={bannerId:el.om.OrderFormBillingTermsBanner,Banner:function(){let e=(0,a.wA)(),t=(0,er.iZ)(),r=(0,o.sZ)(),n=(0,ep.Az)(r),[i,s]=u.useState(!1),l=u.createRef();if(!n.data?.isEligible)return null;let{isEligible:d,warningType:_,renewalDate:m}=n.data;if(!(d&&_&&m)||i)return null;let{variant:p,buttonText:h,onDismiss:f}={warning:{variant:"warn",buttonText:(0,w.tx)("order_form_billing_terms.button_text.warn"),onDismiss:()=>s(!0)},error:{variant:"danger",buttonText:(0,w.tx)("order_form_billing_terms.button_text.warn"),onDismiss:void 0}}[_];return(0,c.jsx)(I.fu,{name:"Order Form Renewal Banner",properties:{userId:t?.id,orgId:r?.id,variant:p},children:(0,c.jsxs)("div",{className:U.s.sticky.top0.$,style:W.sx.add({zIndex:2}).$,children:[(0,c.jsxs)(ed.Cs,{variant:p,onDismiss:f,"data-testid":"near-renewal-warning-banner",children:[(0,c.jsx)(ec.Q,{title:(0,w.tx)("order_form_billing_terms.headline_banner_text.danger"),children:(0,c.jsx)("p",{children:(0,w.tx)("order_form_billing_terms.description_banner_text.warn",{renewalDate:m.toDate()})})}),(0,c.jsx)(eu.$,{onClick:()=>{(0,e_.ny)({name:t?.name||null,email:t?.email||null},{ticketForms:["billing"],locale:t?.locale,fields:[{id:0x53d2eb6d8d,value:(0,w.t)("order_form_billing_terms.billing_contact_subject")},{id:0x53d2eb6da1,value:(0,w.t)("order_form_billing_terms.billing_contact_description")},{id:0x8d435084517,value:"b_something_else"}],suppressAnswerBot:!0})},children:h})]}),(0,c.jsx)(em.F,{ref:l,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})})},dataTestId:"order-form-billing-terms-banner"},rF={bannerId:el.om.NonAdminBillingTermsBanner,Banner:function(){return(0,c.jsx)(K.u9,{label:"NonAdminBillingTermsBanner",children:(0,c.jsx)(eT,{})})},dataTestId:"non-admin-billing-terms-banner"},rM={bannerId:el.om.eduRestrictedSitesBanner,Banner:function(e){let t,r,a,n,i=(0,l.q5)(),s=i?.editorType==="sites",{isEligible:o}=(t=(0,l.q5)(),r=!!t?.canEdit,a=!!(t&&t.teamId&&!r),n=t&&t.teamId?t.teamId:null,{isEligible:a,canEditTeam:(0,t1.$Y)(n),teamId:n}),d=(0,eg.No)(),u=d.unwrapOr(null)?.tier||null,_=(0,P.Zb)(),p=u===m.PlanTier.STUDENT&&!_;if(!(o&&s&&p))return null;let h={bannerType:el.x1.FPL_BRAND,icon:t8.A,mainText:(0,w.tx)("banner.sites_view_only_current_plan"),button:{type:el.MA.CUSTOM,element:(0,c.jsx)("div",{...{className:"x1qbgpp5"},children:(0,c.jsx)(H.pW,{href:B.R,newTab:!0,variant:"secondary",children:(0,w.tx)("general.learn_more")})})}};return(0,c.jsx)(tl.f,{...e,bannerContent:h})},dataTestId:"edu-restricted-sites-banner"};el.om.DevModeMCPSSEDeprecationBanner,t6.Y;let rP={bannerId:el.om.SlotsEnablementReload,Banner:function(e){let[t,r]=u.useState(!1),n=(0,e8.N)(),s=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges);if(u.useEffect(()=>{t&&!s&&D.Ay.reload("slots enablement reload banner",{isSlotsEnablementReloadBanner:!0})},[t,s]),n){let a={bannerType:el.x1.INFO,icon:t8.A,mainText:(0,i.isDevEnvironment)()&&!(0,i.isProd)()?(0,c.jsxs)("span",{children:["This file contains slots, but you are not in all the necessary feature flags. Please refresh the page to enable them. See"," ",(0,c.jsx)(L.CY,{href:"https://go/slots-staging",target:"_blank",trusted:!0,children:"this FAQ"})," ","or #feat-slots for more info."]}):(0,w.tx)("banner.slots_enablement_prod"),button:{buttonText:(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{r(!0)},disabled:t},dismissible:!0};return(0,c.jsx)(tl.f,{...e,bannerContent:a})}return null},dataTestId:"slots-enablement-reload-banner"},rL={bannerId:el.om.SupportShareWarningBanner,Banner:function(e){let t=(0,er.iZ)(),r=(0,O.fT)(t?.email),a=(0,l.Kf)();if(!r)return null;let n={bannerType:a?el.x1.INFO:el.x1.WARN,icon:t8.A,mainText:a?(0,c.jsx)("span",{children:"You are viewing this file as the support-share user."}):(0,c.jsx)("span",{children:"You are viewing this file as the support-share user. This file is not owned by support-share. Please use caution when making changes to customer-owned files."})};return(0,c.jsx)(tl.f,{...e,bannerContent:n})},dataTestId:"support-share-warning-banner"},rB={bannerId:el.om.GuestExpirationWarningBanner,Banner:function(e){let t=(0,eY.a9)(),r=(0,o.sZ)(),a=t?.plan_user?.guest_expiration_config,n=!!p.v.getFeatureGate("ff_guest_expiration")&&r?.tier===m.PlanTier.ENTERPRISE&&!!r?.security_add_on_enabled_at;if(t?.permission!==ea._D.GUEST||!a||!a.scheduled_expiration_at||!n)return null;let i=(0,N.A)(a.scheduled_expiration_at).toDate();if((0,N.A)(i).diff((0,N.A)(),"days")>14)return null;let s={bannerType:el.x1.WARN,icon:t8.A,mainText:(0,w.tx)("banner.guest_expiration_warning",{orgName:r?.name||"",expirationDate:i}),dismissible:!0,positionStatic:"file_browser"===e.location};return(0,c.jsx)(tl.f,{...e,bannerContent:s})},dataTestId:"guest-expiration-warning-banner"},rU=[rj,rt,rn,rx,rg,...(0,n.getFeatureFlags)().dse_slots_file_enablement?[rP]:[],rr,rI,rA,rs,ro,rd,rc,rl,ru,r_,rm,rp,rh,rB,rM,rb,ry,rk,ra,rL,...(0,i.isDevEnvironment)()?[t7,re,ri]:[]],rH=[rn,rx,rg,rO,ru],rW=[rE],rz=[],rV=[],rG=[rN,rS,rD,rF,rB],rq=[rR];function rK(){let e=(0,l.q5)(),t=(0,s.m0)(),r=e?.teamId,n=(0,a.d4)(e=>r?e.teams[r]:null);return e?r&&!n?rz:t?rH:rU:rW}function r$(){let e=(0,d.n)();return(0,o.dq)()?rG:e?rq:rV}},856011(e,t,r){r.d(t,{Y:()=>l});var a=r(239976),n=r(105652),i=r(111708);let s=n.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:r,registerActiveBanner:i}=function({prioritizedBanners:e}){let[t,r]=(0,n.useState)(()=>new Set);return{registerActiveBanner:(0,n.useCallback)(e=>(r(t=>{if(t.has(e))return t;let r=new Set(t);return r.add(e),r}),()=>{r(t=>{if(t.has(e)){let r=new Set(t);return r.delete(e),r}return t})}),[]),bannerIdToShow:function(e,t=[]){let r=(0,n.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,r)=>(e.set(t,r),e),new Map),[t]),a=(0,n.useMemo)(()=>[...e].reduce((e,t)=>{let a=r.get(t)??1/0;return a<e?a:e},1/0),[e,r]);return t[a]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return(0,a.jsx)(a.Fragment,{children:e.map(({bannerId:e,Banner:n,dataTestId:s})=>(0,a.jsx)(n,{bannerId:e,shouldDisplay:e===r,registerAsActive:i,location:t,dataTestId:s},e))})}),l=(0,i.w)(s,"BannerManager")},179914(e,t,r){r.d(t,{E:()=>g});var a=r(105652),n=r(645186);if(1464==r.j)var i=r(916290);var s=r(350923);if(1464==r.j)var l=r(528984);var o=r(64537),d=r(38900),c=r(544989),u=r(26197),_=r(508295);if(1464==r.j)var m=r(487817);var p=r(943634),h=r(283118),f=r(414233);let x=!1;function g(e){let t=(0,n.wA)(),r=(0,s.md)(c.g),g=(0,_.iZ)(),b=r!==l.r.LOADING&&r!==l.r.INIT,v=o.Q?.loadingKeyForPayload?.({file_key:e}),y=(0,n.d4)(e=>e.loadingState||{}),j=(0,p.GH)(y,v),w=(0,p.VP)(y,v);a.useEffect(()=>{r===l.r.INIT&&t((0,u.nm)(!1))},[t,r]);let C=(0,h.rc)(b&&g?r.plansByUserId[g.id]:[]),T=(0,a.useCallback)(r=>{e&&t(o.Q({file_key:e,folder_id:r}))},[t,e]),k=(0,a.useCallback)(()=>{if(e&&!w&&!j)if(b)if(1===C.length){let e=C[0];e.isPlanLocked||!e.draftFolderId||e.isFigJamDisabled||T(e.draftFolderId)}else C.length>1?t((0,d.to)({type:f.h,data:{payload:{workspaces:C,onSelectWorkspace:e=>{T(e.draftFolderId)},editorType:m._Y.WHITEBOARD,useCase:"figjamTry"}}})):T();else{if(x)return;x=!0;return}},[e,w,j,T,b,C,t]);return(a.useEffect(()=>{x&&b&&(x=!1,k())},[k,b]),e)?{onClaim:k,hasClaimedFigjamFile:j,isClaimingFigjamFile:w}:{onClaim:i.lQ,hasClaimedFigjamFile:j,isClaimingFigjamFile:w}}},767813(e,t,r){r.d(t,{zq:()=>C,zx:()=>i,Wf:()=>s,FK:()=>T});var a,n,i,s,l=r(239976),o=r(105652),d=r(859978),c=r(850159),u=r(3752),_=r(224542),m=r.n(_),p=r(801236),h=r(928814),f=r(487817),x=r(694151),g=r(358157);let b="mini_community_cards--mini_cardBottomRow_Metadata--u23Sv",v="mini_community_cards--mini_cardBottomRow_Metadata_AvatarContainer--g7JHe",y="mini_community_cards--mini_cardBottomRow_Metadata_Avatar--CmE9G",j="mini_community_cards--mini_cardBottomRow_Metadata_TextContainer--Bk0b2",w="mini_community_cards--mini_cardBottomRow_Metadata_NameOnly--Y7VQ9 text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",C=o.memo(function(e){return(0,l.jsxs)("div",{onClick:e.onClick,onContextMenu:e.onContextMenu,className:m()("mini_community_cards--mini_cardContainer--WpyM8",e.containerStyle),children:[(0,l.jsx)("div",{children:e.image}),(0,l.jsx)("div",{className:e.bottomRowStyle??"mini_community_cards--mini_cardBottomRowSizing--rK6OI",children:e.bottomRow})]})});function T(e){let t={backgroundClip:u.A.safari?"padding-box":""};return e.backgroundColor&&(t.backgroundColor=e.backgroundColor),(0,l.jsxs)("div",{className:m()("mini_community_cards--mini_cardImageContainer--w1MDy base_community_cards--base_cardImageContainer--M7dqa base_community_cards--_hasBorder--U9Tp6",e.className,e.removeBorder&&g.ev),onClick:h.wo,style:t,children:[(0,l.jsx)("div",{className:e.customRatioClassName??g.ll}),(0,l.jsx)("div",{className:g.nK,children:e.children})]})}(a=i||(i={})).Center=function(e){return(0,l.jsx)("div",{className:"mini_community_cards--mini_cardHover_Center--l8ZPp mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},a.Cover=function(e){return(0,l.jsx)("div",{className:"mini_community_cards--mini_cardHover_Cover--4XJbr mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},a.BottomLeft=function(e){return(0,l.jsx)("div",{className:"mini_community_cards--mini_cardHover_BottomLeft--fL7BE mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},a.BottomRowRight=function(e){return(0,l.jsx)("div",{className:"mini_community_cards--mini_cardHover_BottomRowRight--CkS8P mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},(n=s||(s={})).NameAndFileIconMetadata=function(e){let t=o.useMemo(()=>{switch(e.viewerMode){case f.y4.WHITEBOARD:return p.y1.WHITEBOARD;case f.y4.SLIDE_TEMPLATE:return p.y1.SLIDES;case f.y4.CANVAS:case f.y4.LIBRARY:return p.y1.DESIGN;case f.y4.PROTOTYPE:return p.y1.PROTOTYPE;default:return null}},[e.viewerMode]);return(0,l.jsxs)("div",{className:`${b} ${e.className}`,children:[(0,l.jsx)("div",{className:j,children:(0,l.jsx)("div",{className:e.textClassName||w,children:e.name})}),t&&(0,l.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_Metadata_FileIcon--Z99UM",children:(0,l.jsx)(p.w4,{type:t,size:16})})]})},n.AvatarAndNameMetadata=function(e){let t=e.publishers&&e.publishers.length>0&&e.publishers[0];return(0,l.jsxs)("div",{className:`${b} ${e.className}`,children:[t&&(0,l.jsx)("div",{className:v,children:(0,l.jsx)(x.Ro,{entity:t,size:32,className:y})}),(0,l.jsx)("div",{className:j,children:(0,l.jsx)("div",{className:e.textClassName||w,children:e.name})})]})},n.FullMetadata=function(e){if(!e.publishers||0===e.publishers.length)return null;let{publishers:t,hoverText:r,onClick:a}=e,n=e.name,i=t.length&&t[0]?t[0].name:"",s=t.length-1,o=t.length>1?(0,c.t)("community.cards.pluralize_num_other_publishers",{numOtherPublishers:s}):"",u=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:v,children:(0,l.jsx)(x.Ro,{entity:t[0],size:32,className:y})}),(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_Metadata_Name--htTRx text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:n}),(0,l.jsx)("div",{className:r?"mini_community_cards--mini_cardBottomRow_Metadata_AuthorName_WithHoverText--1QY-K mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK":"mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:(0,c.tx)("community.by_publisher_with_suffix",{publisherName:i,publishersSuffix:o})}),r&&(0,l.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_HoverText--E5bcY mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:r})]})]});if(a){let e=(r?`${r}, `:"")+(0,c.t)("community.cards.template_name_by_publisher_with_suffix_for_screen_reader",{templateName:n,publisherName:i,publishersSuffix:o});return(0,l.jsx)(d.E,{className:m()(b,"mini_community_cards--mini_cardBottomRow_MetadataFocusBorder--WN6lc"),onClick:a,"aria-label":e,children:u})}return(0,l.jsx)("div",{className:b,children:u})}},236849(e,t,r){r.d(t,{a:()=>f});var a=r(239976),n=r(850159),i=r(843489),s=r(350923);if(1464==r.j)var l=r(214030);var o=r(890817),d=r(419586);if(1464==r.j)var c=r(601198);var u=r(220007);if(1464==r.j)var _=r(533937);var m=r(579959),p=r(476219);let h=(0,d.r1)("seen_dtm_deprecation_post_migration_overlay");function f(e){let t=(0,s.md)(h),{show:r,isShowing:d,complete:f}=(0,o.e)({overlay:p.ak5,priority:c.N.DEFAULT_MODAL},[t]);(0,i.h)(()=>{r({canShow:e=>!e})});let x=(0,a.jsx)(a.Fragment,{}),g=(0,a.jsx)(a.Fragment,{});if("plan_nav"===e.entryPoint){x=(0,n.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_been_moved");let t=(0,n.tx)("file_browser.drafts_to_move.you_can_find_them_in_the_drafts_section_of_your_org_name_plan",{orgName:e.planName||""}),r=(0,n.tx)("file_browser.drafts_to_move.any_files_from_that_section_are_now_in_a_new_free_starter_team"),a=(0,n.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_section_of_team_name",{teamName:e.planName||""});g=e.isOrg?t:e.starterTeamCreated?r:a}else{let t=(0,n.tx)("file_browser.drafts_to_move.drafts_to_move_files_are_right_here"),r=(0,n.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here");x=e.isOrg?(0,n.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"):e.starterTeamCreated?t:r;let a=(0,n.tx)("file_browser.drafts_to_move.we_created_a_new_free_starter_team_for_them"),i=(0,n.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");g=e.isOrg?(0,n.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?a:i}return(0,a.jsx)(u.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,a.jsx)("p",{children:g}),emphasized:!0,isShowing:d,onClose:f,primaryCta:{label:e.navigateToPlan?(0,n.tx)("file_browser.drafts_to_move.show_me"):(0,n.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{e.navigateToPlan&&e.navigateToPlan(),f()},ctaTrackingDescriptor:l.c.DONE},secondaryCta:{label:(0,n.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:l.c.LEARN_MORE},targetKey:e.targetKey||"dtm_deprecation_post_migration_overlay_drafts_key",title:x,trackingContextName:"Dtm Deprecation Post Migration Overlay",width:300,zIndex:_.R.MODAL})}},892655(e,t,r){r.d(t,{A:()=>S});var a=r(239976),n=r(105652),i=r(645186),s=r(534973);if(1464==r.j)var l=r(878521);var o=r(850159);if(1464==r.j)var d=r(741542);var c=r(350923);if(1464==r.j)var u=r(214030);var _=r(838719),m=r(834116);if(1464==r.j)var p=r(373332);var h=r(317507),f=r(38900),x=r(932630),g=r(890817),b=r(171310),v=r(419586);if(1464==r.j)var y=r(601198);var j=r(877550),w=r(746354),C=r(380760),T=r(476219);let k=1464==r.j?864e5:null,E=e=>{let t=(0,_.default)()?.iso_code,r=(0,_.default)()?.user_data?.signup_locale;if(!(null!=e&&e.getTime()<Date.now()-k))return!1;if("es-es"===r)return!0;let a=(0,j.zo)();return"latam"!==a&&("spain"===a||!(t&&p.rX.includes(t))&&!!(t&&p.vz.includes(t)))},I=e=>{let t=(0,_.default)()?.iso_code,r=(0,_.default)()?.user_data?.signup_locale,a=null!=e&&e.getTime()<Date.now()-k,n="es-es"===r||"ES"===t||navigator.languages.some(e=>p.Q5.includes(e)),i="es-la"===r||t&&p.rX.includes(t)||navigator.languages.some(e=>p.sJ.includes(e));return a&&n?"spain":a&&i?"non_spain":void 0};function A(e){let t=(0,i.wA)(),r=(0,x.DP)(),n=e.isSpainVariant?(0,o.tx)("es_es_announcement.spain.description"):(0,o.tx)("es_es_announcement.nonspain.description");return(0,a.jsx)(w._l,{isShowing:e.isShowing,trackingContextName:"es_es_launch_announcement_spain",onClose:e.onClose,title:(0,o.tx)("es_es_announcement.title"),description:(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)("br",{}),(0,a.jsx)(l.N,{href:"https://www.figma.com/figma-ahora-en-espanol/",trusted:!0,newTab:!0,children:(0,o.tx)("es_es_launch_announcement.learn_more")})]}),primaryCta:{label:(0,o.tx)("es_es_announcement.cta_button"),type:"button",onClick:()=>{t((0,f.to)({type:C.kA,data:{source:C.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:u.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(m.oW,{width:332,height:404,src:(0,_.staticAssetWithUploadsPath)("dark"===r?"d5144836652ddb3ef93938b550364428430fbdf2":"2c6b6c235309104ec7fe7c99d6d85cc3c8a91e8e"),alt:(0,o.t)("es_es_launch_announcement.image_alt_text")})})}let N=(0,v.r1)("has_tried_es_es");function S(){let e=(0,i.wA)(),t=(0,c.md)(N),r=(0,c.md)(b.mp),l="loaded"===r.status&&"loaded"===t.status,{show:o,isShowing:u,complete:m}=(0,g.e)({overlay:T.kKu,priority:y.N.SECONDARY_MODAL},[r,t]);if((0,n.useEffect)(()=>{(0,_.default)().user_data?.locale===s.Locale.ES_ES&&"loaded"===t.status&&!1===t.data&&e(h.b({has_tried_es_es:!0}))},[e,t]),(0,n.useEffect)(()=>{if(!l)return;let e=!1;e=(0,d.getFeatureFlags)().i18n_es_la_announcement_modal?E(r.data):!!I(r.data),(0,_.default)().user_data?.locale!==s.Locale.ES_ES&&e&&!t.data&&o()},[e,o,l,r,t]),!l)return null;let p=I(r.data);if((0,d.getFeatureFlags)().i18n_es_la_announcement_modal){if(!E(r.data))return null}else if(void 0===p)return null;return(0,a.jsx)(A,{isShowing:u,onClose:m,isSpainVariant:!!(0,d.getFeatureFlags)().i18n_es_la||"spain"===p})}},877550(e,t,r){r.d(t,{Ay:()=>N,zo:()=>T});var a=r(239976),n=r(105652),i=r(645186),s=r(534973),l=r(850159);if(1464==r.j)var o=r(741542);var d=r(350923);if(1464==r.j)var c=r(214030);var u=r(838719),_=r(834116);if(1464==r.j)var m=r(373332);var p=r(317507),h=r(38900),f=r(932630),x=r(890817),g=r(171310),b=r(419586);if(1464==r.j)var v=r(601198);var y=r(746354),j=r(380760),w=r(476219);let C=1464==r.j?864e5:null;function T(){let e=new Set(m.sJ),t=new Set(m.Q5);for(let r of navigator.languages){if(e.has(r))return"latam";if(t.has(r))return"spain"}}let k=(e,t,r)=>{let a=(0,u.default)()?.iso_code,n=(0,u.default)()?.user_data?.signup_locale;if(!(!t&&null!=e&&e.getTime()<Date.now()-C))return;if("es-la"===n)return r?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement";let i=T();if("latam"===i||"spain"!==i&&a&&m.rX.includes(a))return r?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement"};function E(e){let t=(0,i.wA)(),r=(0,f.DP)(),n=e.hasSeenEsEsModal?(0,l.tx)("es_la_announcement.seen_es_es_description"):(0,l.tx)("es_la_announcement.not_seen_es_es_description");return(0,a.jsx)(y._l,{isShowing:e.isShowing,trackingContextName:"es_la_launch_announcement",onClose:e.onClose,title:(0,a.jsx)(a.Fragment,{children:(0,l.tx)("es_la_announcement.title")}),description:n,primaryCta:{label:(0,l.tx)("es_la_announcement.cta_button"),type:"button",onClick:()=>{t((0,h.to)({type:j.kA,data:{source:j.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:c.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(_.oW,{width:332,height:404,src:(0,u.staticAssetWithUploadsPath)("dark"===r?"d0bae5ffbf320d1ec97034348702b49fd549969e":"28a10c6e6bb3668d3cc281fda53dd7a6f7f27ad8"),alt:(0,l.t)("es_la_launch_announcement.image_alt_text")})})}let I=(0,b.r1)("has_tried_es_la"),A=(0,b.r1)("seen_es_es_launch_announcement");function N(){let e=(0,i.wA)(),t=(0,d.md)(I),r=(0,d.md)(A),l=(0,d.md)(g.mp),c="loaded"===t.status&&"loaded"===l.status&&"loaded"===r.status,{show:_,isShowing:m,complete:h}=(0,x.e)({overlay:w.FJT,priority:v.N.SECONDARY_MODAL},[l,t,r]);if((0,n.useEffect)(()=>{(0,u.default)().user_data?.locale===s.Locale.ES_LA&&"loaded"===t.status&&!1===t.data&&e(p.b({has_tried_es_la:!0}))},[e,t]),(0,n.useEffect)(()=>{!c||(0,o.getFeatureFlags)().i18n_es_la_announcement_modal&&(0,u.default)().user_data?.locale!==s.Locale.ES_LA&&k(l.data,t.data,r.data)&&_()},[e,_,c,t,l,r]),!c||!(0,o.getFeatureFlags)().i18n_es_la_announcement_modal)return null;let f=k(l.data,t.data,r.data);return void 0===f?null:(0,a.jsx)(E,{isShowing:m,onClose:h,hasSeenEsEsModal:"has_seen_es_es_announcement"===f})}},721635(e,t,r){r.d(t,{f:()=>i});let a=1464==r.j?864e5:null,n=()=>Date.now()-14*a;function i({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:r}){return!!(e.getTime()<=n()&&(null==t||t.getTime()<=n()))&&!r}},320153(e,t,r){r.d(t,{P:()=>j});var a=r(239976),n=r(645186),i=r(850159),s=r(843489),l=r(350923);if(1464==r.j)var o=r(214030);var d=r(838719),c=r(38900),u=r(890817),_=r(171310),m=r(419586),p=r(508295);if(1464==r.j)var h=r(601198);var f=r(746354),x=r(380760),g=r(476219);let b=1464==r.j?864e5:null,v="seen_japanese_launch_announcement",y=(0,m.r1)(v);function j(){let e=(0,n.wA)(),t=(0,p.TA)(),r=(0,l.md)(_.mp),m=(0,l.md)(y),j=(0,u.e)({overlay:g.hxO,priority:h.N.DEFAULT_MODAL},[r,m]);return(0,s.h)(()=>{let e=(0,d.default)()?.iso_code==="JP",t=(0,d.default)()?.user_data?.locale==="ja";e&&!t&&j.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<Date.now()-b})}),(0,a.jsx)(f._l,{isShowing:j.isShowing,title:(0,i.tx)("rcs.japanese_launch_modal.title"),description:(0,i.tx)("rcs.japanese_launch_modal.body"),media:(0,a.jsx)("img",{width:408,src:(0,d.staticAssetWithUploadsPath)("aa243114f8307af99f0c1728ada3182f8568a919"),alt:""}),primaryCta:{type:"button",label:(0,i.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,c.to)({type:x.kA,data:{source:x.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:o.c.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:v,onClose:j.complete})}},617223(e,t,r){r.d(t,{A:()=>k});var a=r(239976),n=r(105652),i=r(645186),s=r(534973),l=r(850159),o=r(350923);if(1464==r.j)var d=r(214030);var c=r(838719),u=r(834116);if(1464==r.j)var _=r(373332);var m=r(317507),p=r(38900),h=r(932630),f=r(890817),x=r(171310),g=r(419586);if(1464==r.j)var b=r(601198);var v=r(746354),y=r(380760),j=r(476219);let w=1464==r.j?864e5:null;function C(e){let t=(0,i.wA)(),r=(0,h.DP)();return(0,a.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"ko_kr_launch_announcement",onClose:e.onClose,title:(0,l.tx)("ko_kr_announcement.title"),description:(0,l.tx)("ko_kr_announcement.description"),primaryCta:{label:(0,l.tx)("ko_kr_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:d.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(u.oW,{width:332,height:404,src:(0,c.staticAssetWithUploadsPath)("dark"===r?"18dcbb2ade042dcce59156457f26cf74bff4c14a":"705f5bf3c6cdb84a903c3a2fcd7e70de3294fc96"),alt:(0,l.t)("ko_kr_launch_announcement.image_alt_text")})})}let T=(0,g.r1)("has_tried_ko_kr");function k(){let e=(0,i.wA)(),t=(0,o.md)(T),r=(0,o.md)(x.mp),l="loaded"===t.status&&"loaded"===r.status,{show:d,isShowing:u,complete:p}=(0,f.e)({overlay:j.Tw6,priority:b.N.SECONDARY_MODAL},[r,t]);return((0,n.useEffect)(()=>{(0,c.default)().user_data?.locale===s.Locale.KO_KR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_ko_kr:!0}))},[e,t]),(0,n.useEffect)(()=>{if(l){var e,a;let n,i,l,o;(0,c.default)().user_data?.locale!==s.Locale.KO_KR&&(e=r.data,a=t.data,n=(0,c.default)()?.iso_code,i=(0,c.default)()?.user_data?.signup_locale,l=!a&&null!=e&&e.getTime()<Date.now()-w,o="ko-kr"===i||n&&_.QS.includes(n)||navigator.languages.some(e=>_.Tq.includes(e)),l&&o)&&d()}},[e,d,l,t,r]),l)?(0,a.jsx)(C,{isShowing:u,onClose:p}):null}},657092(e,t,r){r.d(t,{C:()=>L});var a=r(239976),n=r(105652),i=r(645186),s=r(395227),l=r(71239),o=r(297151),d=r(732632),c=r(850159),u=r(843489),_=r(350923),m=r(3752),p=r(181645),h=r(195784),f=r(865804),x=r(921424),g=r(824234),b=r(780210),v=r(317507),y=r(890817),j=r(508295),w=r(128003),C=r(601198),T=r(975516),k=r(128894),E=r(820151),I=r(623608),A=r(43394),N=r(244022),S=r(476219),R=r(870527),O=r(473295),D=r(865780),F=r(331850),M=r(714252);let P="Job Title Prompt";function L({source:e}){let t,r,i,s,l,o,d=(t=(0,F.X$)("useIsEligibleForJobTitleReprompt"),r=(0,F.YY)(t).unwrapOr(!1),i=(0,j.Pc)(),s=(0,D.sZ)(),l=i.profile.job_title,o=(0,O.HB)(l),(0,n.useCallback)(()=>{if(s&&s.k12_google_org||i.email.endsWith(".edu")||r||(0,R.A)(i.email_validated_at).add(14,"day").isAfter((0,R.A)(Date.now())))return!1;if(l)return"something_else"===l?!!(0,R.A)(i.email_validated_at).isBefore((0,R.A)(new Date("2024-12-10"))):"other"===o&&(!s||!s.saml_sso_only);return!0},[s,r,o,l,i.email,i.email_validated_at])),c=(0,_.Xr)(A.S0),p=(0,_.Xr)(A.$h),h=(0,_.Xr)(A.Q7),f=(0,j.Pc)().name,x=!!(0,w.f)("submitted_job_title_prompt_overlay"),{show:g,complete:b,isShowing:v}=(0,y.e)({overlay:S.CAe,priority:C.N.OVERRIDING_MODAL});return((0,u.h)(()=>{m.A.isAndroidOrIosMobileBrowserSmallScreen||window.matchMedia("(max-width: 840px)").matches||x||g({canShow:d,onShow:()=>{c([k.pu.WHAT_DO_YOU_DO]),p(0),h(f)}})}),v)?(0,a.jsx)(T.M,{testId:"job-title-prompt-overlay",isShowing:v,children:(0,a.jsx)(B,{isShowing:v,dismissModal:b,overlaySource:e})}):null}function B({isShowing:e,dismissModal:t,overlaySource:r}){let u=(0,i.wA)(),m=(0,j.Pc)(),y=m.id,w=m.profile.job_title,[C,T]=(0,_.fp)(A.ZE),[k,S]=n.useState(""),{questionKey:R,options:O,questionTitle:D,questionSubtitle:F,getOptionDisplay:L}=(0,N.Xg)(),B=Array.from(O).toString(),U=({source:e})=>{(0,h.Cu)({trackingContext:P,text:"Dismiss Job Title Prompt",source:e,view:r,jobTitleList:B}),t()},H=s.hS({open:e,onClose:U}),W=C.has("something_else")&&!k;return(0,a.jsx)(f.fu,{name:P,properties:{jobTitleList:B,source:r},children:(0,a.jsx)(l.bL,{manager:H,width:"fit-content",height:"fixed",children:(0,a.jsx)(o.Wk,{children:(0,a.jsxs)("div",{className:"job_title_prompt_overlay--container--b2lpj",children:[(0,a.jsxs)("div",{className:"job_title_prompt_overlay--leftContainer--Zflt6",children:[(0,a.jsx)(g.B,{svg:M.A,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,height:"32px",width:"24px"}),(0,a.jsx)(x.Kz,{multiple:3}),(0,a.jsx)("h1",{children:D}),(0,a.jsx)(x.Kz,{multiple:.5}),(0,a.jsx)("p",{className:"job_title_prompt_overlay--jobTitleSubheading--Y6qLI",children:F}),(0,a.jsx)(x.Kz,{multiple:3}),(0,a.jsx)(E.O,{isSingleSelect:!0,questionKey:R,options:O,selectedOptions:C,onItemsChange:T,getOptionDisplay:L,endingOption:C.has("something_else")?(0,a.jsx)(x.ks,{autoFocus:!0,dataTestId:"custom_job_title_input",className:"job_title_prompt_overlay--otherInput--ovN32",placeholder:(0,c.t)("user_onboarding_signals.v1.answer.other.placeholder"),value:k,onChange:e=>S(e.currentTarget.value)}):void 0,variant:"compact"}),(0,a.jsx)(x.Kz,{multiple:3}),(0,a.jsx)("span",{className:"job_title_prompt_overlay--submitButton--NMGhN",children:(0,a.jsx)(d.WW,{variant:"primary",onClick:()=>{let[e]=C,t=e,r="job_title_prompt_selection";"something_else"===t&&k.length>0&&(t=k,r="job_title_prompt_custom"),u(b.yJ({user:{id:y,job_title:t,job_title_source:r},userInitiated:!0})),p.az.trackDefinedEvent("activation.job_title_changed",{newJobTitle:t,prevJobTitle:w,source:r,jobTitleSeenList:B}),(0,h.Cu)({trackingContext:P,text:"Submit Job Title",jobTitle:t,prevJobTitle:w,jobTitleList:B}),u(v.b({submitted_job_title_prompt_overlay:!0})),U({source:"other"})},disabled:0===C.size||W,children:(0,c.tx)("rcs.surveys.submit")})})]}),(0,a.jsx)("div",{className:"job_title_prompt_overlay--rightContainer--nfEHi",children:(0,a.jsx)(I.m,{isInModal:!0})})]})})})})}},458127(e,t,r){r.d(t,{A:()=>E});var a=r(239976),n=r(105652),i=r(645186),s=r(534973),l=r(850159),o=r(350923);if(1464==r.j)var d=r(214030);var c=r(838719),u=r(834116);if(1464==r.j)var _=r(373332);var m=r(317507),p=r(38900),h=r(932630),f=r(890817),x=r(171310),g=r(419586);if(1464==r.j)var b=r(601198);var v=r(746354),y=r(380760),j=r(476219);let w=1464==r.j?864e5:null,C=e=>{let t=(0,c.default)()?.iso_code,r=(0,c.default)()?.user_data?.signup_locale,a=null!=e&&e.getTime()<Date.now()-w,n=[..._.B1,..._.Vb],i=[..._.EK,..._.Kz],s="pt-br"===r||t&&i.includes(t)||navigator.languages.some(e=>n.includes(e));if(a&&s)return t&&_.EK.includes(t)||navigator.languages.some(e=>_.B1.includes(e))?"brazilian":"non_brazilian"};function T(e){let t=(0,i.wA)(),r=(0,h.DP)(),n=e.isBrazilianVariant?(0,l.tx)("pt_br_announcement.description"):(0,l.tx)("pt_br_announcement.non_brazilian.description");return(0,a.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"pt_br_launch_announcement",onClose:e.onClose,title:(0,l.tx)("pt_br_announcement.title"),description:n,primaryCta:{label:(0,l.tx)("pt_br_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:d.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(u.oW,{width:332,height:404,src:(0,c.staticAssetWithUploadsPath)("dark"===r?"1f8cff5121905a8bd088cf9dc7759e22322a90ef":"e9552341c3ffb2f3090e2cd95e29faaddf7b8397"),alt:(0,l.t)("pt_br_launch_announcement.image_alt_text")})})}let k=(0,g.r1)("has_tried_pt_br");function E(){let e=(0,i.wA)(),t=(0,o.md)(k),r=(0,o.md)(x.mp),l="loaded"===t.status&&"loaded"===r.status,{show:d,isShowing:u,complete:_}=(0,f.e)({overlay:j.gik,priority:b.N.SECONDARY_MODAL},[r,t]);if((0,n.useEffect)(()=>{(0,c.default)().user_data?.locale===s.Locale.PT_BR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_pt_br:!0}))},[e,t]),(0,n.useEffect)(()=>{l&&(0,c.default)().user_data?.locale!==s.Locale.PT_BR&&C(r.data)&&!t.data&&d()},[e,d,l,t,r]),!l)return null;let p=C(r.data);return void 0===p?null:(0,a.jsx)(T,{isShowing:u,onClose:_,isBrazilianVariant:"brazilian"===p})}},785871(e,t,r){r.d(t,{QU:()=>P,wc:()=>F});var a=r(239976),n=r(105652),i=r(645186),s=r(555235),l=r(267995),o=r(688357),d=r(491852),c=r(850159),u=r(350923),_=r(181645),m=r(436174),p=r(714174),h=r(824234),f=r(113116),x=r(517436),g=r(985373),b=r(575425),v=r(578880),y=r(387208),j=r(486507),w=r(351823),C=r(879415),T=r(329091),k=r(933107);let E="memory_warning--memoryUsageContainer--BKKHo";var I=r(718494),A=r(836818),N=r(97370),S=r(741403),R=r(608534),O=r(217169);function D(e){let t,r,n,s,l,o=(0,i.d4)(e=>!e.openFile?.canEdit),u=(0,y.TY)(),_=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===d.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),m=e.warningLevel,p=(m===j.Wy.WARNING?(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),u?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):o&&!_?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):o&&_?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!o&&_&&(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):m===j.Wy.ERROR?(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),u?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):o&&!_?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):o&&_?l=(0,c.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!o&&_&&(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):m===j.Wy.SAFE&&e.hasHadUnsafeWarningLevel&&(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),u&&(l=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),l);if(m===j.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--FlSrK memory_warning--warningMemoryContentContainer--ipRK0",r="memory_warning--memoryWarningContentIconWarning--mUi4h",n=u?S.A:A.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,c.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(m===j.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError--r5Vx8 memory_warning--warningMemoryContentContainer--ipRK0",r="memory_warning--memoryWarningContentIconError--Gk8Zq",n=u?S.A:R.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,c.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(m!==j.Wy.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--Pvu78 memory_warning--warningMemoryContentContainer--ipRK0",r="memory_warning--memoryWarningContentIconSafe--fRIf-",n=I.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,c.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentBetaContainer--pa-3-",children:(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentIconContainer--Gp48G",children:(0,a.jsx)(h.B,{className:r,svg:n})}),(0,a.jsxs)("div",{className:"memory_warning--memoryWarningContentBodyHeader--xrFtu",children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentHeader---O05e",children:s}),(0,a.jsxs)("p",{children:[p," ",(m===j.Wy.ERROR||m===j.Wy.WARNING)&&(0,a.jsx)(x.o,{newTab:!0,className:m===j.Wy.ERROR?"memory_warning--learnMoreLinkError--AsoHe":"memory_warning--learnMoreLinkWarning--BPVSf",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked",children:(0,c.tx)("fullscreen.pages_panel.memory_usage_learn_more")})]})]})]})})}function F(e){let t=e.showSidePercentage,r=e.warningLevel&&e.warningLevel>=j.Wy.ERROR;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"memory_warning--usageBarContainer--gH-7o",children:[(0,a.jsx)(h.B,{style:{left:`${j.xk}%`},className:"memory_warning--icon--PgUQc",svg:N.A}),(0,a.jsx)("div",{className:t&&r?"memory_warning--usageBarBorderDanger--NJeIt memory_warning--usageBarBorder--6ktmL":"memory_warning--usageBarBorder--6ktmL",children:(0,a.jsx)("div",{className:t&&r?"memory_warning--usageBarFillDanger--1r0sU memory_warning--usageBarFill--iUjTc":"memory_warning--usageBarFill--iUjTc",style:{width:`${e.memoryUsagePercent}%`}})})]}),t&&(0,a.jsx)("div",{className:r?"memory_warning--usageBarTextDanger--Zqjc0 memory_warning--usageBarText--lDYn4":"memory_warning--usageBarText--lDYn4",children:`${Math.trunc(e.memoryUsagePercent).toString()}%`})]})}let M=(0,w.Wh)(()=>(0,u.eU)(j.Wy.SAFE));function P(e){let t,r,s,l=(0,i.wA)(),{toggleManageMemoryModal:d,closeManageMemoryModal:c}=(t=(0,T.dp)(),r=(0,y.TY)(),s=(0,n.useRef)(!1),(0,n.useEffect)(()=>{r&&!s.current&&(s.current=!0,t.open(k.XB),o.Ez5?.uiState().showMemoryUsage.set(!0))},[r,t]),(0,n.useMemo)(()=>({toggleManageMemoryModal(){let e=(0,j.P3)();(0,_.sx)("toggle_manage_memory_modal",{memoryUsedPercent:e,totalLayers:o.CeL?.getFileNodeCount(),pageContentPct:e-(0,j.Zz)()}),t.toggle(k.XB)},closeManageMemoryModal(){t.close(k.XB)}}),[t])),m=(0,u.md)(j.Tm),h=(0,u.md)(j.Vu),f=(0,u.md)(j.eE),x=function({warningLevel:e}){let t=e!==j.Wy.SAFE,[r,a]=(0,n.useState)(t);return(0,n.useEffect)(()=>{t&&a(!0)},[t]),r}({warningLevel:f}),g=(0,v.E3)(),b=(0,y.TY)(),[w,E]=(0,n.useState)(b);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:r,fileKey:a}){let[s,l]=(0,u.fp)(M),o=(0,i.Pj)(),d=(0,p.F)(()=>{var t;let n=o.getState(),i=!n.openFile?.canEdit,s=n.mirror.appModel.topLevelMode;t={warningLevel:j.Wy[e],memoryUsedPercent:r,topLevelMode:s,isReadOnly:i},(0,C.$w)({warningEvent:"BANNER_LEVEL_CHANGE",fileKey:a},{warningOnPct:j.xk,errorOnPct:j.pl,...t})}),c=e!==s&&!t;(0,n.useEffect)(()=>{c&&(l(e),d.current())},[e,c,l,d])}({warningLevel:f,usingTestMemory:h,memoryUsedPercent:m,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let r=e===j.Wy.SAFE&&t;(0,n.useEffect)(()=>{if(r){let e=()=>{"hidden"===document.visibilityState&&(o.Ez5?.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[r])}({warningLevel:f,hasHadUnsafeWarningLevel:x}),function({warningLevel:e}){(0,n.useEffect)(()=>{let t=e!==j.Wy.SAFE;o.Ez5?.uiState().showInFileMemoryPercentage.set(t),t&&o.Ez5?.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:f});let I=(0,y.Ht)();return I||b?(0,a.jsx)(L,{closeManageMemoryModal:c,dispatch:l,editorType:g,fileKey:e.fileKey,hasHadUnsafeWarningLevel:x,memoryUsedPct:m,recoveryMemDisplay:w,setRecoveryMemDisplay:E,showMemoryUsage:I,toggleManageMemoryModal:d,warningLevel:f}):null}function L(e){let t,{warningLevel:r,hasHadUnsafeWarningLevel:n,memoryUsedPct:i,showMemoryUsage:d,editorType:u,recoveryMemDisplay:p}=e,x=r===j.Wy.ERROR,v=(0,y.TY)(),w=j.im;return(0,a.jsx)(a.Fragment,{children:(d||p)&&(0,a.jsxs)("div",{className:E,id:E,children:[(0,a.jsxs)("div",{className:"memory_warning--memoryUsageHeader--RkuGj",children:[(0,a.jsx)("div",{className:"memory_warning--memoryUsageHeaderTitle--F3Wdj",children:(0,c.tx)("fullscreen.pages_panel.memory_usage")}),(0,a.jsx)("div",{className:"memory_warning--memoryUsageCloseIcon--7OZIL",children:!x&&(0,a.jsx)(s.K,{"aria-label":(0,c.t)("common.close"),onClick:()=>{(0,_.sx)("manage_memory_modal_closed",{currentAllocatedBytes:l.hM?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hM?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),o.Ez5?.uiState().showMemoryUsage.set(!1),o.Ez5?.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},children:(0,a.jsx)(h.B,{svg:O.A})})})]}),(0,a.jsx)("div",{className:x?"memory_warning--memoryUsageBodyContainerError--lg4rU":"memory_warning--memoryUsageBodyContainer--Fic1u",children:(0,a.jsx)(F,{memoryUsagePercent:i,showSidePercentage:!0,warningLevel:r})}),(0,a.jsx)(D,{warningLevel:r,hasHadUnsafeWarningLevel:n}),(t=(0,c.t)("manage_memory_modal.manage_memory_button"),(0,a.jsx)("div",{className:"memory_warning--memoryWarningButtonContainer--4t1jZ",children:(0,a.jsx)(f.Ih,{variant:"secondary",onClick:()=>void e.toggleManageMemoryModal(),trackingProperties:{buttonContext:t},children:t})})),v&&i<w&&(0,a.jsx)("div",{className:d?"memory_warning--recoveryModeBannerExitButtonContainer--d23xf":"memory_warning--recoveryModeExitButtonContainer--PS-yG",children:(0,a.jsx)(f.Ih,{variant:"primary",onClick:()=>{let t;return t={view:"fullscreen",editorType:u===b.nT.Design?b.nT.Design:b.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1},void((0,_.sx)("exit_recovery_mode",{currentAllocatedBytes:l.hM?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hM?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(g.sf(t)),m.Ay.reload("Memory warning panel"))},children:(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")})})]})})}},242661(e,t,r){r.d(t,{Z:()=>O});var a=r(239976),n=r(645186),i=r(850159),s=r(3752),l=r(224542),o=r.n(l),d=r(865804),c=r(436174),u=r(140979),_=r(227031),m=r(828205),p=r(568660),h=r(684325),f=r(921424),x=r(824234),g=r(289886),b=r(898312),v=r(612883),y=r(38900),j=r(936652),w=r(901805),C=r(406995),T=r(494423),k=r(773201),E=r(508295),I=r(644350),A=r(458983),N=r(392255),S=r(35401);function R(){let e=(0,E.iZ)(),t=(0,A.cD)(),r=(0,n.wA)(),l=(0,k._6)(),_=(0,u.Rs)((0,I.UpR)({})),p=(0,u.Rs)((0,I.FA_)({teamId:t}),{enabled:!!t}),h=(0,w.lr)();if("loaded"!==_.status||"loaded"!==p.status||!e)return null;let j=_.data?.currentUser?.eduPeriodEnd,R=(0,w.l)(j),O=(0,m.cl)(j);if(!p.data?.team)return null;let D=p.data.team.isOwner,F=p.data.team.name,M=(0,a.jsx)(f.Us,{href:"https://help.figma.com/hc/articles/360041061214-Figma-for-Education#apply",target:"_blank",trusted:!0,children:(0,i.tx)("edu.banner.learn_more")}),P=O>0?(0,i.tx)("edu.all_education_accounts_are_required",{offboardingDate:h,linkLearnMore:M}):(0,i.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:M}),L=O>0?D?(0,i.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_status_expires",{teamName:(0,a.jsx)("span",{className:g.s.fontBold.$,children:F})}):(0,i.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_status_expires",{teamName:(0,a.jsx)("span",{className:g.s.fontBold.$,children:F})}):D?(0,i.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:(0,a.jsx)("span",{className:g.s.fontBold.$,children:F})}):(0,i.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:(0,a.jsx)("span",{className:g.s.fontBold.$,children:F})}),B=()=>{r(y.Ce())},U=()=>{B(),r(b.Dw({}))},H=()=>{B(),r(v.WX({teamId:t,selectedView:l,entryPoint:(0,T.cH)(C.C.FILE_BROWSER_EDU_OFFBOARDING_MODAL)}))};return(0,a.jsx)(d.fu,{name:R?"Edu Offboarding Modal New Reverification":"Edu Offboarding Modal",children:(0,a.jsxs)(N.OJ,{title:(0,i.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:B,children:[(0,a.jsxs)("div",{className:o()(g.s.flex.itemsCenter.p8.$,g.s.if(O>0,g.s.colorBgWarningTertiary,g.s.colorBgDangerTertiary).$),children:[(0,a.jsx)(x.B,{className:g.s.p8.colorIcon.$,svg:S.A}),(0,a.jsx)("p",{className:g.s.fontBold.$,children:O>0?(0,i.tx)("edu.offboarding_modal.your_education_status_expires_in_days",{daysLeft:O}):(0,i.tx)("edu.offboarding_modal.your_education_status_has_expired")})]}),(0,a.jsxs)("div",{className:g.s.px16.pt8.pb12.$,children:[(0,a.jsx)("p",{children:R?P:L}),(0,a.jsxs)("div",{className:g.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.if_you_graduated")}),R?(0,i.tx)("edu.offboarding_modal.upgrade_link_to_continue_using_the_professional_plan",{upgradeLink:(0,a.jsx)(f.Us,{onClick:H,trusted:!0,children:(0,i.tx)("edu.offboarding_modal.upgrade_your_team")})}):D?(0,i.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:(0,a.jsx)(f.Us,{onClick:U,trusted:!0,children:(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team")})}):(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh")]})]}),(0,a.jsxs)("div",{className:g.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.if_you_re_still_in_education")}),(0,i.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:(0,a.jsx)(f.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,i.tx)("edu.offboarding_modal.verify_your_status")})})]})]}),(0,a.jsxs)("div",{className:g.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.to_save_your_work")}),D?(0,i.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:(0,a.jsx)(f.Us,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0,children:(0,i.tx)("edu.offboarding_modal.transferring_ownership")})}):(0,i.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later")]})]}),(0,a.jsx)("div",{className:g.s.flex.flexColumn.itemsEnd.pt32.$,children:R?(0,a.jsx)(f.vd,{onClick:()=>{B(),c.Ay.redirect("/education/apply",s.A.isIpadNative?void 0:"_blank")},children:(0,i.tx)("edu.offboarding_modal.verify_your_status")}):D?(0,a.jsx)(f.vd,{onClick:H,children:(0,i.tx)("edu.offboarding_modal.upgrade_to_professional")}):(0,a.jsx)(f.vd,{onClick:U,children:(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team_cta")})})]})]})})}let O=(0,j.Ju)(function(){return(0,a.jsx)(_.u9,{label:"EduOffboardingModal",children:(0,a.jsx)(p.n,{boundaryKey:"edu-offboarding-modal",loadingFallback:null,errorFallback:h.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,a.jsx)(R,{})})})},"EDU_OFFBOARDING_MODAL")},906779(e,t,r){r.d(t,{c:()=>n});var a,n=1464==r.j?((a=n||{})[a.WARN=0]="WARN",a[a.WARN_SOFT=1]="WARN_SOFT",a[a.ANNOUNCEMENT=2]="ANNOUNCEMENT",a[a.EVENT=3]="EVENT",a):null},1026(e,t,r){r.d(t,{Cm:()=>u,MD:()=>c,YO:()=>d});var a=r(105652),n=r(779757),i=r(140979),s=r(338883),l=r(644350);function o(e){let t=e.canEdit,r=!e.isOrphanedOrgProject,a=e.canMove,n=e.isEmpty;return{canEdit:t,canEditDescription:e.canEdit&&!e.isEditingLockedForUser,canShare:r,canMove:a,canSkipDeletionConfirmation:n,...(0,s.VI)(e),canTransferExternally:e.canTransferExternally,canTransferCopy:e.canTransferCopy,canTrash:e.canTrash,canTrashWithReasons:e.canTrashWithReasons,canRestore:e.canRestore,canPermanentlyDelete:e.canPermanentlyDelete,canConnect:e.canConnect,isPlanAdmin:!!e.planPermissions?.isAdmin,isPlanMember:!!e.planPermissions?.isMember,planCanConnectWithReasons:e.planPermissions?.canConnectWithReasons,hasPendingResourceConnectionInvite:!!e.pendingResourceConnectionInvite?.id}}function d(e,t=!0){let r=(0,i.bc)(l.oGE,{projectId:e},{enabled:t}),s=n.Qw.useTransform(r,e=>e.project).unwrapOr(null),c=r.status;return(0,a.useMemo)(()=>({status:c,data:s?o(s):null}),[s,c])}function c(e){return function(e,t=!0){let r=(0,a.useMemo)(()=>e.map(e=>({projectId:e})),[e]),d=(0,i.p)(l.oGE,r,{enabled:t});return{projects:(0,a.useMemo)(()=>n.Qw.all(d.map(e=>e.result)).transform(t=>{let r={};for(let a=0;a<e.length;a++){let n=e[a],i=t[a]?.project;i?r[n]=o(i):r[n]={canEdit:!1,canShare:!1,canMove:!1,canEditDescription:!1,canSkipDeletionConfirmation:!1,...s.DI.disabled(),canTransferExternally:!1,canTransferCopy:!1,canTrash:!1,canTrashWithReasons:{result:!1,publicDenyReasons:[]},canRestore:!1,canPermanentlyDelete:!1,canConnect:!1,isPlanAdmin:!1,isPlanMember:!1,planCanConnectWithReasons:{result:!1,publicDenyReasons:[]},hasPendingResourceConnectionInvite:!1}}return r}),[d,e])}}(a.useMemo(()=>{let t=[];return e.forEach(e=>{let r=e.id;t.push(r)}),t},[e]))}function u(e,t=!0){let r=(0,a.useMemo)(()=>e.map(e=>({projectId:e})),[e]),s=(0,i.p)(l.rH3,r,{enabled:t});return(0,a.useMemo)(()=>n.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,r,a)=>(e[r]=!!t[a]?.project?.canRead,e),{})),[s,e])}},158514(e,t,r){r.d(t,{GG:()=>u,ci:()=>d,dr:()=>c});var a=r(105652),n=r(779757),i=r(140979);if(1464==r.j)var s=r(487817);var l=r(644350),o=r(331850);function d(e){let t=e.canRead,r=e.canAdmin,a=e.canDelete,n=e.hasRoleAccess,i=!!e.currentPrivilegedOrgUser;return{canAdminOrg:!!(e.currentPlanUser&&(0,o.A8)(e.currentPlanUser,s.Xn.ADMIN)),canDelete:a,canView:t,isInTeam:n,isOrgMember:i,canAdmin:r}}function c(e){return function(e,t=!0){let r=(0,a.useMemo)(()=>e.map(e=>({teamId:e})),[e]),s=(0,i.p)(l.y_L,r,{enabled:t});return{teams:(0,a.useMemo)(()=>n.Qw.all(s.map(e=>e.result)).transform(t=>{let r={};for(let a=0;a<e.length;a++){let n=e[a],i=t[a]?.team;i?r[n]=d(i):r[n]={canAdmin:!1,canAdminOrg:!1,canDelete:!1,canView:!1,isInTeam:!1,isOrgMember:!1}}return r}),[s,e])}}(a.useMemo(()=>{let t=[];return e.forEach(e=>{let r=e.id;t.push(r)}),t},[e]))}function u(e,t=!0){let r=(0,a.useMemo)(()=>e.map(e=>({id:e})),[e]),s=(0,i.p)(l.Bl3,r,{enabled:t});return(0,a.useMemo)(()=>n.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,r,a)=>(e[r]=!!t[a]?.team?.hasPermission,e),{})),[s,e])}},242562(e,t,r){r.d(t,{j:()=>a});function a(e){e.stopPropagation(),e.preventDefault();let t=document.createEvent("MouseEvents");t.initMouseEvent("contextmenu",!0,!0,window,e.button,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.target),e.target.dispatchEvent(t)}},476691(e,t,r){r.d(t,{X:()=>n});var a=r(105652);function n({containerRef:e,targetRef:t,targetKey:r,onIntersectionChange:n,rootMargin:i,threshold:s}){let l=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(window.IntersectionObserver)return l.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&n(e)})},{root:e?.current,rootMargin:i,threshold:s}),t.current&&l.current.observe(t.current),()=>{l.current&&l.current.disconnect()}},[r,n,i,s,e,t])}},471014(e,t,r){r.d(t,{R:()=>a,_:()=>n});let a="https://help.figma.com/hc/articles/360041061214#faqs",n="https://help.figma.com/hc/articles/31722591905559-Figma-Make-FAQs"},195946(e,t,r){r.d(t,{M:()=>s});var a=r(239976);if(1464==r.j)var n=r(56723);var i=r(405301);function s(){return(0,a.jsx)(i.yi,{helpUrlVariant:n.JT.CODE_CHAT})}},559344(e,t,r){r.d(t,{aX:()=>A,ev:()=>k,jl:()=>C,yd:()=>T});var a=r(239976),n=r(105652),i=r(645186),s=r(850159),l=r(350923);if(r(574988),1464==r.j)var o=r(214030);var d=r(838719),c=r(834116),u=(r(517436),r(687497)),_=r(985373),m=r(317507),p=r(890817),h=r(419586);if(1464==r.j)var f=r(601198);var x=r(746354),g=r(844595),b=r(476219);if(1464==r.j)var v=r(928832);if(1464==r.j)var y=r(195946);let j="acknowledged_figmake_ai_tos_onboarding",w=(0,h.r1)(j);function C(){return(0,l.md)(w)}function T(e){let t=(0,i.wA)(),r=n.useCallback(e=>{t(m.b({[j]:e}))},[t]),a=n.useCallback(()=>{r(!0),e()},[r,e]),s=n.useCallback(()=>{t(_.sf({view:"recentsAndSharing"}))},[t]);return{onAcknowledge:a,onClose:n.useCallback(()=>{r(!1),s()},[r,s])}}function k(){let e=C(),{figmakeInFullscreen:t}=(0,v.Ve)(),r=(0,g.l)(),{show:i,isShowing:l,complete:d}=(0,p.e)({overlay:b.qmK,priority:f.N.HIGH_PRIORITY_MODAL-1},[e]),{onAcknowledge:c,onClose:_}=T(d);return n.useEffect(()=>{t||r||i({canShow:e=>!e&&!1})},[t,r,i,!1]),(0,a.jsx)(x._l,{description:(0,s.tx)("figmake.legal_onboarding_modal.body"),disclaimerFooter:(0,a.jsx)(A,{}),isShowing:l,media:(0,a.jsx)(E,{}),onClose:_,preventUserClose:!0,primaryCta:{type:"button",label:(0,a.jsx)(u.E,{fontSize:11,children:(0,s.tx)("figmake.legal_onboarding_modal.try_figmake_button")}),onClick:c,ctaTrackingDescriptor:o.c.NEXT},secondaryCta:{type:"button",label:(0,s.tx)("figmake.legal_onboarding_modal.back_to_files"),onClick:_,ctaTrackingDescriptor:o.c.CLOSE},title:(0,a.jsx)(I,{}),trackingContextName:"Rev Onboarding > Terms of Service"})}function E(){return(0,a.jsx)(c.oW,{src:(0,d.staticAssetWithUploadsPath)("d158cef30c1ce26cce260c1051ecdf35dd527c94"),alt:"Figma Rev Terms of Service",width:332})}function I(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...{className:"xeq5yr9 xod5an3"},children:(0,a.jsx)(y.M,{})}),(0,s.tx)("figmake.legal_onboarding_modal.title")]})}function A(){return null}},438754(e,t,r){r.d(t,{$:()=>I});var a=r(239976),n=r(105652),i=r(645186),s=r(850159);if(1464==r.j)var l=r(741542);var o=r(350923),d=r(3752);if(r(574988),1464==r.j)var c=r(214030);var u=r(838719),_=r(834116),m=r(338883),p=r(687497),h=r(458914),f=r(890817),x=r(171310);if(1464==r.j)var g=r(487817);var b=r(331850),v=r(309295);if(1464==r.j)var y=r(601198);var j=r(746354),w=r(476219);if(1464==r.j)var C=r(195946);var T=r(559344);let k=1464==r.j?{button:{kaIpWk:"x1sxf85j",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xu5wzci",kMwMTN:"x1tk3asg",k1xSpc:"x78zum5",kAzted:"x21xpn4",k8WAf4:"xla58y3",kLKAdn:null,kGO01o:null,kg3NbH:"xaope02",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kGNEyG:"x6s0dn4",k9WMMc:"x2b8uid",kMv6JI:"xclx6tv",kGuDYH:"x17akokd",kKX8nH:"x1j61x8r",k63SB2:"x1qxcl5b",kLWn49:"xno9bf3",kb6lSQ:"xqp8s7e",$$css:!0}}:null;function E(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...{className:"xeq5yr9 xod5an3"},children:(0,a.jsx)(C.M,{})}),(0,s.tx)("figmake.marketing_modal.body")]})}function I(){let e=(0,T.jl)(),t=(0,l.getFeatureFlags)().marketing_promo_modal_figmake_launch,r=(0,i.d4)(e=>e.user?.drafts_folder_id),{data:u,status:_}=(0,m.nt)(r),C=!!u?.canCreateFigmakeFileWithReasons.result,I=(0,b.X$)("FigmakePromoModalOverlay"),N=I.unwrapOr(null)?.tier||null,S=N&&([g.Ag.PRO,g.Ag.ORG,g.Ag.ENTERPRISE].includes(N)||N===g.Ag.STARTER&&(0,l.getFeatureFlags)().bake_starter_limit),R=(0,o.md)(x.mp),O=d.A.isAndroidOrIosMobileBrowserSmallScreen,D=(0,h.$)({folderData:"DRAFTS_FOLDER",editorType:g._Y.FIGMAKE,newFileFrom:v.f6.FIGMAKE_PROMO_MODAL,contextClicked:"figmake_marketing_modal"}),{show:F,isShowing:M,complete:P}=(0,f.e)({overlay:w.CBZ,priority:y.N.DEFAULT_MODAL},[e,R]),{onAcknowledge:L}=(0,T.yd)(P);return n.useEffect(()=>{!0===t&&C&&S&&F({canShow:(e,t)=>{let r;return(N!==g.Ag.STARTER||(r=Date.now(),t.getTime()<=r-864e5))&&!O&&!e}})},[F,t,C,S,N,O]),(0,a.jsx)(j._l,{closeButtonColor:"dark",description:(0,s.tx)("figmake.marketing_modal.subtitle"),disclaimerFooter:(0,a.jsx)(T.aX,{}),isShowing:M,media:(0,a.jsx)(A,{}),onClose:P,primaryCta:{type:"button",label:(0,a.jsx)(p.E,{children:(0,s.tx)("figmake.marketing_modal.button")}),onClick:()=>{L(),D()},ctaTrackingDescriptor:c.c.OPEN_FIGMAKE,variantOverride:"custom",customVariantStyles:k.button},title:(0,a.jsx)(E,{}),trackingContextName:"Figmake Promo Modal",trackingProperties:{planTier:N}})}function A(){return(0,a.jsx)("div",{...{className:"x165vjil x14ggrba"},children:(0,a.jsx)(_.oW,{src:(0,u.staticAssetWithUploadsPath)("0b908885241f3422b8940078d7f3be979a8fece0"),alt:"Figma Make promotional image",width:332})})}},179037(e,t,r){r.d(t,{Q$:()=>g,Us:()=>f,mz:()=>C,nn:()=>b,zY:()=>x});var a,n,i=r(239976),s=r(105652),l=r(645186),o=r(224542),d=r.n(o),c=r(546799),u=r(662105),_=r(565095),m=r(636773),p=r(508295),h=r(407861),f=2036!=r.j?((a=f||{})[a.FULL=0]="FULL",a[a.ADD_ONLY=1]="ADD_ONLY",a):null,x=2036!=r.j?((n=x||{})[n.TILE_CONTENT=0]="TILE_CONTENT",n[n.TILE_POST=1]="TILE_POST",n[n.DETAIL_POST=2]="DETAIL_POST",n[n.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",n[n.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",n[n.FILE_POPOVER=5]="FILE_POPOVER",n):null;function g(e){let t=(0,l.wA)(),r=(0,p.iZ)(),{existingReactionIdForCurrentUser:a}=j(e.feedReactions,r),n=s.useCallback(({emoji:r,addOnly:n})=>{let i=a(r);i?n||t(c.Oy({feedPostUuid:e.postUuid,emoji:r,reactionId:i})):t(c.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:r}))},[t,a,e.postUuid,e.postId]);return(0,i.jsx)(v,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:n,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function b(e){let t=(0,l.wA)(),r=(0,p.iZ)(),{existingReactionIdForCurrentUser:a}=j(e.feedReactions,r),n=s.useCallback(({emoji:r,addOnly:n})=>{let i=a(r);i?n||t(c.t9({commentUuid:e.commentUuid,emoji:r,reactionId:i})):t(c.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:r}))},[t,a,e.commentUuid,e.commentId]);return(0,i.jsx)(v,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:n,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function v(e){let t=(0,p.iZ)(),{toggleReaction:r}=e,{reactionsWithSelected:a}=j(e.feedReactions,t),n=s.useCallback((e,t)=>{t.stopPropagation(),r({emoji:e.emoji,addOnly:!1})},[r]),l=s.useCallback(e=>{r({emoji:e,addOnly:!0})},[r]),o=(0,i.jsx)(y,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:l,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?o:(0,i.jsx)("div",{className:h.KD,children:(0,i.jsx)(_.Kb,{reactions:a,collapseOverflow:!1,onClickExisting:n,prependToList:e.prependToList,children:o})})}function y(e){let t=s.useRef(null),{isReactionPickerVisible:r,toggleReactionPicker:a,emojiPicker:n}=T(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!r?(0,i.jsx)("div",{className:h.$S}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:t,className:d()(1===e.type?h.D5:h.HL),children:(0,i.jsx)(_.ny,{onClick:a,selected:r,styleClassName:h.$S,selectedStyleClassName:h.Qi})}),r&&n]})}let j=(e,t)=>{let r=s.useMemo(()=>{let r={};if(!t)return r;for(let a of e)a.user.id===t.id&&(r[a.emoji]=a.id);return r},[e,t]),a=s.useCallback(e=>r[e],[r]);return{reactionsWithSelected:s.useMemo(()=>{let t={};for(let r of e){let{emoji:e,user:n,createdAt:i}=r;t[e]||(t[e]={emoji:e,users:[],selected:!!a(e),createdAt:i.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,i.getTime()),t[e].users.push({handle:n.handle,id:n.id,img_url:n.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,a]),existingReactionIdForCurrentUser:a}},w=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function C(e,t){return(0,m.BK)(w(t,e?.id)).showing}let T=(e,t,r,a)=>{let n=(0,m.BK)(w(t,e?.id)),l=s.useCallback(e=>{a(e.shortcodes),n.hide()},[n,a]),o=r.current&&(0,i.jsx)(u._,{onInsert:l,onCancel:n.hide,targetRect:r.current.getBoundingClientRect()});return{isReactionPickerVisible:n.showing,toggleReactionPicker:n.toggle,emojiPicker:o}}},70598(e,t,r){r.d(t,{Hx:()=>b,Wu:()=>v,j8:()=>y});var a,n=r(239976),i=r(105652),s=r(645186),l=r(850159),o=r(181645),d=r(116682),c=r(645724),u=r(546799),_=r(38900),m=r(936652),p=r(508295),h=r(331850),f=r(754305),x=r(107132);let g=(0,m.Ju)(function(e){let t=(0,l.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,l.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,l.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,l.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),(0,n.jsx)(f.yX,{destructive:!0,confirmationTitle:(0,l.tx)("fig_feed.delete_post"),confirmText:(0,l.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0,children:(0,n.jsx)("p",{children:t})})},"PostConfirmDeleteModal");var b=1464==r.j?((a=b||{}).USER="user_post_context_menu",a.SYSTEM="system_post_context_menu",a):null;function v(e){let t,r,a,m=(0,s.wA)(),f=i.useCallback(()=>m(u.Y9()),[m]),{feedPost:b}=e,{canDelete:v,canAdminDelete:j}=(r=((t=(0,p.iZ)())&&t.id===b.creator.id)??!1,a=(0,h.D6)("useUserPostPermissions"),{canDelete:r,canAdminDelete:(0,h.j_)(a).unwrapOr(!1)}),w=b.comments.length,C=b.reactions.length,T=i.useCallback(()=>{m((0,_.AS)()),d.Ay.del(`/api/feed_posts/post_uuid/${b.publicUuid}`).then(()=>{(0,o.sx)("Team Feed Post Deleted",{postUuid:b.publicUuid}),f()})},[m,b.publicUuid,f]),k=i.useCallback(()=>{m((0,_.to)({type:g,data:{onConfirm:T,numComments:w,numReactions:C},showModalsBeneath:!0}))},[m,T,w,C]);if(!v&&!j)return null;let E=v?(0,l.tx)("fig_feed.delete_ellipsis"):(0,l.tx)("fig_feed.delete_admin_ellipsis"),I=[(!!v||!!j)&&(0,n.jsx)(c.c$,{onClick:k,children:E},"delete")];return(0,n.jsx)(x.V,{dropdownId:y("user_post_context_menu",e.feedPost.publicUuid,e.source),options:I,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let y=(e,t,r)=>e+t+r},325517(e,t,r){r.d(t,{xZ:()=>w});var a=r(239976),n=r(105652),i=r(645186),s=r(60177),l=r(555355),o=r(145906),d=r(850159),c=r(838719),u=r(113116),_=r(942496),m=r(317507),p=r(317280),h=r(487817),f=r(309295),x=r(838585),g=r(533937);function b(e){switch(e){case"developer":return{title:(0,d.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,c.staticAssetWithUploadsPath)("d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124"),(0,c.staticAssetWithUploadsPath)("6c43de4a393f0c6a62c810c9e624475937af46b1"),(0,c.staticAssetWithUploadsPath)("39e86727a54bf46978d4893784240e752197b537")],body:(0,d.tx)("whiteboard.whats_new.engineer.control.body")};case"researcher":return{title:(0,d.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,c.staticAssetWithUploadsPath)("3875dfbdfc499dfc81addcc2cb4c425432e4d83c"),(0,c.staticAssetWithUploadsPath)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.staticAssetWithUploadsPath)("d32d06accd71ec34d461ebeb0683d372ce3c4e86")],body:(0,d.tx)("whiteboard.whats_new.research.control.body")};case"designer":return{title:(0,d.tx)("whiteboard.whats_new.brainstorm.title"),carousel:[(0,c.staticAssetWithUploadsPath)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,c.staticAssetWithUploadsPath)("4d374f6472949a2b2b6428ea45e6e09d4608b5b2"),(0,c.staticAssetWithUploadsPath)("532f390ae672946525645d4b0bdaaf4d84a2d1e5")],body:(0,d.tx)("whiteboard.whats_new.design.control.body")};case"marketer":return{title:(0,d.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,c.staticAssetWithUploadsPath)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,c.staticAssetWithUploadsPath)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.staticAssetWithUploadsPath)("5828c6e302bd2cf83170176485c5cae9a7e09fa9")],body:(0,d.tx)("whiteboard.whats_new.marketing.control.body")};case"product-manager":return{title:(0,d.tx)("whiteboard.whats_new.meeting.title"),carousel:[(0,c.staticAssetWithUploadsPath)("07a2696df083d2dcbbc25f3c1b184c88b72ed4a6"),(0,c.staticAssetWithUploadsPath)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.staticAssetWithUploadsPath)("d42ae46e1e5c846580f4cfa3d275a0a4fde6c482")],body:(0,d.tx)("whiteboard.whats_new.product.control.body")};default:return{title:(0,d.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,c.staticAssetWithUploadsPath)("c58d5f4a37c974b72777d0d482b5e168819ed339"),(0,c.staticAssetWithUploadsPath)("87363e4551c98cc4dd5c2eb17c8a1c216b4df558"),(0,c.staticAssetWithUploadsPath)("17e4b5731b359b5da1cc9498bee8d19a574ecb39")],body:(0,d.tx)("whiteboard.whats_new.other.control.body")}}}function v(){let e=b((0,p.w)({rolesToDefaultToOther:["education"]})).carousel,t=(0,n.useRef)(null),[r,i]=(0,n.useState)(1),s=(0,n.useCallback)(()=>(t.current&&(1===r?t.current.style.transition="none":t.current.style.transition="transform 0.4s ease-in-out"),r===2*e.length-2)?i(1):i(e=>e+1),[e.length,r]);return(0,n.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{s(),t.current&&(t.current.style.transform=`translateX(-${210*r-45}px)`)},1===r?400:3e3)},0)},[r,s,45]),(0,a.jsx)("div",{className:"whats_new_v2_carousel--carouselContainer--VSzVl",children:(0,a.jsxs)("div",{className:"whats_new_v2_carousel--slideTrack--o8RtL",ref:t,children:[(0,a.jsx)("img",{src:e[2],alt:"clone of last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"second thumbnail"}),(0,a.jsx)("img",{src:e[2],alt:"last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"clone of first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"clone of second thumbnail"})]})})}let y=(0,c.staticAssetWithUploadsPath)("d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8"),j=(0,c.staticAssetWithUploadsPath)("f9217dd1dac2a765d218e1de9eb6fcbb32a454ec");function w(e){let t=(0,i.wA)(),r=(0,p.w)({rolesToDefaultToOther:["education"]}),[s,l]=n.useState(!0),c=`Design to FigJam What's New v2 > ${r} > ${e.context}`,{title:w,body:T}=b(r),{onClose:k}=e,E=(0,n.useCallback)(()=>{t(m.b({dont_show_figjam_updates_in_figma_design:!s})),k()},[s,t,k]);return(0,a.jsx)(x.X,{trackingContextName:c,position:g.Q.BOTTOM_RIGHT,title:w,onClose:E,description:T,media:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:j,alt:"",className:"whats_new_v2--newBadge--KQs1z"}),(0,a.jsx)("img",{src:y,alt:"",className:"whats_new_v2--peaceIcon--tu8j2"}),(0,a.jsx)(v,{})]}),overrideFooter:(0,a.jsxs)("div",{className:"whats_new_v2--ctaRow--2eaSS",children:[(0,a.jsx)(o.J,{brand:"whiteboard",children:(0,a.jsx)(u.$z,{onClick:()=>{E(),t(m.b({interacted_figjam_whats_new_v2_cta:!0})),t(_.zE({editorType:h._Y.WHITEBOARD,team:void 0,from:f.f6.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:f.ai.NEW_TAB,folderData:"DRAFTS_FOLDER"}))},children:(0,d.tx)("rcs.whats_new_in_figjam.try_fig_jam")})}),"editor"===e.context&&(0,a.jsx)("div",{className:"whats_new_v2--checkboxRow--6SmIk",children:(0,a.jsx)(C,{checked:s,setChecked:()=>l(!s)})})]}),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function C({checked:e,setChecked:t}){return(0,a.jsx)(s.S,{label:(0,a.jsx)(l.J,{children:(0,d.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")}),checked:e,onChange:t})}},228783(e,t,r){r.d(t,{G:()=>i});var a=r(105652),n=r(239976);let i=(0,a.memo)(function(e){return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.5 13a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5h2a.5.5 0 0 0 0-1h-2A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13zM7.646 8.354a.5.5 0 0 0 .708 0L12 4.707V7.5a.5.5 0 0 0 1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 0 0 1h2.793L7.646 7.646a.5.5 0 0 0 0 .708"})})})},193183(e,t,r){r.d(t,{_:()=>s});var a=r(348065),n=r(105652),i=r(239976);let s=(0,n.memo)(function(e){return(0,a.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M8 2a1 1 0 0 1 .952.694l.9 2.806h2.903a1 1 0 0 1 .58 1.814L11.006 8.97l.939 2.702a1 1 0 0 1-1.517 1.148L8 11.128 5.572 12.82a1 1 0 0 1-1.517-1.148l.938-2.702-2.327-1.656A1 1 0 0 1 3.245 5.5h2.903l.9-2.806.06-.148A1 1 0 0 1 8 2"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M8 1.5a1 1 0 0 1 .952.694L9.852 5h2.904a1 1 0 0 1 .579 1.814L11.007 8.47l.938 2.702a1 1 0 0 1-1.517 1.148L8 10.628 5.572 12.32a1 1 0 0 1-1.517-1.148l.938-2.702-2.327-1.656A1 1 0 0 1 3.245 5h2.903l.9-2.806.061-.148A1 1 0 0 1 8 1.5"})})})},176926(e,t,r){r.d(t,{c:()=>s});var a=r(348065),n=r(105652),i=r(239976);let s=(0,n.memo)(function(e){return(0,a.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.695a1 1 0 0 0-1.904 0l-.9 2.805H3.244a1 1 0 0 0-.58 1.815l2.33 1.655-.938 2.701a1 1 0 0 0 1.516 1.148L8 11.13l2.428 1.691a1 1 0 0 0 1.516-1.148l-.937-2.701 2.328-1.656a1 1 0 0 0-.58-1.815H9.852zM4.97 6.5h1.907l.598-1.863L8 3l.525 1.637.597 1.863h3.633l-1.406 1-1.533 1.09.626 1.802L11 12l-1.396-.973L8 9.91l-1.604 1.117L5 12l.558-1.608.625-1.802L4.651 7.5l-1.407-1z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.195a1 1 0 0 0-1.904 0L6.148 5H3.245a1 1 0 0 0-.58 1.815L4.993 8.47l-.937 2.701a1 1 0 0 0 1.516 1.148L8 10.63l2.429 1.691a1 1 0 0 0 1.516-1.148l-.938-2.701 2.328-1.656A1 1 0 0 0 12.755 5H9.853zM4.97 6h1.908l.597-1.863L8 2.5l.525 1.637L9.123 6h3.633l-1.407 1-1.532 1.09.625 1.802L11 11.5l-1.396-.973L8 9.41l-1.604 1.117L5 11.5l.558-1.608.626-1.802L4.65 7 3.245 6z",clipRule:"evenodd"})})})},884024(e,t,r){r.d(t,{X:()=>i});var a=r(105652),n=r(239976);let i=(0,a.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},658032(e,t,r){r.d(t,{C:()=>s});var a=r(348065),n=r(105652),i=r(239976);let s=(0,n.memo)(function(e){return(0,a.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.934.934a.9.9 0 0 1-1.273 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.934-.935-.708.708.708-.708a.9.9 0 0 1 0-1.272l.934-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.935.935a1.9 1.9 0 0 0 2.687 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"})})})}}]);

//# debugId=d1f045cc-47fd-57a8-aceb-e5098e4f2b7a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/fec9ae9428c06b273ea4bbb7ae8df3ddecef6ee7/5654-837780091385dc03.min.js.map