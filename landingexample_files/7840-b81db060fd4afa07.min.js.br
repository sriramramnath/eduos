"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="50944a79-ecfa-5c9c-8929-436e873fc8d2")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["7840"],{407861(e,t,n){n.d(t,{$S:()=>s,D5:()=>a,HL:()=>o,KD:()=>i,Qi:()=>d});let o="feed_reactions_section--reactionPill--kdlOl reactions--reaction--tL2ND text--fontPos11--rO47d text--_fontBase--VaHfk",i="feed_reactions_section--reactionList--EPAIL",s="feed_reactions_section--addReactionButton--F5MLs",d="feed_reactions_section--addReactionButtonSelected---l2cj",a="feed_reactions_section--addReactionButtonOnly--DGnry"},317280(e,t,n){n.d(t,{w:()=>s});var o=n(473295),i=n(508295);function s({rolesToDefaultToOther:e}={}){let t=(0,i.iZ)()?.profile.job_title,n=(0,o.HB)(t);return e&&e.includes(n)?"other":n}},839617(e,t,n){n.d(t,{g:()=>i});var o=n(105652);function i(e,t,n){(0,o.useLayoutEffect)(()=>{if(!e||!e.current)return;let o=new IntersectionObserver(n=>{for(let o of n)e.current===o.target&&t?.(o)},n);return o.observe(e.current),()=>o.disconnect()},[e,t,n])}},107132(e,t,n){n.d(t,{V:()=>m});var o=n(239976),i=n(105652),s=n(850159),d=n(478499),a=n(928814),l=n(636773);if(2036!=n.j)var r=n(328151);var c=n(42504),u=n(31314);function m(e){let t=(0,l.BK)(e.dropdownId),n=i.useRef(null),m=i.useRef(null);if(i.useEffect(()=>{t.showing&&m.current&&m.current.focus()},[t.showing]),e.hideTarget&&!t.showing)return null;let f=e.children;return f||(f=(0,o.jsx)(u.YW,{style:t.showing?{backgroundColor:"var(--color-bg-hover, var(--fallback-color-bg-hover))"}:void 0,selected:t.showing,"data-tooltip-type":r.Ib.TEXT,"data-tooltip":(0,s.t)("fig_feed.more_actions"),onClick:e=>{e.stopPropagation(),t.toggle()},children:(0,o.jsx)(d.In,{icon:"dots-32"})})),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{ref:n,onMouseDown:a.dG,children:f}),n.current&&t.showing&&(0,o.jsx)(c.Jz,{closeDropdown:t.hide,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,hideDropdown:t.hide,lean:e.lean,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minWidth:e.minWidth,options:e.options,propagateCloseClick:!0,showPoint:!1,targetRect:n.current.getBoundingClientRect(),textAlign:e.textAlign})]})}},615695(e,t,n){n.d(t,{x:()=>ed});var o=n(239976),i=n(105652),s=n(523924),d=n(850159),a=n(224542),l=n.n(a),r=n(961682),c=n(573598),u=n(817527),m=n(523340),f=n(585255),p=n(824234),h=n(596690),_=n(455269),g=n(785046),v=n(328151),x=n(860857),C=n(708881);function b(){return(0,o.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",children:[(0,o.jsx)("path",{d:"M1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9Z",fill:"var(--color-icon)"}),(0,o.jsx)("path",{d:"M9 16.25C4.99594 16.25 1.75 13.0041 1.75 9H0.25C0.25 13.8325 4.16751 17.75 9 17.75V16.25ZM16.25 9C16.25 13.0041 13.0041 16.25 9 16.25V17.75C13.8325 17.75 17.75 13.8325 17.75 9H16.25ZM9 1.75C13.0041 1.75 16.25 4.99594 16.25 9H17.75C17.75 4.16751 13.8325 0.25 9 0.25V1.75ZM9 0.25C4.16751 0.25 0.25 4.16751 0.25 9H1.75C1.75 4.99594 4.99594 1.75 9 1.75V0.25Z",fill:"var(--color-icon-oninverse)"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.1554 8.44833L11.6037 6L12.3108 6.7071L9.86251 9.15544L12.3108 11.6038L11.6037 12.3109L9.15541 9.86255L6.70711 12.3109L6 11.6038L8.4483 9.15544L6 6.70715L6.70711 6.00004L9.1554 8.44833Z",fill:"var(--color-icon-oninverse)"})]})}var I=n(215453),w=n(90550),T=n(355949);function P(e){let[t,n]=i.useState(),[s,d]=i.useState(!0);return i.useEffect(()=>{let t=(0,T.lD)({hideUI:!0,disableDefaultKeyboardNav:!1,showProtoSidebar:!1,scalingInfo:{viewportScalingMode:"contain"},showHotspots:!0,inlinePreview:!1,startingPointNodeId:e.item.startingNodeId,nodeId:e.item.startingNodeId}),o=(0,x.OQ)(e.item,t);n(`${location.origin}/embed?embed_host=feed&url=${encodeURIComponent(o)}`)},[e.item]),(0,o.jsxs)("div",{style:{width:"100%",height:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black"},children:[s&&(0,o.jsx)(w.kt,{}),t?(0,o.jsx)("iframe",{title:"Prototype Viewer",style:s?{width:0,height:0}:{width:"100%",height:"100%"},src:t,onLoad:()=>d(!1)}):null]})}var j=n(916290),U=n(335127),E=n(350923),y=n(148515),k=n(928814),N=n(839617),M=n(478413);let A=(0,E.eU)(null),O=(0,E.eU)(new Map),L=(0,E.eU)(null,(e,t,n)=>{t(O,new Map(e(O).set(n.id,n.snapshot)))}),D=(0,E.eU)(new Set),S=(0,E.eU)(e=>{let t=e(D);return 0===t.size?null:Array.from(t).pop()??null}),B=(0,E.eU)(null);function R(e){let t=i.useRef(null),[n,s,d]=(0,u.M)(),a=i.useRef(null),r=i.useRef(!1),c=i.useRef(!1),m=i.useRef(!1),[f,h]=(0,E.fp)(A),[g,v]=i.useState(),C=(0,E.fp)(O)[0],b=(0,E.fp)(L)[1],[I,w]=(0,E.fp)(D),T=(0,E.md)(S),[P,R]=(0,E.fp)(B),F=f?.id===e.id,H=e.source===x.Zp.TILE&&!e.isThumbnail,z=H&&(null==f||f.isPreviewing),Z=!e.isThumbnail&&s,W=H||e.isThumbnail,G=c.current,{feedPostUuid:Y}=e,$=_.cU.includes(e.videoContent.mediaType)&&!!Y,J=i.useMemo(()=>$?`/api/feed_posts/${Y}/videos/${e.videoContent.videoFileUuid}/manifest`:e.videoContent.path,[$,Y,e.videoContent]),K=(0,U.ZC)(f),X=(0,U.ZC)(e.videoContent.path),q=i.useCallback((t,n=!1)=>{e.isThumbnail||b({id:e.id,snapshot:{currentTime:n?0:t.currentTime,ended:t.ended,paused:t.paused}})},[b,e.id,e.isThumbnail]),Q=i.useCallback(()=>{c.current=!0;let e=t.current;e&&(e.muted=!0,e.play().catch(j.lQ))},[]),ee=i.useCallback(()=>{let e=t.current;e&&e.pause()},[]),et=i.useCallback(()=>{h({id:e.id,ref:t,feedPostUuid:e.feedPostUuid,src:e.videoContent.path,source:e.source,isPreviewing:c.current})},[h,e.id,e.feedPostUuid,e.videoContent.path,e.source,c]),en=i.useCallback(()=>{if(!f)return;let n=t.current;if(n){if(!F){let t=f.feedPostUuid===e.feedPostUuid&&f.src===e.videoContent.path;if(e.source===x.Zp.DETAIL_MODAL&&f.source===x.Zp.TILE&&t){if(n)if(f.ref?.current){let e=f.ref.current;n.currentTime=e.ended?0:e.currentTime,e.paused?et():n.play()}else{let e=V(f.feedPostUuid,f.src,x.Zp.TILE),t=C.get(e);t&&(n.currentTime=t.ended?0:t.currentTime),et()}}else if(e.source===x.Zp.TILE&&f.source===x.Zp.DETAIL_MODAL&&t)if(n&&!f.ref?.current){let e=V(f.feedPostUuid,f.src,x.Zp.DETAIL_MODAL),t=C.get(e);t&&(n.currentTime=t.currentTime||0),et()}else n.pause();else if(n.paused){let t=C.get(e.id);t&&(n.currentTime=t.ended?0:t.currentTime)}else n.pause()}if(F&&C.has(e.id)&&!f.ref?.current){let n=C.get(e.id);if(t.current){if(t.current.currentTime=n.ended?0:n.currentTime,n.paused)return;t.current.play()}}}},[f,e.id,e.source,C,et,e.feedPostUuid,e.videoContent.path,F]),eo=i.useCallback(()=>{let n=t.current;n&&(e.source!==x.Zp.DETAIL_MODAL||e.isThumbnail||n.play().catch(()=>{n.muted=!0,n.play()}))},[e.isThumbnail,e.source]),ei=i.useCallback(t=>{let n=I.has(e.id);z&&t.isIntersecting&&!c.current&&!n?(Q(),null!=e.feedPostIdx&&(null===P||P>e.feedPostIdx)&&R(t=>null!=e.feedPostIdx&&(null===t||t>e.feedPostIdx)?e.feedPostIdx:t),w(t=>{let n=new Set(t);return n.add(e.id),n})):!t.isIntersecting&&n&&(ee(),w(t=>{let n=new Set(t);return n.delete(e.id),n}),F&&h(null))},[Q,ee,e.id,e.feedPostIdx,w,z,I,F,h,P,R]);(0,N.g)(d,ei,{threshold:.9}),i.useEffect(()=>{z&&T===e.id&&Q()},[T,Q,e.id,z]),i.useEffect(()=>{let n=t.current;if(!n)return;let o=()=>{et(),q(n)},i=()=>{if(c.current)c.current=!1,n.currentTime=0;else{let e=t.current;e&&q(e)}},s=()=>{let e=t.current;if(e){let t=e.duration-e.currentTime;t!==g&&v(t)}},d=()=>{s()},a=()=>{!m.current&&(m.current=!0,W&&t.current&&(t.current.muted=!0),z&&P===e.feedPostIdx&&Q())};return n.addEventListener("play",o),n.addEventListener("pause",i),n.addEventListener("timeupdate",s),n.addEventListener("loadedmetadata",d),n.addEventListener("canplay",a),()=>{n.removeEventListener("play",o),n.removeEventListener("pause",i),n.removeEventListener("timeupdate",s),n.removeEventListener("loadedmetadata",d),n.removeEventListener("canplay",a)}},[et,q,Q,ee,c,g,W,z,P,e.id,e.feedPostIdx]),i.useEffect(()=>{let n=t.current;if(n)return()=>{q(n,e.source===x.Zp.TILE)}},[q,e.source]),i.useEffect(()=>{r.current||(r.current=!0,n());async function n(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=await (0,y.Fe)();if(a.current)return;let o=t.current;e.isThumbnail?o.style.objectFit="cover":(o.style.maxHeight="100%",o.style.maxWidth="100%"),o.style.height="100%",o.style.width="100%",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",a.current=(0,y.o$)(n,o,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},()=>{e.isThumbnail||e.source===x.Zp.TILE||o.setAttribute("controls","true"),e.source===x.Zp.TILE&&o.classList.add("feed_video_player--hideFullscreenControl--aIYKN"),(0,y.uz)(J,$,a.current).then(()=>{en()})})}},[e.isThumbnail,e.videoContent,e.source,$,J,en]),i.useEffect(()=>{a.current&&X!==e.videoContent.path&&(0,y.uz)(J,$,a.current).then(()=>{en(),et()})},[en,e.videoContent,$,J,X,et]),i.useEffect(()=>{a.current&&K&&f&&("detail"!==f.source||f.ref?.current?K.id!==f.id&&en():en())},[en,K,f]);let es=i.useCallback(()=>{if(e.isThumbnail||e.source!==x.Zp.TILE||!t.current||void 0===g||isNaN(g))return null;let n=new Date(1e3*g);return!n||isNaN(n.getTime())?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"feed_video_player--mediaBadgeV2--BZ5Z- feed_post_content--mediaBadgeV2--281Pw feed_tile--feedPostHoverContainer--JmxYf",children:n.toLocaleString("en",{minute:"2-digit",second:"2-digit"})}),t.current.muted&&(0,o.jsx)(p.B,{svg:M.A,className:"feed_video_player--mutedBadge--QUZ5M"})]})},[e.isThumbnail,e.source,g]);return(0,o.jsxs)("div",{ref:n,className:l()("feed_video_player--videoContainer--8n8U0",e.isThumbnail&&"feed_video_player--videoContainerThumbnail--7xfeX"),children:[(0,o.jsx)("video",{ref:t,style:{backgroundColor:"#000000"},onCanPlay:eo,onClick:e.source!==x.Zp.DETAIL_MODAL?k.wo:void 0,controls:Z,loop:G}),(!s||!Z)&&es()]})}function V(e,t,n){return[e,t,n].join(":")}let F="feed_post_content--mediaBadgeV2--281Pw feed_tile--feedPostHoverContainer--JmxYf",H="feed_post_content--contentThumbnailsSectionInnerV2--E8D35",z="feed_post_content--contentThumbnailsSectionInnerV2_vertical--k6SuI",Z="feed_post_content--contentThumbnailV2--2dgu1",W="feed_post_content--smallThumbnail--yRgRc",G="feed_post_content--wideThumbnail--VExtV";var Y=n(25206),$=n(90501);function J(e){let t;switch(e.type){case g.cM.NODE:t=e.nodeId;break;case g.cM.IMAGE:t=e.url;break;case g.cM.VIDEO:t=e.path;break;case g.cM.PROTOTYPE:t=e.startingNodeId;break;default:throw Error("unexpected content item type")}return`${e.type}:${t}`}function K(e){let[t,n]=i.useState(!e.isThumbnail&&!e.usesPreviewImage);if(i.useEffect(()=>{if(!e.imgUrl)return;let t=new Image;t.src=e.imgUrl,t.onload=()=>{let e=t.width/t.height;n(t=>t&&Math.abs(e-I.dp)>.01)}},[e.imgUrl]),null===e.imgUrl)return(0,o.jsx)("div",{children:(0,d.t)("fig_feed.could_not_load_preview_image")});let s=e.isThumbnail&&e.thumbnailUrl?e.thumbnailUrl:e.imgUrl;return(0,o.jsxs)(o.Fragment,{children:[e.showPreviewFacade&&(0,o.jsx)("div",{className:"feed_post_content--previewFacadeOverlay--v4C-T feed_post_content--thumbnailOverlay--UPYJD",children:(0,o.jsx)(m.pz,{onClick:e.onUpdatePreviewImage,children:(0,d.t)("fig_feed.update_preview_image")})}),(0,o.jsx)("img",{src:s,alt:(0,d.t)("fig_feed.thumbnail_alt_text"),draggable:!1,className:l()("feed_post_content--itemImage--eGMXu",e.isThumbnail&&"feed_post_content--itemImageThumbnail--2R3Zp",t&&"feed_post_content--itemImagePadded--4rTeV")}),e.isThumbnail?null:"image/gif"===e.mediaType?(0,o.jsx)("div",{className:F,children:(0,d.t)("fig_feed.gif")}):null]})}function X(e){let t=!!e.editPreviewOptions;return(0,o.jsx)("div",{className:"feed_post_content--zoomPanContainer--CpglZ",children:e.contentItems.map((n,i)=>{let s;return e.editPreviewOptions?.applyToAllCallback&&(s=t=>e.editPreviewOptions.applyToAllCallback(t,J(n))),(0,o.jsx)("div",{className:l()({"feed_post_content--zoomPan--ndxMm":!0,"feed_post_content--zoomPanSelected--euPfq":i===e.selectedIdx}),children:(0,o.jsx)(I.DH,{applyToAllCallback:s,disableReset:!!e.editPreviewOptions?.disableReset,enableSnapToGuidelines:t,enableZoomControls:e.source===x.Zp.DETAIL_MODAL,enableZoomKeyControls:i===e.selectedIdx&&(e.source===x.Zp.DETAIL_MODAL||t),imageScale:t?1:void 0,imageSrc:n.image_url,initialSnapshotState:e.editPreviewOptions?.initialSnapshotStates?.[J(n)],pageBackgroundColor:e.editPreviewOptions?.pageBackgroundColor||n.backgroundColor&&(0,c.H0)(n.backgroundColor)||e.pageBackgroundColor&&(0,c.H0)(e.pageBackgroundColor)||void 0,resetSnapshotState:e.editPreviewOptions?.selectedContentResetSnapshotState,setContentPreview:i===e.selectedIdx?e.editPreviewOptions?.setContentPreview:void 0,shouldWheelPan:!0,shouldZoomToStart:!1,showEditPreviewControls:t},`details::${n.image_url}`)},i)})})}function q(e){return(0,o.jsx)(P,{item:e.prototypeContent})}function Q(e){let t=!!e.editPreviewOptions;return(0,o.jsx)(I.DH,{applyToAllCallback:e.editPreviewOptions?.applyToAllCallback?t=>e.editPreviewOptions.applyToAllCallback(t,J(e.imageContent)):void 0,disableReset:!!e.editPreviewOptions?.disableReset,enableSnapToGuidelines:t,enableZoomControls:e.source===x.Zp.DETAIL_MODAL,enableZoomKeyControls:e.source===x.Zp.DETAIL_MODAL||t,imageScale:1,imageSrc:e.imageContent.url,initialSnapshotState:e.editPreviewOptions?.initialSnapshotStates?.[J(e.imageContent)],pageBackgroundColor:e.editPreviewOptions?.pageBackgroundColor||e.imageContent.backgroundColor&&(0,c.H0)(e.imageContent.backgroundColor)||e.pageBackgroundColor&&(0,c.H0)(e.pageBackgroundColor)||void 0,resetSnapshotState:e.editPreviewOptions?.selectedContentResetSnapshotState,setContentPreview:e.editPreviewOptions?.setContentPreview,shouldWheelPan:!0,shouldZoomToStart:!1,showEditPreviewControls:t},`details::${e.imageContent.url}`)}function ee(e){let t=V(e.feedPostUuid,e.videoContent.path,e.source);return(0,o.jsx)(R,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,source:e.source})}function et(e){return e.isThumbnail?(0,o.jsx)("div",{children:(0,d.tx)("fig_feed.video")}):(0,o.jsx)("div",{children:(0,d.tx)("fig_feed.transcode_after_submit")})}function en(e){if(_.cU.includes(e.videoContent.mediaType)&&""===e.videoContent.videoFileUuid)return(0,o.jsx)(et,{isThumbnail:e.isThumbnail});if(e.isThumbnail&&e.videoContent.coverImage)return(0,o.jsx)(K,{imgUrl:e.videoContent.coverImage,isThumbnail:!0});let t=V(e.feedPostUuid,e.videoContent.path,e.source);return(0,o.jsx)(R,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source})}function eo(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.x,{isLoading:!e.content.imageUrl,children:()=>(0,o.jsx)(K,{imgUrl:e.content.imageUrl,isThumbnail:e.isThumbnail})}),!e.isThumbnail&&(0,o.jsx)("div",{className:F,children:(0,d.tx)("fig_feed.prototype_badge")})]})}function ei(e){let t=e.contentItems[e.selectedIdx];switch(t.type){case g.cM.NODE:return(0,o.jsx)(X,{selectedIdx:e.selectedIdx,contentItems:e.contentItems,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor,source:e.source});case g.cM.IMAGE:return(0,o.jsx)(Q,{imageContent:t,source:e.source,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor});case g.cM.VIDEO:return(0,o.jsx)(ee,{videoContent:t,isThumbnail:!1,feedPostUuid:e.feedPostUuid,source:e.source});case g.cM.PROTOTYPE:return(0,o.jsx)(q,{prototypeContent:t});default:(0,s.xb)(t)}}function es(e){switch(e.content.type){case g.cM.NODE:let t=e.content,n=t.mediumImageUrl??t.preview_image_url??t.image_url,i=t.preview_image_url??t.image_url;return(0,o.jsx)(f.x,{isLoading:!!t.isLoading,children:()=>(0,o.jsx)(K,{imgUrl:e.isEditing?i:n,usesPreviewImage:!!t.preview_image_url,isThumbnail:e.isThumbnail,thumbnailUrl:e.isEditing?i:t.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage})});case g.cM.IMAGE:let d=e.content.mediumImageUrl??e.content.preview_image_url??e.content.url,a=e.content.preview_image_url??e.content.url;return(0,o.jsx)(K,{imgUrl:e.isEditing?a:d,isThumbnail:e.isThumbnail,usesPreviewImage:!!e.content.preview_image_url,mediaType:e.content.mediaType,thumbnailUrl:e.isEditing?a:e.content.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage});case g.cM.VIDEO:return(0,o.jsx)(en,{videoContent:e.content,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source});case g.cM.PROTOTYPE:return(0,o.jsx)(eo,{content:e.content,isThumbnail:e.isThumbnail});default:(0,s.xb)(e.content)}}function ed(e){let t=!!e.editPreviewOptions,n=e.contentItems.length>1||t,{selectedContentIdx:s,pageBackgroundColor:a,setSelectedContentIdx:r,contentItems:m,onContentHover:h}=e,[_,x]=(0,u.M)();i.useEffect(()=>{h?.(x)},[x,h]);let b=i.useMemo(()=>m[s],[m,s]),I=i.useMemo(()=>n?(0,o.jsx)(ea,{direction:"horizontal",contentItems:m,selectedIdx:s,setSelectedIdx:r,pageBackgroundColor:e.pageBackgroundColor,feedPostUuid:e.feedPostUuid,canAddContent:!1}):null,[n,m,s,r,e.pageBackgroundColor,e.feedPostUuid]);e.editPreviewOptions&&b&&"node"===b.type&&b.backgroundColor&&(e.editPreviewOptions.pageBackgroundColor=(0,c.H0)(b.backgroundColor)??void 0);let{openEditPreviewModalCallback:w,deleteSelectedItemCallback:T}=e,[P,j]=i.useState(!1),U=i.useMemo(()=>{if(!w&&!T||!P||!b)return null;let e=n?"feed_post_content--editPreviewOverlayWithThumbnails--qtBqt feed_post_content--editPreviewOverlay--0G7ER":"feed_post_content--editPreviewOverlay--0G7ER";return(0,o.jsxs)("div",{className:e,children:[b&&(0,g.aT)(b)&&w&&(0,o.jsx)("div",{children:(0,o.jsx)("button",{onClick:w,className:"feed_post_content--editPreviewButton--x5pLG",children:(0,d.tx)("fig_feed.edit_preview")})}),T&&(0,o.jsx)(p.B,{svg:$.A,className:"feed_post_content--deleteContentItemIcon--EEv9X",onClick:T,autosize:!0,"data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,d.t)("fig_feed.delete"),dataTestId:"delete-content-item"})]})},[P,b,n,w,T]);return(0,o.jsxs)("div",{className:l()("feed_post_content--contentSectionContainer--XLJ4p",t&&"feed_post_content--showOverflow--q8AIY"),children:[(0,o.jsxs)("div",{ref:_,className:n&&!t?"feed_post_content--selectedContentWithThumbnails--nB6E1 feed_post_content--selectedContent--D-AV-":"feed_post_content--selectedContent--D-AV-",style:{backgroundColor:(0,C.m)(b,e.pageBackgroundColor)},onMouseDown:e.onSelectedTileMouseDown,role:"button",tabIndex:0,onPointerEnter:()=>j(!0),onPointerLeave:()=>j(!1),"data-testid":"feed-post-content-section",children:[U,(0,o.jsx)(f.x,{isLoading:!b,children:()=>e.staticContent?(0,o.jsx)(es,{content:b,isThumbnail:!1,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source}):(0,o.jsx)(ei,{contentItems:m.filter(e=>null!==e),selectedIdx:s,editPreviewOptions:e.editPreviewOptions,feedPostUuid:e.feedPostUuid,pageBackgroundColor:a,source:e.source})})]}),I]})}function ea(e){let t,n=i.useRef(null);i.useEffect(()=>{let t=n.current,o=n.current?.children[e.selectedIdx];if(!t||!o)return;let i=t?.getBoundingClientRect();i?.top>=0&&i?.left>=0&&i?.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i?.right<=(window.innerWidth||document.documentElement.clientWidth)&&o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[e.direction,e.selectedIdx]);let s=(t=(0,E.fp)(A)[0],i.useCallback(e=>{t&&t.ref?.current&&(e&&e!==t?.feedPostUuid||t.ref?.current.pause())},[t])),{scrollToItem:d,onReorderCallback:a,setSelectedIdx:c,deleteItem:u}=e,[m,f]=i.useState(null),_=e.thumbnailType||"wide",g=i.useCallback((t,n,i)=>{let a=l()(Z,i&&"feed_post_content--selectedThumbnail--9kE4q","small"===_&&W,"wide"===_&&G);return(0,o.jsxs)("div",{className:a,onMouseDown:()=>{s(e.feedPostUuid),d?.(n),c?.(n)},onPointerEnter:()=>f(n),onPointerLeave:()=>f(null),role:"button",tabIndex:0,style:{backgroundColor:(0,C.m)(t,e.pageBackgroundColor)},"data-testid":`content-item-${n}`,children:[(0,o.jsx)(es,{content:t,isThumbnail:!0,isEditing:e.isEditing}),u&&n===m&&(0,o.jsx)("div",{className:"feed_post_content--thumbnailOverlay--UPYJD",children:(0,o.jsx)("div",{className:"feed_post_content--deleteIcon--F7aUj",onClick:e=>{e.stopPropagation(),u(n)},role:"button",tabIndex:0,children:(0,o.jsx)(b,{})})})]})},[e.pageBackgroundColor,e.feedPostUuid,_,e.isEditing,m,s,d,c,u]),v=t=>{if("horizontal"!==e.direction)return null;let n=e.selectedIdx===("left"===t?0:e.contentItems.length-1);return(0,o.jsx)(h.$,{onMouseDown:()=>{let n=(e.selectedIdx+("left"===t?-1:1)+e.contentItems.length)%e.contentItems.length;c?.(n)},icon:"left"===t?"chevron-left-32":"chevron-right-32",variant:"text",disabled:n})},x=l()("feed_post_content--contentThumbnailsSectionV2--bRRRl","horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionV2_horizontal--pR9DQ":"feed_post_content--contentThumbnailsSectionV2_vertical--PfV-p");if(a)return(0,o.jsx)("div",{className:x,children:(0,o.jsxs)(r._.Group,{axis:"vertical"===e.direction?"y":"x",onReorder:a,values:e.contentItems,className:l()(H,"horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionInnerV2_horizontalReorder--a7UeM":z),role:"button",tabIndex:0,ref:n,children:[e.contentItems.map((t,n)=>(0,o.jsx)(r._.Item,{value:t,id:J(t),translate:"no",children:g(t,n,!(e.canAddContent&&e.isAddingContent)&&n===e.selectedIdx)},J(t))),e.canAddContent&&(0,o.jsx)("div",{className:l()(Z,"small"===e.thumbnailType&&W,"wide"===e.thumbnailType&&G,e.isAddingContent?"feed_post_content--addingActive--UoHEG":"feed_post_content--plusIcon--35EEk"),onMouseDown:e.setAddingActive,role:"button",tabIndex:0,children:(0,o.jsx)(p.B,{svg:Y.A})})]})});{let t=l()(H,"horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionInnerV2_horizontal--PU6Z2":z);return(0,o.jsxs)("div",{className:x,children:[v("left"),(0,o.jsx)("div",{className:t,ref:n,children:e.contentItems.map((t,n)=>(0,o.jsx)(i.Fragment,{children:g(t,n,n===e.selectedIdx)},n))}),v("right")]})}}},510944(e,t,n){n.d(t,{K:()=>X});var o=n(239976),i=n(105652),s=n(645186),d=n(523924),a=n(850159),l=n(335127),r=n(181645),c=n(436174),u=n(490753),m=n(513486),f=n(140979),p=n(116682),h=n(801236),_=n(86057),g=n(824234),v=n(863825),x=n(412427),C=n(985373),b=n(546799),I=n(38900),w=n(936652),T=n(520435),P=n(222541),j=n(865876),U=n(282008),E=n(865780),y=n(773201),k=n(508295),N=n(644350),M=n(840712),A=n(328151),O=n(343038),L=n(839617),D=n(754305),S=n(860857),B=n(615695),R=n(353095),V=n(77400),F=n(179037),H=n(789394),z=n(70598);let Z="feed_post_detail_modal--detailModal--xoRVf",W="feed_post_detail_modal--headerSvg--XJJjB";var G=n(621160),Y=n(947597),$=n(512257),J=n(217169);function K(){return(0,o.jsx)("div",{children:(0,a.t)("fig_feed.post_dne")})}let X=(0,w.Ju)(function(e){let t=(0,s.wA)(),n=(0,E.dq)(),m=(0,y._6)();i.useEffect(()=>{"teamFeed"===m.view||"user"===m.view||"fullscreen"===m.view&&e.inFileView||t(I.Ce())},[t,m,e.inFileView]);let h=i.useRef({selectedView:m,inFileView:e.inFileView});i.useEffect(()=>{h.current={selectedView:m,inFileView:e.inFileView}},[e.inFileView,m]),i.useEffect(()=>()=>{h.current.inFileView||"teamFeed"!==h.current.selectedView.view||t(C.sf({...h.current.selectedView,postUuid:void 0}))},[t]);let _=i.useRef(!1),g=i.useCallback(t=>{_.current||!t||e.autofocusCommentInput||(t.focus(),_.current=!0)},[e.autofocusCommentInput]),x=(0,l.ZC)(e.postUuid);i.useEffect(()=>{!n||e.inFileView||x!==e.postUuid&&"teamFeed"===m.view&&(_.current=!1,c.Ay.replace((0,S.Kc)(n,{uuid:e.postUuid})))},[x,e.postUuid,n,e.inFileView,m]);let b=(0,f.bc)(N.FHz,{publicUuid:e.postUuid});i.useEffect(()=>{!e.inFileView&&b.data?.feedPost?.title&&(0,U.hL)(b.data.feedPost.title)},[e.inFileView,b.data]),i.useEffect(()=>((0,r.sx)("Team Feed Post Details View Visited",{postUuid:e.postUuid}),()=>{(0,r.sx)("Team Feed Post Closed",{postUuid:e.postUuid})}),[e.postUuid]),i.useEffect(()=>{p.Ay.post(`/api/feed_posts/${e.postUuid}/mark_viewed`)},[e.postUuid]);let[w,T]=i.useState(0);i.useEffect(()=>{T(e.selectedContentIdx||0)},[e.postUuid,e.selectedContentIdx]);let P=i.useMemo(()=>b.data?.feedPost?b.data.feedPost.content.map(e=>JSON.parse(e)):[],[b.data]),j=P.length,{requestToOpenPostByFeedIdx:k}=e,M=i.useCallback(t=>{t.keyCode===u.Uz.LEFT_ARROW?0===w?k&&void 0!==e.feedIdx&&k(e.feedIdx-1):T(w-1):t.keyCode===u.Uz.RIGHT_ARROW&&(w===j-1?k&&void 0!==e.feedIdx&&k(e.feedIdx+1):T(w+1))},[w,j,k,e.feedIdx]),[A,O]=i.useState(!0),L=i.useCallback(()=>O(e=>!e),[]),R=b.data?.feedPost||e.initialPreloadedPost;if(i.useEffect(()=>{R||"loaded"!==b.status||(t(v.s.error((0,a.t)("fig_feed.post_dne"))),t(I.Ce()))},[R,b.status,t]),!R)switch(b.status){case"errors":return(0,o.jsx)(K,{});case"loading":return(0,o.jsx)(D.d_,{className:Z,size:"any"});case"loaded":return null;default:(0,d.xb)(b)}return(0,o.jsx)(D.d_,{className:Z,size:"any",children:(0,o.jsx)("div",{className:"feed_post_detail_modal--layout--regT6",role:"listbox",tabIndex:0,onKeyDown:M,ref:g,children:(0,o.jsxs)("div",{className:"feed_post_detail_modal--container--N7ruR",children:[(0,o.jsx)("div",{className:A?"feed_post_detail_modal--contentContainer--H7Une":"feed_post_detail_modal--contentContainerFull--KPsUT feed_post_detail_modal--contentContainer--H7Une",children:(0,o.jsx)(B.x,{contentItems:P,staticContent:!1,selectedContentIdx:w,setSelectedContentIdx:t=>{T(t),e.onSetSelectedContentIdx?.(t)},pageBackgroundColor:R.backgroundColor??void 0,feedPostUuid:e.postUuid,source:S.Zp.DETAIL_MODAL})}),(0,o.jsx)(q,{feedPost:R,contentItems:P,autofocusCommentInput:!!e.autofocusCommentInput,inFileView:e.inFileView,onSidebarToggle:L,show:A})]})})})},"FeedPostDetailsModal",w.ZU.YES);function q(e){let t=(0,s.wA)(),n=(0,k.iZ)(),d=(0,E.dq)(),l=i.useCallback(()=>{t(I.Ce())},[t]),{fileData:r,fileIcon:c,fileLoaded:u,openFile:m}=(0,S.rS)(e.feedPost.publicUuid,e.contentItems,e.feedPost.fileKey),f=(0,S.DG)(e.feedPost.publicUuid,S.dy.DETAIL);if(!d||!n)return null;let p=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--headerContextMenu--Kz-Uw",children:(0,o.jsx)(z.Wu,{feedPost:e.feedPost,source:S.Zp.DETAIL_MODAL})}),(0,o.jsx)("button",{onClick:f,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,a.t)("fig_feed.copy_link_to_post"),children:(0,o.jsx)(g.B,{svg:$.A,className:W})}),(0,o.jsx)("button",{onClick:e.onSidebarToggle,children:(0,o.jsx)(g.B,{svg:Y.A,className:W})}),(0,o.jsx)("button",{onClick:l,children:(0,o.jsx)(g.B,{svg:J.A,className:"feed_post_detail_modal--closeX--HBh0g"})})]});if(!e.show)return(0,o.jsx)("div",{className:"feed_post_detail_modal--sidebarCollapsed--hj3ys feed_post_detail_modal--contentOverlayPill--5a5qA",children:p});let _=(0,o.jsxs)("div",{className:"feed_post_detail_modal--headerContainer--JGvsI",children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--headerTitle--KBJcv",children:(0,a.tx)("fig_feed.details")}),(0,o.jsx)("div",{className:"feed_post_detail_modal--headerRight--ouKBz","data-testid":"feed-modal-open-file",children:p})]}),v=(0,o.jsxs)("div",{className:"feed_post_detail_modal--infoContainer--R3a-D",children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--topRow--ncuUN",children:(0,o.jsx)(V.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,size:x.Pf.MEDIUM,shortDate:!1})}),(0,o.jsx)(ee,{feedPost:e.feedPost,currentOrgId:d,currentUser:n}),u&&!e.inFileView&&(0,o.jsx)("button",{className:"feed_post_detail_modal--fileInfo--I3eTJ",onClick:e.inFileView?void 0:m,children:(0,a.tx)("fig_feed.from_file",{fileComponent:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--detailsFileButtonIcon--L3Kjf",children:(0,o.jsx)(h.w4,{type:c,size:16})}),(0,o.jsx)("span",{className:"feed_post_detail_modal--detailsFileButtonName--FsHPg",children:r.name})]})})}),(0,o.jsx)("div",{className:"feed_post_detail_modal--bottomRow--zMGQ3",children:(0,o.jsx)(F.Q$,{type:F.Us.FULL,source:F.zY.DETAIL_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions})})]});return(0,o.jsxs)("div",{className:"feed_post_detail_modal--rightSideContainer--niABJ",children:[_,(0,o.jsx)(Q,{postInfo:v,comments:e.feedPost.comments,postUuid:e.feedPost.publicUuid,currentUser:n,currentOrgId:d,autofocusCommentInput:e.autofocusCommentInput})]})}function Q(e){let t=(0,s.wA)(),n=i.useRef(null),d=i.useRef(null),[l,r]=i.useState(!1),c=i.useCallback(t=>{0===t.intersectionRatio&&e.comments.length>0?r(!0):r(!1)},[e.comments.length]);(0,L.g)(d,c,{threshold:[0,1]});let u=i.useCallback(()=>{n.current&&n.current.scrollToBottom()},[]),f=e.comments.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()),[p,h]=i.useState(e.comments.length);i.useEffect(()=>{let t=p<e.comments.length;t&&h(e.comments.length);let n=e.comments[e.comments.length-1];t&&n.user.id===e.currentUser.id&&u()},[p,e.comments,e.currentUser,u]);let[v,C]=i.useState([]),I=(0,s.d4)(e=>e.comments.newComment),w=i.useCallback(()=>{t(b.gX({postUuid:e.postUuid,messageMeta:v,attachmentIds:Object.keys(I.attachments)})),C([]),t(T.$M({resetStatusOnly:!1}))},[t,e.postUuid,v,I]),P=i.useMemo(()=>({library:new M.M8(e.currentOrgId,e.postUuid)}),[e.currentOrgId,e.postUuid]),U=i.useCallback(e=>{t(T.nb({attachmentId:e.id,attachment:e}))},[t]),E=i.useCallback((e,n)=>{t(T.nb({attachmentId:e,attachment:null})),n?n.then(()=>O.J.delete(e)):O.J.delete(e)},[t]);return(0,o.jsxs)("div",{className:"feed_post_detail_modal--commentSection--DKshp",children:[(0,o.jsxs)(_.P,{innerClassName:"feed_post_detail_modal--commentSectionScroll--D43GK",useBottomPinning:!0,ref:n,children:[e.postInfo,(0,o.jsx)("div",{ref:d,className:"feed_post_detail_modal--existingComments--bcESV",children:f.map(t=>(0,o.jsx)(R.i,{attachments:t.attachments,commentId:t.id,commentUser:t.user,commentUuid:t.uuid||"",createdAt:t.createdAt,currentOrgId:e.currentOrgId,mentionables:P,messageMeta:(0,j.o8)(t.messageMeta),reactions:t.reactions,user:e.currentUser},t.id))}),l&&(0,o.jsxs)("div",{className:"feed_post_detail_modal--commentsToast--X57Gr",onClick:u,role:"button",tabIndex:0,children:[(0,o.jsx)(g.B,{svg:G.A,className:"feed_post_detail_modal--arrowDown--f--a5"}),(0,a.tx)("fig_feed.num_comments",{numComments:f.length})]})]}),(0,o.jsxs)("div",{className:"feed_post_detail_modal--composerContainer--3Lblv",children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--composerAvatar--k2pZD",children:(0,o.jsx)(x.H8,{user:e.currentUser,size:x.Pf.MEDIUM})}),(0,o.jsx)(H.o,{attachments:Object.values(I.attachments),autofocus:e.autofocusCommentInput,composerContainerClass:"feed_post_detail_modal--composer--YEm5t thread_comment_composer--inputSectionWrapper--Ljawz",currentOrgId:e.currentOrgId,deleteAttachment:E,editableTypeaheadClass:"feed_post_detail_modal--editableTypeahead--L26zX thread_comment_composer--editableTypeahead--xl-hc text--fontPos13--5OfL8 text--_fontBase--VaHfk",editingExistingComment:!1,errorFallback:m.H4.NONE,fallback:null,hideSubmitButton:!1,mentionables:P,messageContent:v,onSubmit:w,updateAttachment:U,updateMessage:C,user:e.currentUser})]})]})}function ee(e){let t=i.useMemo(()=>(0,j.o8)(e.feedPost.descriptionMeta),[e.feedPost.descriptionMeta]);return(0,o.jsxs)("div",{role:"textbox",tabIndex:0,className:"feed_post_detail_modal--postDescription--HYub7",children:[(0,o.jsx)("div",{className:"feed_post_detail_modal--postTitle--B9Nfa feed_tile--postTitle--qzhjX",children:e.feedPost.title}),(0,o.jsx)(P.HH,{messageMeta:t,commentId:e.feedPost.id,className:"feed_post_detail_modal--postDescriptionMessage--Xaesp comment_message--commentMessage--8DQUq"})]})}},353095(e,t,n){n.d(t,{i:()=>b});var o=n(239976),i=n(105652),s=n(645186),d=n(850159),a=n(817527),l=n(513486),r=n(645724),c=n(412427),u=n(546799),m=n(38900),f=n(520435),p=n(791118),h=n(222541),_=n(158078),g=n(107132),v=n(77400),x=n(179037),C=n(789394);function b(e){let t=(0,s.wA)(),[n,d]=(0,a.M)(),[r,m]=i.useState([]);i.useEffect(()=>{m(e.messageMeta)},[e.messageMeta]);let[_,g]=i.useState(!1),b=(0,s.d4)(e=>e.comments.editingComment),w=i.useCallback(n=>{t(f.uy({id:e.commentId,key:e.commentUuid,attachmentId:n.id,attachment:n}))},[t,e.commentId,e.commentUuid]),T=i.useCallback(n=>(t(f.uy({id:e.commentId,key:e.commentUuid,attachmentId:n,attachment:null})),Promise.resolve()),[e.commentId,e.commentUuid,t]),P=i.useCallback(()=>{t(u.cx({commentId:e.commentId,uuid:e.commentUuid,messageMeta:r,attachmentUpdates:b?.attachmentUpdates})),t(f.cL()),g(!1)},[t,b,e.commentId,e.commentUuid,r]),j=i.useCallback(()=>{let n={};e.attachments?.forEach(e=>{n[e.id]=e}),t(f.Df({id:e.commentId,key:e.commentUuid,messageMeta:e.messageMeta,attachmentUpdates:{deleted:[],attachments:n}})),g(!0)},[t,e.commentId,e.commentUuid,e.messageMeta,e.attachments]),U=i.useCallback(()=>{m(e.messageMeta),t(f.pD()),g(!1)},[t,e.messageMeta]),E=e.commentUser.id===e.user.id,y=e.commentId.startsWith(u.v6),k=e.reactions.length>0;return(0,o.jsxs)("div",{className:"feed_post_details_comments--comment--ucaSw",ref:n,children:[(0,o.jsx)("div",{className:"feed_post_details_comments--avatarColumn--6ihwP",children:(0,o.jsx)(v.A,{user:e.commentUser,noHandle:!0,size:c.Pf.MEDIUM})}),(0,o.jsxs)("div",{className:"feed_post_details_comments--commentBody--zq2BU",children:[(0,o.jsxs)("div",{className:"feed_post_details_comments--commentHeader--hUB1u",children:[(0,o.jsx)(v.B,{user:e.commentUser,date:e.createdAt,noAvatar:!0,shortDate:!0}),!_&&E&&(0,o.jsx)(I,{commentId:e.commentId,commentUuid:e.commentUuid,user:e.user,onEdit:j,hideTarget:!d})]}),_?(0,o.jsx)("div",{className:"feed_post_details_comments--editComposerContainer--qq-xy",children:(0,o.jsx)(C.o,{attachments:b?.attachmentUpdates?.attachments?Object.values(b?.attachmentUpdates?.attachments):[],autofocus:!0,composerContainerClass:"feed_post_details_comments--composer--wA3Iv thread_comment_composer--inputSectionWrapper--Ljawz",currentOrgId:e.currentOrgId,deleteAttachment:T,editableTypeaheadClass:"feed_post_details_comments--editableTypeahead--EdHGS thread_comment_composer--editableTypeahead--xl-hc text--fontPos13--5OfL8 text--_fontBase--VaHfk",editingExistingComment:!0,errorFallback:l.H4.NONE,fallback:l.H4.NONE,hideSubmitButton:!1,mentionables:e.mentionables,messageContent:r,onCancel:U,onSubmit:P,updateAttachment:w,updateMessage:m,user:e.user})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"feed_post_details_comments--commentRow--Ntpfq",children:[(0,o.jsx)(h.HH,{messageMeta:r,commentId:e.commentId,className:"feed_post_details_comments--commentMessage--t0r9a"}),!y&&!k&&(0,o.jsx)(x.nn,{type:x.Us.ADD_ONLY,source:x.zY.DETAIL_COMMENT_NO_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!d})]}),e.attachments&&(0,o.jsx)("div",{className:"feed_post_details_comments--attachmentsContainer--W1mm0",children:(0,o.jsx)(p.a,{attachments:e.attachments,canEdit:E,fileKey:""})}),k&&(0,o.jsx)(x.nn,{type:x.Us.FULL,source:x.zY.DETAIL_COMMENT_WITH_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!d})]})]})]})}function I(e){let t,n=(0,s.wA)(),a=i.useCallback(()=>{n((0,m.to)({type:_.E,data:{onConfirm:()=>{n(u.BC({commentId:e.commentId,uuid:e.commentUuid}))}},showModalsBeneath:!0}))},[n,e.commentId,e.commentUuid]),{onEdit:l}=e,c=i.useMemo(()=>[(0,o.jsx)(r.c$,{onClick:l,children:(0,d.tx)("comments.edit")},"edit"),(0,o.jsx)(r.c$,{onClick:a,children:(0,d.tx)("comments.delete_comment")},"delete")],[a,l]);return e.commentId.startsWith(u.v6)?null:(0,o.jsx)(g.V,{hideTarget:e.hideTarget,dropdownId:(t=e.commentId,`COMMENT_SIDEBAR_OVERFLOW_DROPDOWN-${t}`),options:c,lean:"left"})}},77400(e,t,n){n.d(t,{A:()=>_,B:()=>h});var o=n(239976),i=n(105652),s=n(645186),d=n(224542),a=n.n(d),l=n(793619),r=n(883652),c=n(412427),u=n(985373),m=n(928814),f=n(440103);let p="feed_profile_header--profile--5dgrZ";function h(e){let t=e.date&&(0,o.jsx)(r.h1,{date:e.date,style:e.shortDate?"short":void 0,capitalize:!0},"from-now"),n=[(0,o.jsx)("div",{onMouseDown:e.onTileMouseDown,role:"button",tabIndex:0,className:a()(e.onTileMouseDown&&"feed_profile_header--fromNowLinkContainer--AVueC","feed_profile_header--fromNow--EXPIx"),children:t},"from-now")];return(0,o.jsx)("div",{className:p,children:(0,o.jsx)(_,{user:e.user,size:e.size,noAvatar:e.noAvatar,noHandle:e.noHandle,appendToHandle:n})})}function _(e){let t=(0,s.wA)(),n=i.useCallback(n=>{n.stopPropagation(),e.user.id&&t(u.sf({view:"user",userId:e.user.id,userViewTab:f.o.INTERNAL_PROFILE_POSTS}))},[t,e.user.id]),d=e.appendToHandle||!1===e.noHandle;return(0,o.jsxs)("div",{className:p,children:[!e.noAvatar&&(0,o.jsx)(l.N,{onClick:n,trusted:!0,onMouseDown:m.dG,children:(0,o.jsx)(c.H8,{user:e.user,size:e.size??c.Pf.LARGE})}),d&&(0,o.jsxs)("div",{className:"feed_profile_header--content--gVDMt",children:[!e.noHandle&&(0,o.jsx)(l.N,{className:"feed_profile_header--handleLink--hR34b",onClick:n,trusted:!0,children:(0,o.jsx)("div",{className:"feed_profile_header--handle--F-Hkf feed_profile_header--boldLinkText--oyD5r",children:e.user.handle})}),e.appendToHandle]})]})}},789394(e,t,n){n.d(t,{o:()=>o});let o=(0,n(513486).kf)("lazy_feed_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([n.e("7205"),n.e("7945"),n.e("8783"),n.e("6155"),n.e("8991"),n.e("1904"),n.e("907"),n.e("5463")]).then(n.bind(n,832366))).FeedPostCommentComposer})})},714775(e,t,n){n.d(t,{L:()=>s});var o=n(105652),i=n(239976);let s=(0,o.memo)(function(e){return(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h1A2.5 2.5 0 0 1 7 6.5v2A1.5 1.5 0 0 0 8.5 10h2.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L11.293 11H8.5A2.5 2.5 0 0 1 6 8.5v-2A1.5 1.5 0 0 0 4.5 5h-1a.5.5 0 0 1-.5-.5m5.5 0A.5.5 0 0 1 9 4h3.5a.5.5 0 0 1 0 1H9a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})})}}]);

//# debugId=50944a79-ecfa-5c9c-8929-436e873fc8d2

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/6128b1e3ba23de47e62f6055d4614c4b3f87509b/7840-b81db060fd4afa07.min.js.map